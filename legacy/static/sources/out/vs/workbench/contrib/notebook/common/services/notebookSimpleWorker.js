/*!--------------------------------------------------------
 * Copyright (C) Microsoft Corporation. All rights reserved.
 *--------------------------------------------------------*/(function(){var ce=["require","exports","vs/base/common/platform","vs/base/common/strings","vs/base/common/errors","vs/base/common/buffer","vs/base/common/path","vs/base/common/network","vs/base/common/lifecycle","vs/editor/common/model/pieceTreeTextBuffer/pieceTreeBase","vs/editor/common/core/range","vs/base/common/extpath","vs/base/common/uri","vs/platform/instantiation/common/instantiation","vs/base/common/stream","vs/base/common/lazy","vs/base/common/symbols","vs/editor/common/core/eolCounter","vs/editor/common/model/pieceTreeTextBuffer/rbTreeBase","vs/editor/common/model","vs/editor/common/model/textModelSearch","vs/base/common/mime","vs/base/common/resources","vs/base/common/async","vs/base/common/event","vs/base/common/glob","vs/base/common/map","vs/editor/common/core/stringBuilder","vs/editor/common/core/textChange","vs/editor/common/model/pieceTreeTextBuffer/pieceTreeTextBuffer","vs/editor/common/model/pieceTreeTextBuffer/pieceTreeTextBufferBuilder","vs/nls!vs/platform/contextkey/common/contextkey","vs/nls","vs/nls!vs/workbench/contrib/notebook/common/services/notebookSimpleWorker","vs/nls!vs/platform/contextkey/common/scanner","vs/platform/contextkey/common/scanner","vs/platform/instantiation/common/descriptors","vs/platform/instantiation/common/extensions","vs/platform/contextkey/common/contextkey","vs/workbench/services/notebook/common/notebookDocumentService","vs/workbench/contrib/notebook/common/notebookCommon","vs/editor/common/core/position","vs/base/common/types","vs/base/common/cancellation","vs/base/common/arrays","vs/base/common/iterator","vs/workbench/contrib/notebook/common/services/notebookSimpleWorker","vs/base/common/diff/diff","vs/base/common/hash"],oe=function(he){for(var e=[],J=0,D=he.length;J<D;J++)e[J]=ce[he[J]];return e};define(ce[14],oe([0,1,4,8]),function(he,e,J,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$pe=e.$oe=e.$ne=e.$me=e.$le=e.$ke=e.$je=e.$ie=e.$he=e.$ge=e.$fe=e.$ee=e.$de=e.$ce=e.$be=void 0;function z(n){const r=n;return r?typeof r.read=="function":!1}e.$be=z;function S(n){const r=n;return r?[r.on,r.pause,r.resume,r.destroy].every(u=>typeof u=="function"):!1}e.$ce=S;function M(n){const r=n;return r?S(r.stream)&&Array.isArray(r.buffer)&&typeof r.ended=="boolean":!1}e.$de=M;function W(n,r){return new L(n,r)}e.$ee=W;class L{constructor(r,u){this.e=r,this.f=u,this.a={flowing:!1,ended:!1,destroyed:!1},this.b={data:[],error:[]},this.c={data:[],error:[],end:[]},this.d=[]}pause(){this.a.destroyed||(this.a.flowing=!1)}resume(){this.a.destroyed||this.a.flowing||(this.a.flowing=!0,this.j(),this.k(),this.l())}write(r){if(!this.a.destroyed){if(this.a.flowing)this.g(r);else if(this.b.data.push(r),typeof this.f?.highWaterMark=="number"&&this.b.data.length>this.f.highWaterMark)return new Promise(u=>this.d.push(u))}}error(r){this.a.destroyed||(this.a.flowing?this.h(r):this.b.error.push(r))}end(r){this.a.destroyed||(typeof r<"u"&&this.write(r),this.a.flowing?(this.i(),this.destroy()):this.a.ended=!0)}g(r){this.c.data.slice(0).forEach(u=>u(r))}h(r){this.c.error.length===0?(0,J.$1)(r):this.c.error.slice(0).forEach(u=>u(r))}i(){this.c.end.slice(0).forEach(r=>r())}on(r,u){if(!this.a.destroyed)switch(r){case"data":this.c.data.push(u),this.resume();break;case"end":this.c.end.push(u),this.a.flowing&&this.l()&&this.destroy();break;case"error":this.c.error.push(u),this.a.flowing&&this.k();break}}removeListener(r,u){if(this.a.destroyed)return;let m;switch(r){case"data":m=this.c.data;break;case"end":m=this.c.end;break;case"error":m=this.c.error;break}if(m){const I=m.indexOf(u);I>=0&&m.splice(I,1)}}j(){if(this.b.data.length>0){const r=this.e(this.b.data);this.g(r),this.b.data.length=0;const u=[...this.d];this.d.length=0,u.forEach(m=>m())}}k(){if(this.c.error.length>0){for(const r of this.b.error)this.h(r);this.b.error.length=0}}l(){return this.a.ended?(this.i(),this.c.end.length>0):!1}destroy(){this.a.destroyed||(this.a.destroyed=!0,this.a.ended=!0,this.b.data.length=0,this.b.error.length=0,this.c.data.length=0,this.c.error.length=0,this.c.end.length=0,this.d.length=0)}}function $(n,r){const u=[];let m;for(;(m=n.read())!==null;)u.push(m);return r(u)}e.$fe=$;function w(n,r,u){const m=[];let I;for(;(I=n.read())!==null&&m.length<u;)m.push(I);return I===null&&m.length>0?r(m):{read:()=>{if(m.length>0)return m.shift();if(typeof I<"u"){const P=I;return I=void 0,P}return n.read()}}}e.$ge=w;function V(n,r){return new Promise((u,m)=>{const I=[];o(n,{onData:P=>{r&&I.push(P)},onError:P=>{r?m(P):u(void 0)},onEnd:()=>{u(r?r(I):void 0)}})})}e.$he=V;function o(n,r,u){n.on("error",m=>{u?.isCancellationRequested||r.onError(m)}),n.on("end",()=>{u?.isCancellationRequested||r.onEnd()}),n.on("data",m=>{u?.isCancellationRequested||r.onData(m)})}e.$ie=o;function p(n,r){return new Promise((u,m)=>{const I=new D.$Sc,P=[],O=R=>{if(P.push(R),P.length>r)return I.dispose(),n.pause(),u({stream:n,buffer:P,ended:!1})},a=R=>(I.dispose(),m(R)),y=()=>(I.dispose(),u({stream:n,buffer:P,ended:!0}));I.add((0,D.$Rc)(()=>n.removeListener("error",a))),n.on("error",a),I.add((0,D.$Rc)(()=>n.removeListener("end",y))),n.on("end",y),I.add((0,D.$Rc)(()=>n.removeListener("data",O))),n.on("data",O)})}e.$je=p;function g(n,r){const u=W(r);return u.end(n),u}e.$ke=g;function c(){const n=W(()=>{throw new Error("not supported")});return n.end(),n}e.$le=c;function l(n){let r=!1;return{read:()=>r?null:(r=!0,n)}}e.$me=l;function h(n,r,u){const m=W(u);return o(n,{onData:I=>m.write(r.data(I)),onError:I=>m.error(r.error?r.error(I):I),onEnd:()=>m.end()}),m}e.$ne=h;function t(n,r,u){let m=!1;return{read:()=>{const I=r.read();return m?I:(m=!0,I!==null?u([n,I]):n)}}}e.$oe=t;function s(n,r,u){let m=!1;const I=W(u);return o(r,{onData:P=>m?I.write(P):(m=!0,I.write(u([n,P]))),onError:P=>I.error(P),onEnd:()=>{m||(m=!0,I.write(n)),I.end()}}),I}e.$pe=s}),define(ce[5],oe([0,1,15,14]),function(he,e,J,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Ke=e.$Je=e.$Ie=e.$He=e.$Ge=e.$Fe=e.$Ee=e.$De=e.$Ce=e.$Be=e.$Ae=e.$ze=e.$ye=e.$xe=e.$we=e.$ve=e.$ue=e.$te=e.$se=e.$re=e.$qe=void 0;const z=typeof Buffer<"u",S=new J.$V(()=>new Uint8Array(256));let M,W;class L{static alloc(b){return z?new L(Buffer.allocUnsafe(b)):new L(new Uint8Array(b))}static wrap(b){return z&&!Buffer.isBuffer(b)&&(b=Buffer.from(b.buffer,b.byteOffset,b.byteLength)),new L(b)}static fromString(b,U){return!(U?.dontUseNodeBuffer||!1)&&z?new L(Buffer.from(b)):(M||(M=new TextEncoder),new L(M.encode(b)))}static fromByteArray(b){const U=L.alloc(b.length);for(let x=0,ie=b.length;x<ie;x++)U.buffer[x]=b[x];return U}static concat(b,U){if(typeof U>"u"){U=0;for(let le=0,re=b.length;le<re;le++)U+=b[le].byteLength}const x=L.alloc(U);let ie=0;for(let le=0,re=b.length;le<re;le++){const ne=b[le];x.set(ne,ie),ie+=ne.byteLength}return x}constructor(b){this.buffer=b,this.byteLength=this.buffer.byteLength}clone(){const b=L.alloc(this.byteLength);return b.set(this),b}toString(){return z?this.buffer.toString():(W||(W=new TextDecoder),W.decode(this.buffer))}slice(b,U){return new L(this.buffer.subarray(b,U))}set(b,U){if(b instanceof L)this.buffer.set(b.buffer,U);else if(b instanceof Uint8Array)this.buffer.set(b,U);else if(b instanceof ArrayBuffer)this.buffer.set(new Uint8Array(b),U);else if(ArrayBuffer.isView(b))this.buffer.set(new Uint8Array(b.buffer,b.byteOffset,b.byteLength),U);else throw new Error("Unknown argument 'array'")}readUInt32BE(b){return o(this.buffer,b)}writeUInt32BE(b,U){p(this.buffer,b,U)}readUInt32LE(b){return g(this.buffer,b)}writeUInt32LE(b,U){c(this.buffer,b,U)}readUInt8(b){return l(this.buffer,b)}writeUInt8(b,U){h(this.buffer,b,U)}indexOf(b,U=0){return $(this.buffer,b instanceof L?b.buffer:b,U)}}e.$qe=L;function $(k,b,U=0){const x=b.byteLength,ie=k.byteLength;if(x===0)return 0;if(x===1)return k.indexOf(b[0]);if(x>ie-U)return-1;const le=S.value;le.fill(b.length);for(let C=0;C<b.length;C++)le[b[C]]=b.length-C-1;let re=U+b.length-1,ne=re,ue=-1;for(;re<ie;)if(k[re]===b[ne]){if(ne===0){ue=re;break}re--,ne--}else re+=Math.max(b.length-ne,le[k[re]]),ne=b.length-1;return ue}e.$re=$;function w(k,b){return k[b+0]<<0>>>0|k[b+1]<<8>>>0}e.$se=w;function V(k,b,U){k[U+0]=b&255,b=b>>>8,k[U+1]=b&255}e.$te=V;function o(k,b){return k[b]*2**24+k[b+1]*2**16+k[b+2]*2**8+k[b+3]}e.$ue=o;function p(k,b,U){k[U+3]=b,b=b>>>8,k[U+2]=b,b=b>>>8,k[U+1]=b,b=b>>>8,k[U]=b}e.$ve=p;function g(k,b){return k[b+0]<<0>>>0|k[b+1]<<8>>>0|k[b+2]<<16>>>0|k[b+3]<<24>>>0}e.$we=g;function c(k,b,U){k[U+0]=b&255,b=b>>>8,k[U+1]=b&255,b=b>>>8,k[U+2]=b&255,b=b>>>8,k[U+3]=b&255}e.$xe=c;function l(k,b){return k[b]}e.$ye=l;function h(k,b,U){k[U]=b}e.$ze=h;function t(k){return D.$fe(k,b=>L.concat(b))}e.$Ae=t;function s(k){return D.$me(k)}e.$Be=s;function n(k){return D.$he(k,b=>L.concat(b))}e.$Ce=n;async function r(k){return k.ended?L.concat(k.buffer):L.concat([...k.buffer,await n(k.stream)])}e.$De=r;function u(k){return D.$ke(k,b=>L.concat(b))}e.$Ee=u;function m(k){return D.$ne(k,{data:b=>typeof b=="string"?L.fromString(b):L.wrap(b)},b=>L.concat(b))}e.$Fe=m;function I(k){return D.$ee(b=>L.concat(b),k)}e.$Ge=I;function P(k,b){return D.$oe(k,b,U=>L.concat(U))}e.$He=P;function O(k,b){return D.$pe(k,b,U=>L.concat(U))}e.$Ie=O;function a(k){let b=0,U=0,x=0;const ie=new Uint8Array(Math.floor(k.length/4*3)),le=ne=>{switch(U){case 3:ie[x++]=b|ne,U=0;break;case 2:ie[x++]=b|ne>>>2,b=ne<<6,U=3;break;case 1:ie[x++]=b|ne>>>4,b=ne<<4,U=2;break;default:b=ne<<2,U=1}};for(let ne=0;ne<k.length;ne++){const ue=k.charCodeAt(ne);if(ue>=65&&ue<=90)le(ue-65);else if(ue>=97&&ue<=122)le(ue-97+26);else if(ue>=48&&ue<=57)le(ue-48+52);else if(ue===43||ue===45)le(62);else if(ue===47||ue===95)le(63);else{if(ue===61)break;throw new SyntaxError(`Unexpected base64 character ${k[ne]}`)}}const re=x;for(;U>0;)le(0);return L.wrap(ie).slice(0,re)}e.$Je=a;const y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",R="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_";function G({buffer:k},b=!0,U=!1){const x=U?R:y;let ie="";const le=k.byteLength%3;let re=0;for(;re<k.byteLength-le;re+=3){const ne=k[re+0],ue=k[re+1],C=k[re+2];ie+=x[ne>>>2],ie+=x[(ne<<4|ue>>>4)&63],ie+=x[(ue<<2|C>>>6)&63],ie+=x[C&63]}if(le===1){const ne=k[re+0];ie+=x[ne>>>2],ie+=x[ne<<4&63],b&&(ie+="==")}else if(le===2){const ne=k[re+0],ue=k[re+1];ie+=x[ne>>>2],ie+=x[(ne<<4|ue>>>4)&63],ie+=x[ue<<2&63],b&&(ie+="=")}return ie}e.$Ke=G}),define(ce[16],oe([0,1]),function(he,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Zd=void 0,e.$Zd=Symbol("MicrotaskDelay")}),define(ce[17],oe([0,1]),function(he,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Dt=e.StringEOL=void 0;var J;(function(z){z[z.Unknown=0]="Unknown",z[z.Invalid=3]="Invalid",z[z.LF=1]="LF",z[z.CRLF=2]="CRLF"})(J||(e.StringEOL=J={}));function D(z){let S=0,M=0,W=0,L=0;for(let $=0,w=z.length;$<w;$++){const V=z.charCodeAt($);V===13?(S===0&&(M=$),S++,$+1<w&&z.charCodeAt($+1)===10?(L|=2,$++):L|=3,W=$+1):V===10&&(L|=1,S===0&&(M=$),S++,W=$+1)}return S===0&&(M=z.length),[S,M,z.length-W,L]}e.$Dt=D}),define(ce[18],oe([0,1]),function(he,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$$B=e.$0B=e.$9B=e.$8B=e.$7B=e.$6B=e.$5B=e.$4B=e.$3B=e.NodeColor=e.$2B=void 0;class J{constructor(l,h){this.piece=l,this.color=h,this.size_left=0,this.lf_left=0,this.parent=this,this.left=this,this.right=this}next(){if(this.right!==e.$3B)return z(this.right);let l=this;for(;l.parent!==e.$3B&&l.parent.left!==l;)l=l.parent;return l.parent===e.$3B?e.$3B:l.parent}prev(){if(this.left!==e.$3B)return S(this.left);let l=this;for(;l.parent!==e.$3B&&l.parent.right!==l;)l=l.parent;return l.parent===e.$3B?e.$3B:l.parent}detach(){this.parent=null,this.left=null,this.right=null}}e.$2B=J;var D;(function(c){c[c.Black=0]="Black",c[c.Red=1]="Red"})(D||(e.NodeColor=D={})),e.$3B=new J(null,0),e.$3B.parent=e.$3B,e.$3B.left=e.$3B,e.$3B.right=e.$3B,e.$3B.color=0;function z(c){for(;c.left!==e.$3B;)c=c.left;return c}e.$4B=z;function S(c){for(;c.right!==e.$3B;)c=c.right;return c}e.$5B=S;function M(c){return c===e.$3B?0:c.size_left+c.piece.length+M(c.right)}function W(c){return c===e.$3B?0:c.lf_left+c.piece.lineFeedCnt+W(c.right)}function L(){e.$3B.parent=e.$3B}function $(c,l){const h=l.right;h.size_left+=l.size_left+(l.piece?l.piece.length:0),h.lf_left+=l.lf_left+(l.piece?l.piece.lineFeedCnt:0),l.right=h.left,h.left!==e.$3B&&(h.left.parent=l),h.parent=l.parent,l.parent===e.$3B?c.root=h:l.parent.left===l?l.parent.left=h:l.parent.right=h,h.left=l,l.parent=h}e.$6B=$;function w(c,l){const h=l.left;l.left=h.right,h.right!==e.$3B&&(h.right.parent=l),h.parent=l.parent,l.size_left-=h.size_left+(h.piece?h.piece.length:0),l.lf_left-=h.lf_left+(h.piece?h.piece.lineFeedCnt:0),l.parent===e.$3B?c.root=h:l===l.parent.right?l.parent.right=h:l.parent.left=h,h.right=l,l.parent=h}e.$7B=w;function V(c,l){let h,t;if(l.left===e.$3B?(t=l,h=t.right):l.right===e.$3B?(t=l,h=t.left):(t=z(l.right),h=t.right),t===c.root){c.root=h,h.color=0,l.detach(),L(),c.root.parent=e.$3B;return}const s=t.color===1;if(t===t.parent.left?t.parent.left=h:t.parent.right=h,t===l?(h.parent=t.parent,g(c,h)):(t.parent===l?h.parent=t:h.parent=t.parent,g(c,h),t.left=l.left,t.right=l.right,t.parent=l.parent,t.color=l.color,l===c.root?c.root=t:l===l.parent.left?l.parent.left=t:l.parent.right=t,t.left!==e.$3B&&(t.left.parent=t),t.right!==e.$3B&&(t.right.parent=t),t.size_left=l.size_left,t.lf_left=l.lf_left,g(c,t)),l.detach(),h.parent.left===h){const r=M(h),u=W(h);if(r!==h.parent.size_left||u!==h.parent.lf_left){const m=r-h.parent.size_left,I=u-h.parent.lf_left;h.parent.size_left=r,h.parent.lf_left=u,p(c,h.parent,m,I)}}if(g(c,h.parent),s){L();return}let n;for(;h!==c.root&&h.color===0;)h===h.parent.left?(n=h.parent.right,n.color===1&&(n.color=0,h.parent.color=1,$(c,h.parent),n=h.parent.right),n.left.color===0&&n.right.color===0?(n.color=1,h=h.parent):(n.right.color===0&&(n.left.color=0,n.color=1,w(c,n),n=h.parent.right),n.color=h.parent.color,h.parent.color=0,n.right.color=0,$(c,h.parent),h=c.root)):(n=h.parent.left,n.color===1&&(n.color=0,h.parent.color=1,w(c,h.parent),n=h.parent.left),n.left.color===0&&n.right.color===0?(n.color=1,h=h.parent):(n.left.color===0&&(n.right.color=0,n.color=1,$(c,n),n=h.parent.left),n.color=h.parent.color,h.parent.color=0,n.left.color=0,w(c,h.parent),h=c.root));h.color=0,L()}e.$8B=V;function o(c,l){for(g(c,l);l!==c.root&&l.parent.color===1;)if(l.parent===l.parent.parent.left){const h=l.parent.parent.right;h.color===1?(l.parent.color=0,h.color=0,l.parent.parent.color=1,l=l.parent.parent):(l===l.parent.right&&(l=l.parent,$(c,l)),l.parent.color=0,l.parent.parent.color=1,w(c,l.parent.parent))}else{const h=l.parent.parent.left;h.color===1?(l.parent.color=0,h.color=0,l.parent.parent.color=1,l=l.parent.parent):(l===l.parent.left&&(l=l.parent,w(c,l)),l.parent.color=0,l.parent.parent.color=1,$(c,l.parent.parent))}c.root.color=0}e.$9B=o;function p(c,l,h,t){for(;l!==c.root&&l!==e.$3B;)l.parent.left===l&&(l.parent.size_left+=h,l.parent.lf_left+=t),l=l.parent}e.$0B=p;function g(c,l){let h=0,t=0;if(l!==c.root){for(;l!==c.root&&l===l.parent.right;)l=l.parent;if(l!==c.root)for(l=l.parent,h=M(l.left)-l.size_left,t=W(l.left)-l.lf_left,l.size_left+=h,l.lf_left+=t;l!==c.root&&(h!==0||t!==0);)l.parent.left===l&&(l.parent.size_left+=h,l.parent.lf_left+=t),l=l.parent}}e.$$B=g}),define(ce[9],oe([0,1,41,10,19,18,20]),function(he,e,J,D,z,S,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$jC=e.$iC=e.$hC=e.$gC=e.$fC=void 0;const W=65535;function L(h){let t;return h[h.length-1]<65536?t=new Uint16Array(h.length):t=new Uint32Array(h.length),t.set(h,0),t}class ${constructor(t,s,n,r,u){this.lineStarts=t,this.cr=s,this.lf=n,this.crlf=r,this.isBasicASCII=u}}function w(h,t=!0){const s=[0];let n=1;for(let r=0,u=h.length;r<u;r++){const m=h.charCodeAt(r);m===13?r+1<u&&h.charCodeAt(r+1)===10?(s[n++]=r+2,r++):s[n++]=r+1:m===10&&(s[n++]=r+1)}return t?L(s):s}e.$fC=w;function V(h,t){h.length=0,h[0]=0;let s=1,n=0,r=0,u=0,m=!0;for(let P=0,O=t.length;P<O;P++){const a=t.charCodeAt(P);a===13?P+1<O&&t.charCodeAt(P+1)===10?(u++,h[s++]=P+2,P++):(n++,h[s++]=P+1):a===10?(r++,h[s++]=P+1):m&&a!==9&&(a<32||a>126)&&(m=!1)}const I=new $(L(h),n,r,u,m);return h.length=0,I}e.$gC=V;class o{constructor(t,s,n,r,u){this.bufferIndex=t,this.start=s,this.end=n,this.lineFeedCnt=r,this.length=u}}e.$hC=o;class p{constructor(t,s){this.buffer=t,this.lineStarts=s}}e.$iC=p;class g{constructor(t,s){this.a=[],this.c=t,this.d=s,this.b=0,t.root!==S.$3B&&t.iterate(t.root,n=>(n!==S.$3B&&this.a.push(n.piece),!0))}read(){return this.a.length===0?this.b===0?(this.b++,this.d):null:this.b>this.a.length-1?null:this.b===0?this.d+this.c.getPieceContent(this.a[this.b++]):this.c.getPieceContent(this.a[this.b++])}}class c{constructor(t){this.a=t,this.b=[]}get(t){for(let s=this.b.length-1;s>=0;s--){const n=this.b[s];if(n.nodeStartOffset<=t&&n.nodeStartOffset+n.node.piece.length>=t)return n}return null}get2(t){for(let s=this.b.length-1;s>=0;s--){const n=this.b[s];if(n.nodeStartLineNumber&&n.nodeStartLineNumber<t&&n.nodeStartLineNumber+n.node.piece.lineFeedCnt>=t)return n}return null}set(t){this.b.length>=this.a&&this.b.shift(),this.b.push(t)}validate(t){let s=!1;const n=this.b;for(let r=0;r<n.length;r++){const u=n[r];if(u.node.parent===null||u.nodeStartOffset>=t){n[r]=null,s=!0;continue}}if(s){const r=[];for(const u of n)u!==null&&r.push(u);this.b=r}}}class l{constructor(t,s,n){this.create(t,s,n)}create(t,s,n){this.a=[new p("",[0])],this.g={line:0,column:0},this.root=S.$3B,this.b=1,this.c=0,this.d=s,this.e=s.length,this.f=n;let r=null;for(let u=0,m=t.length;u<m;u++)if(t[u].buffer.length>0){t[u].lineStarts||(t[u].lineStarts=w(t[u].buffer));const I=new o(u+1,{line:0,column:0},{line:t[u].lineStarts.length-1,column:t[u].buffer.length-t[u].lineStarts[t[u].lineStarts.length-1]},t[u].lineStarts.length-1,t[u].buffer.length);this.a.push(t[u]),r=this.S(r,I)}this.h=new c(1),this.j={lineNumber:0,value:""},this.y()}normalizeEOL(t){const s=W,n=s-Math.floor(s/3),r=n*2;let u="",m=0;const I=[];if(this.iterate(this.root,P=>{const O=this.R(P),a=O.length;if(m<=n||m+a<r)return u+=O,m+=a,!0;const y=u.replace(/\r\n|\r|\n/g,t);return I.push(new p(y,w(y))),u=O,m=a,!0}),m>0){const P=u.replace(/\r\n|\r|\n/g,t);I.push(new p(P,w(P)))}this.create(I,t,!0)}getEOL(){return this.d}setEOL(t){this.d=t,this.e=this.d.length,this.normalizeEOL(t)}createSnapshot(t){return new g(this,t)}equal(t){if(this.getLength()!==t.getLength()||this.getLineCount()!==t.getLineCount())return!1;let s=0;return this.iterate(this.root,r=>{if(r===S.$3B)return!0;const u=this.R(r),m=u.length,I=t.G(s),P=t.G(s+m),O=t.getValueInRange2(I,P);return s+=m,u===O})}getOffsetAt(t,s){let n=0,r=this.root;for(;r!==S.$3B;)if(r.left!==S.$3B&&r.lf_left+1>=t)r=r.left;else if(r.lf_left+r.piece.lineFeedCnt+1>=t){n+=r.size_left;const u=this.B(r,t-r.lf_left-2);return n+=u+s-1}else t-=r.lf_left+r.piece.lineFeedCnt,n+=r.size_left+r.piece.length,r=r.right;return n}getPositionAt(t){t=Math.floor(t),t=Math.max(0,t);let s=this.root,n=0;const r=t;for(;s!==S.$3B;)if(s.size_left!==0&&s.size_left>=t)s=s.left;else if(s.size_left+s.piece.length>=t){const u=this.A(s,t-s.size_left);if(n+=s.lf_left+u.index,u.index===0){const m=this.getOffsetAt(n+1,1),I=r-m;return new J.$3s(n+1,I+1)}return new J.$3s(n+1,u.remainder+1)}else if(t-=s.size_left+s.piece.length,n+=s.lf_left+s.piece.lineFeedCnt,s.right===S.$3B){const u=this.getOffsetAt(n+1,1),m=r-t-u;return new J.$3s(n+1,m+1)}else s=s.right;return new J.$3s(1,1)}getValueInRange(t,s){if(t.startLineNumber===t.endLineNumber&&t.startColumn===t.endColumn)return"";const n=this.H(t.startLineNumber,t.startColumn),r=this.H(t.endLineNumber,t.endColumn),u=this.getValueInRange2(n,r);return s?s!==this.d||!this.f?u.replace(/\r\n|\r|\n/g,s):s===this.getEOL()&&this.f?u:u.replace(/\r\n|\r|\n/g,s):u}getValueInRange2(t,s){if(t.node===s.node){const I=t.node,P=this.a[I.piece.bufferIndex].buffer,O=this.u(I.piece.bufferIndex,I.piece.start);return P.substring(O+t.remainder,O+s.remainder)}let n=t.node;const r=this.a[n.piece.bufferIndex].buffer,u=this.u(n.piece.bufferIndex,n.piece.start);let m=r.substring(u+t.remainder,u+n.piece.length);for(n=n.next();n!==S.$3B;){const I=this.a[n.piece.bufferIndex].buffer,P=this.u(n.piece.bufferIndex,n.piece.start);if(n===s.node){m+=I.substring(P,P+s.remainder);break}else m+=I.substr(P,n.piece.length);n=n.next()}return m}getLinesContent(){const t=[];let s=0,n="",r=!1;return this.iterate(this.root,u=>{if(u===S.$3B)return!0;const m=u.piece;let I=m.length;if(I===0)return!0;const P=this.a[m.bufferIndex].buffer,O=this.a[m.bufferIndex].lineStarts,a=m.start.line,y=m.end.line;let R=O[a]+m.start.column;if(r&&(P.charCodeAt(R)===10&&(R++,I--),t[s++]=n,n="",r=!1,I===0))return!0;if(a===y)return!this.f&&P.charCodeAt(R+I-1)===13?(r=!0,n+=P.substr(R,I-1)):n+=P.substr(R,I),!0;n+=this.f?P.substring(R,Math.max(R,O[a+1]-this.e)):P.substring(R,O[a+1]).replace(/(\r\n|\r|\n)$/,""),t[s++]=n;for(let G=a+1;G<y;G++)n=this.f?P.substring(O[G],O[G+1]-this.e):P.substring(O[G],O[G+1]).replace(/(\r\n|\r|\n)$/,""),t[s++]=n;return!this.f&&P.charCodeAt(O[y]+m.end.column-1)===13?(r=!0,m.end.column===0?s--:n=P.substr(O[y],m.end.column-1)):n=P.substr(O[y],m.end.column),!0}),r&&(t[s++]=n,n=""),t[s++]=n,t}getLength(){return this.c}getLineCount(){return this.b}getLineContent(t){return this.j.lineNumber===t?this.j.value:(this.j.lineNumber=t,t===this.b?this.j.value=this.getLineRawContent(t):this.f?this.j.value=this.getLineRawContent(t,this.e):this.j.value=this.getLineRawContent(t).replace(/(\r\n|\r|\n)$/,""),this.j.value)}l(t){if(t.remainder===t.node.piece.length){const s=t.node.next();if(!s)return 0;const n=this.a[s.piece.bufferIndex],r=this.u(s.piece.bufferIndex,s.piece.start);return n.buffer.charCodeAt(r)}else{const s=this.a[t.node.piece.bufferIndex],r=this.u(t.node.piece.bufferIndex,t.node.piece.start)+t.remainder;return s.buffer.charCodeAt(r)}}getLineCharCode(t,s){const n=this.H(t,s+1);return this.l(n)}getLineLength(t){if(t===this.getLineCount()){const s=this.getOffsetAt(t,1);return this.getLength()-s}return this.getOffsetAt(t+1,1)-this.getOffsetAt(t,1)-this.e}getCharCode(t){const s=this.G(t);return this.l(s)}findMatchesInNode(t,s,n,r,u,m,I,P,O,a,y){const R=this.a[t.piece.bufferIndex],G=this.u(t.piece.bufferIndex,t.piece.start),k=this.u(t.piece.bufferIndex,u),b=this.u(t.piece.bufferIndex,m);let U;const x={line:0,column:0};let ie,le;s._wordSeparators?(ie=R.buffer.substring(k,b),le=re=>re+k,s.reset(0)):(ie=R.buffer,le=re=>re,s.reset(k));do if(U=s.next(ie),U){if(le(U.index)>=b)return a;this.s(t,le(U.index)-G,x);const re=this.t(t.piece.bufferIndex,u,x),ne=x.line===u.line?x.column-u.column+r:x.column+1,ue=ne+U[0].length;if(y[a++]=(0,M.$bC)(new D.$4s(n+re,ne,n+re,ue),U,P),le(U.index)+U[0].length>=b||a>=O)return a}while(U);return a}findMatchesLineByLine(t,s,n,r){const u=[];let m=0;const I=new M.$eC(s.wordSeparators,s.regex);let P=this.H(t.startLineNumber,t.startColumn);if(P===null)return[];const O=this.H(t.endLineNumber,t.endColumn);if(O===null)return[];let a=this.s(P.node,P.remainder);const y=this.s(O.node,O.remainder);if(P.node===O.node)return this.findMatchesInNode(P.node,I,t.startLineNumber,t.startColumn,a,y,s,n,r,m,u),u;let R=t.startLineNumber,G=P.node;for(;G!==O.node;){const b=this.t(G.piece.bufferIndex,a,G.piece.end);if(b>=1){const x=this.a[G.piece.bufferIndex].lineStarts,ie=this.u(G.piece.bufferIndex,G.piece.start),le=x[a.line+b],re=R===t.startLineNumber?t.startColumn:1;if(m=this.findMatchesInNode(G,I,R,re,a,this.s(G,le-ie),s,n,r,m,u),m>=r)return u;R+=b}const U=R===t.startLineNumber?t.startColumn-1:0;if(R===t.endLineNumber){const x=this.getLineContent(R).substring(U,t.endColumn-1);return m=this.n(s,I,x,t.endLineNumber,U,m,u,n,r),u}if(m=this.n(s,I,this.getLineContent(R).substr(U),R,U,m,u,n,r),m>=r)return u;R++,P=this.H(R,1),G=P.node,a=this.s(P.node,P.remainder)}if(R===t.endLineNumber){const b=R===t.startLineNumber?t.startColumn-1:0,U=this.getLineContent(R).substring(b,t.endColumn-1);return m=this.n(s,I,U,t.endLineNumber,b,m,u,n,r),u}const k=R===t.startLineNumber?t.startColumn:1;return m=this.findMatchesInNode(O.node,I,R,k,a,y,s,n,r,m,u),u}n(t,s,n,r,u,m,I,P,O){const a=t.wordSeparators;if(!P&&t.simpleSearch){const R=t.simpleSearch,G=R.length,k=n.length;let b=-G;for(;(b=n.indexOf(R,b+G))!==-1;)if((!a||(0,M.$dC)(a,n,k,b,G))&&(I[m++]=new z.$jv(new D.$4s(r,b+1+u,r,b+1+G+u),null),m>=O))return m;return m}let y;s.reset(0);do if(y=s.next(n),y&&(I[m++]=(0,M.$bC)(new D.$4s(r,y.index+1+u,r,y.index+1+y[0].length+u),y,P),m>=O))return m;while(y);return m}insert(t,s,n=!1){if(this.f=this.f&&n,this.j.lineNumber=0,this.j.value="",this.root!==S.$3B){const{node:r,remainder:u,nodeStartOffset:m}=this.G(t),I=r.piece,P=I.bufferIndex,O=this.s(r,u);if(r.piece.bufferIndex===0&&I.end.line===this.g.line&&I.end.column===this.g.column&&m+I.length===t&&s.length<W){this.F(r,s),this.y();return}if(m===t)this.o(s,r),this.h.validate(t);else if(m+r.piece.length>t){const a=[];let y=new o(I.bufferIndex,O,I.end,this.t(I.bufferIndex,O,I.end),this.u(P,I.end)-this.u(P,O));if(this.K()&&this.M(s)&&this.I(r,u)===10){const b={line:y.start.line+1,column:0};y=new o(y.bufferIndex,b,y.end,this.t(y.bufferIndex,b,y.end),y.length-1),s+=`
`}if(this.K()&&this.L(s))if(this.I(r,u-1)===13){const b=this.s(r,u-1);this.C(r,b),s="\r"+s,r.piece.length===0&&a.push(r)}else this.C(r,O);else this.C(r,O);const R=this.w(s);y.length>0&&this.S(r,y);let G=r;for(let k=0;k<R.length;k++)G=this.S(G,R[k]);this.v(a)}else this.q(s,r)}else{const r=this.w(s);let u=this.T(null,r[0]);for(let m=1;m<r.length;m++)u=this.S(u,r[m])}this.y()}delete(t,s){if(this.j.lineNumber=0,this.j.value="",s<=0||this.root===S.$3B)return;const n=this.G(t),r=this.G(t+s),u=n.node,m=r.node;if(u===m){const R=this.s(u,n.remainder),G=this.s(u,r.remainder);if(n.nodeStartOffset===t){if(s===u.piece.length){const k=u.next();(0,S.$8B)(this,u),this.N(k),this.y();return}this.D(u,G),this.h.validate(t),this.N(u),this.y();return}if(n.nodeStartOffset+u.piece.length===t+s){this.C(u,R),this.O(u),this.y();return}this.E(u,R,G),this.y();return}const I=[],P=this.s(u,n.remainder);this.C(u,P),this.h.validate(t),u.piece.length===0&&I.push(u);const O=this.s(m,r.remainder);this.D(m,O),m.piece.length===0&&I.push(m);const a=u.next();for(let R=a;R!==S.$3B&&R!==m;R=R.next())I.push(R);const y=u.piece.length===0?u.prev():u;this.v(I),this.O(y),this.y()}o(t,s){const n=[];if(this.K()&&this.M(t)&&this.L(s)){const m=s.piece,I={line:m.start.line+1,column:0},P=new o(m.bufferIndex,I,m.end,this.t(m.bufferIndex,I,m.end),m.length-1);s.piece=P,t+=`
`,(0,S.$0B)(this,s,-1,-1),s.piece.length===0&&n.push(s)}const r=this.w(t);let u=this.T(s,r[r.length-1]);for(let m=r.length-2;m>=0;m--)u=this.T(u,r[m]);this.N(u),this.v(n)}q(t,s){this.Q(t,s)&&(t+=`
`);const n=this.w(t),r=this.S(s,n[0]);let u=r;for(let m=1;m<n.length;m++)u=this.S(u,n[m]);this.N(r)}s(t,s,n){const r=t.piece,u=t.piece.bufferIndex,m=this.a[u].lineStarts,P=m[r.start.line]+r.start.column+s;let O=r.start.line,a=r.end.line,y=0,R=0,G=0;for(;O<=a&&(y=O+(a-O)/2|0,G=m[y],y!==a);)if(R=m[y+1],P<G)a=y-1;else if(P>=R)O=y+1;else break;return n?(n.line=y,n.column=P-G,null):{line:y,column:P-G}}t(t,s,n){if(n.column===0)return n.line-s.line;const r=this.a[t].lineStarts;if(n.line===r.length-1)return n.line-s.line;const u=r[n.line+1],m=r[n.line]+n.column;if(u>m+1)return n.line-s.line;const I=m-1;return this.a[t].buffer.charCodeAt(I)===13?n.line-s.line+1:n.line-s.line}u(t,s){return this.a[t].lineStarts[s.line]+s.column}v(t){for(let s=0;s<t.length;s++)(0,S.$8B)(this,t[s])}w(t){if(t.length>W){const a=[];for(;t.length>W;){const R=t.charCodeAt(W-1);let G;R===13||R>=55296&&R<=56319?(G=t.substring(0,W-1),t=t.substring(W-1)):(G=t.substring(0,W),t=t.substring(W));const k=w(G);a.push(new o(this.a.length,{line:0,column:0},{line:k.length-1,column:G.length-k[k.length-1]},k.length-1,G.length)),this.a.push(new p(G,k))}const y=w(t);return a.push(new o(this.a.length,{line:0,column:0},{line:y.length-1,column:t.length-y[y.length-1]},y.length-1,t.length)),this.a.push(new p(t,y)),a}let s=this.a[0].buffer.length;const n=w(t,!1);let r=this.g;if(this.a[0].lineStarts[this.a[0].lineStarts.length-1]===s&&s!==0&&this.L(t)&&this.M(this.a[0].buffer)){this.g={line:this.g.line,column:this.g.column+1},r=this.g;for(let a=0;a<n.length;a++)n[a]+=s+1;this.a[0].lineStarts=this.a[0].lineStarts.concat(n.slice(1)),this.a[0].buffer+="_"+t,s+=1}else{if(s!==0)for(let a=0;a<n.length;a++)n[a]+=s;this.a[0].lineStarts=this.a[0].lineStarts.concat(n.slice(1)),this.a[0].buffer+=t}const u=this.a[0].buffer.length,m=this.a[0].lineStarts.length-1,I=u-this.a[0].lineStarts[m],P={line:m,column:I},O=new o(0,r,P,this.t(0,r,P),u-s);return this.g=P,[O]}getLinesRawContent(){return this.U(this.root)}getLineRawContent(t,s=0){let n=this.root,r="";const u=this.h.get2(t);if(u){n=u.node;const m=this.B(n,t-u.nodeStartLineNumber-1),I=this.a[n.piece.bufferIndex].buffer,P=this.u(n.piece.bufferIndex,n.piece.start);if(u.nodeStartLineNumber+n.piece.lineFeedCnt===t)r=I.substring(P+m,P+n.piece.length);else{const O=this.B(n,t-u.nodeStartLineNumber);return I.substring(P+m,P+O-s)}}else{let m=0;const I=t;for(;n!==S.$3B;)if(n.left!==S.$3B&&n.lf_left>=t-1)n=n.left;else if(n.lf_left+n.piece.lineFeedCnt>t-1){const P=this.B(n,t-n.lf_left-2),O=this.B(n,t-n.lf_left-1),a=this.a[n.piece.bufferIndex].buffer,y=this.u(n.piece.bufferIndex,n.piece.start);return m+=n.size_left,this.h.set({node:n,nodeStartOffset:m,nodeStartLineNumber:I-(t-1-n.lf_left)}),a.substring(y+P,y+O-s)}else if(n.lf_left+n.piece.lineFeedCnt===t-1){const P=this.B(n,t-n.lf_left-2),O=this.a[n.piece.bufferIndex].buffer,a=this.u(n.piece.bufferIndex,n.piece.start);r=O.substring(a+P,a+n.piece.length);break}else t-=n.lf_left+n.piece.lineFeedCnt,m+=n.size_left+n.piece.length,n=n.right}for(n=n.next();n!==S.$3B;){const m=this.a[n.piece.bufferIndex].buffer;if(n.piece.lineFeedCnt>0){const I=this.B(n,0),P=this.u(n.piece.bufferIndex,n.piece.start);return r+=m.substring(P,P+I-s),r}else{const I=this.u(n.piece.bufferIndex,n.piece.start);r+=m.substr(I,n.piece.length)}n=n.next()}return r}y(){let t=this.root,s=1,n=0;for(;t!==S.$3B;)s+=t.lf_left+t.piece.lineFeedCnt,n+=t.size_left+t.piece.length,t=t.right;this.b=s,this.c=n,this.h.validate(this.c)}A(t,s){const n=t.piece,r=this.s(t,s),u=r.line-n.start.line;if(this.u(n.bufferIndex,n.end)-this.u(n.bufferIndex,n.start)===s){const m=this.t(t.piece.bufferIndex,n.start,r);if(m!==u)return{index:m,remainder:0}}return{index:u,remainder:r.column}}B(t,s){if(s<0)return 0;const n=t.piece,r=this.a[n.bufferIndex].lineStarts,u=n.start.line+s+1;return u>n.end.line?r[n.end.line]+n.end.column-r[n.start.line]-n.start.column:r[u]-r[n.start.line]-n.start.column}C(t,s){const n=t.piece,r=n.lineFeedCnt,u=this.u(n.bufferIndex,n.end),m=s,I=this.u(n.bufferIndex,m),P=this.t(n.bufferIndex,n.start,m),O=P-r,a=I-u,y=n.length+a;t.piece=new o(n.bufferIndex,n.start,m,P,y),(0,S.$0B)(this,t,a,O)}D(t,s){const n=t.piece,r=n.lineFeedCnt,u=this.u(n.bufferIndex,n.start),m=s,I=this.t(n.bufferIndex,m,n.end),P=this.u(n.bufferIndex,m),O=I-r,a=u-P,y=n.length+a;t.piece=new o(n.bufferIndex,m,n.end,I,y),(0,S.$0B)(this,t,a,O)}E(t,s,n){const r=t.piece,u=r.start,m=r.end,I=r.length,P=r.lineFeedCnt,O=s,a=this.t(r.bufferIndex,r.start,O),y=this.u(r.bufferIndex,s)-this.u(r.bufferIndex,u);t.piece=new o(r.bufferIndex,r.start,O,a,y),(0,S.$0B)(this,t,y-I,a-P);const R=new o(r.bufferIndex,n,m,this.t(r.bufferIndex,n,m),this.u(r.bufferIndex,m)-this.u(r.bufferIndex,n)),G=this.S(t,R);this.N(G)}F(t,s){this.Q(s,t)&&(s+=`
`);const n=this.K()&&this.L(s)&&this.M(t),r=this.a[0].buffer.length;this.a[0].buffer+=s;const u=w(s,!1);for(let G=0;G<u.length;G++)u[G]+=r;if(n){const G=this.a[0].lineStarts[this.a[0].lineStarts.length-2];this.a[0].lineStarts.pop(),this.g={line:this.g.line-1,column:r-G}}this.a[0].lineStarts=this.a[0].lineStarts.concat(u.slice(1));const m=this.a[0].lineStarts.length-1,I=this.a[0].buffer.length-this.a[0].lineStarts[m],P={line:m,column:I},O=t.piece.length+s.length,a=t.piece.lineFeedCnt,y=this.t(0,t.piece.start,P),R=y-a;t.piece=new o(t.piece.bufferIndex,t.piece.start,P,y,O),this.g=P,(0,S.$0B)(this,t,s.length,R)}G(t){let s=this.root;const n=this.h.get(t);if(n)return{node:n.node,nodeStartOffset:n.nodeStartOffset,remainder:t-n.nodeStartOffset};let r=0;for(;s!==S.$3B;)if(s.size_left>t)s=s.left;else if(s.size_left+s.piece.length>=t){r+=s.size_left;const u={node:s,remainder:t-s.size_left,nodeStartOffset:r};return this.h.set(u),u}else t-=s.size_left+s.piece.length,r+=s.size_left+s.piece.length,s=s.right;return null}H(t,s){let n=this.root,r=0;for(;n!==S.$3B;)if(n.left!==S.$3B&&n.lf_left>=t-1)n=n.left;else if(n.lf_left+n.piece.lineFeedCnt>t-1){const u=this.B(n,t-n.lf_left-2),m=this.B(n,t-n.lf_left-1);return r+=n.size_left,{node:n,remainder:Math.min(u+s-1,m),nodeStartOffset:r}}else if(n.lf_left+n.piece.lineFeedCnt===t-1){const u=this.B(n,t-n.lf_left-2);if(u+s-1<=n.piece.length)return{node:n,remainder:u+s-1,nodeStartOffset:r};s-=n.piece.length-u;break}else t-=n.lf_left+n.piece.lineFeedCnt,r+=n.size_left+n.piece.length,n=n.right;for(n=n.next();n!==S.$3B;){if(n.piece.lineFeedCnt>0){const u=this.B(n,0),m=this.J(n);return{node:n,remainder:Math.min(s-1,u),nodeStartOffset:m}}else if(n.piece.length>=s-1){const u=this.J(n);return{node:n,remainder:s-1,nodeStartOffset:u}}else s-=n.piece.length;n=n.next()}return null}I(t,s){if(t.piece.lineFeedCnt<1)return-1;const n=this.a[t.piece.bufferIndex],r=this.u(t.piece.bufferIndex,t.piece.start)+s;return n.buffer.charCodeAt(r)}J(t){if(!t)return 0;let s=t.size_left;for(;t!==this.root;)t.parent.right===t&&(s+=t.parent.size_left+t.parent.piece.length),t=t.parent;return s}K(){return!(this.f&&this.d===`
`)}L(t){if(typeof t=="string")return t.charCodeAt(0)===10;if(t===S.$3B||t.piece.lineFeedCnt===0)return!1;const s=t.piece,n=this.a[s.bufferIndex].lineStarts,r=s.start.line,u=n[r]+s.start.column;return r===n.length-1||n[r+1]>u+1?!1:this.a[s.bufferIndex].buffer.charCodeAt(u)===10}M(t){return typeof t=="string"?t.charCodeAt(t.length-1)===13:t===S.$3B||t.piece.lineFeedCnt===0?!1:this.I(t,t.piece.length-1)===13}N(t){if(this.K()&&this.L(t)){const s=t.prev();this.M(s)&&this.P(s,t)}}O(t){if(this.K()&&this.M(t)){const s=t.next();this.L(s)&&this.P(t,s)}}P(t,s){const n=[],r=this.a[t.piece.bufferIndex].lineStarts;let u;t.piece.end.column===0?u={line:t.piece.end.line-1,column:r[t.piece.end.line]-r[t.piece.end.line-1]-1}:u={line:t.piece.end.line,column:t.piece.end.column-1};const m=t.piece.length-1,I=t.piece.lineFeedCnt-1;t.piece=new o(t.piece.bufferIndex,t.piece.start,u,I,m),(0,S.$0B)(this,t,-1,-1),t.piece.length===0&&n.push(t);const P={line:s.piece.start.line+1,column:0},O=s.piece.length-1,a=this.t(s.piece.bufferIndex,P,s.piece.end);s.piece=new o(s.piece.bufferIndex,P,s.piece.end,a,O),(0,S.$0B)(this,s,-1,-1),s.piece.length===0&&n.push(s);const y=this.w(`\r
`);this.S(t,y[0]);for(let R=0;R<n.length;R++)(0,S.$8B)(this,n[R])}Q(t,s){if(this.K()&&this.M(t)){const n=s.next();if(this.L(n)){if(t+=`
`,n.piece.length===1)(0,S.$8B)(this,n);else{const r=n.piece,u={line:r.start.line+1,column:0},m=r.length-1,I=this.t(r.bufferIndex,u,r.end);n.piece=new o(r.bufferIndex,u,r.end,I,m),(0,S.$0B)(this,n,-1,-1)}return!0}}return!1}iterate(t,s){if(t===S.$3B)return s(S.$3B);const n=this.iterate(t.left,s);return n&&s(t)&&this.iterate(t.right,s)}R(t){if(t===S.$3B)return"";const s=this.a[t.piece.bufferIndex],n=t.piece,r=this.u(n.bufferIndex,n.start),u=this.u(n.bufferIndex,n.end);return s.buffer.substring(r,u)}getPieceContent(t){const s=this.a[t.bufferIndex],n=this.u(t.bufferIndex,t.start),r=this.u(t.bufferIndex,t.end);return s.buffer.substring(n,r)}S(t,s){const n=new S.$2B(s,1);if(n.left=S.$3B,n.right=S.$3B,n.parent=S.$3B,n.size_left=0,n.lf_left=0,this.root===S.$3B)this.root=n,n.color=0;else if(t.right===S.$3B)t.right=n,n.parent=t;else{const u=(0,S.$4B)(t.right);u.left=n,n.parent=u}return(0,S.$9B)(this,n),n}T(t,s){const n=new S.$2B(s,1);if(n.left=S.$3B,n.right=S.$3B,n.parent=S.$3B,n.size_left=0,n.lf_left=0,this.root===S.$3B)this.root=n,n.color=0;else if(t.left===S.$3B)t.left=n,n.parent=t;else{const r=(0,S.$5B)(t.left);r.right=n,n.parent=r}return(0,S.$9B)(this,n),n}U(t){let s="";return this.iterate(t,n=>(s+=this.R(n),!0)),s}}e.$jC=l}),define(ce[11],oe([0,1,6,2,3,42]),function(he,e,J,D,z,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$lg=e.$kg=e.$jg=e.$ig=e.$hg=e.$gg=e.$fg=e.$eg=e.$dg=e.$cg=e.$bg=e.$ag=e.$_f=e.$$f=e.$0f=e.$9f=void 0;function M(a){return a===47||a===92}e.$9f=M;function W(a){return a.replace(/[\\/]/g,J.$gc.sep)}e.$0f=W;function L(a){return a.indexOf("/")===-1&&(a=W(a)),/^[a-zA-Z]:(\/|$)/.test(a)&&(a="/"+a),a}e.$$f=L;function $(a,y=J.$gc.sep){if(!a)return"";const R=a.length,G=a.charCodeAt(0);if(M(G)){if(M(a.charCodeAt(1))&&!M(a.charCodeAt(2))){let b=3;const U=b;for(;b<R&&!M(a.charCodeAt(b));b++);if(U!==b&&!M(a.charCodeAt(b+1))){for(b+=1;b<R;b++)if(M(a.charCodeAt(b)))return a.slice(0,b+1).replace(/[\\/]/g,y)}}return y}else if(h(G)&&a.charCodeAt(1)===58)return M(a.charCodeAt(2))?a.slice(0,2)+y:a.slice(0,2);let k=a.indexOf("://");if(k!==-1){for(k+=3;k<R;k++)if(M(a.charCodeAt(k)))return a.slice(0,k+1)}return""}e.$_f=$;function w(a){if(!D.$i||!a||a.length<5)return!1;let y=a.charCodeAt(0);if(y!==92||(y=a.charCodeAt(1),y!==92))return!1;let R=2;const G=R;for(;R<a.length&&(y=a.charCodeAt(R),y!==92);R++);return!(G===R||(y=a.charCodeAt(R+1),isNaN(y)||y===92))}e.$ag=w;const V=/[\\/:\*\?"<>\|]/g,o=/[\\/]/g,p=/^(con|prn|aux|clock\$|nul|lpt[0-9]|com[0-9])(\.(.*?))?$/i;function g(a,y=D.$i){const R=y?V:o;return!(!a||a.length===0||/^\s+$/.test(a)||(R.lastIndex=0,R.test(a))||y&&p.test(a)||a==="."||a===".."||y&&a[a.length-1]==="."||y&&a.length!==a.trim().length||a.length>255)}e.$bg=g;function c(a,y,R){const G=a===y;return!R||G?G:!a||!y?!1:(0,z.$hf)(a,y)}e.$cg=c;function l(a,y,R,G=J.sep){if(a===y)return!0;if(!a||!y||y.length>a.length)return!1;if(R){if(!(0,z.$if)(a,y))return!1;if(y.length===a.length)return!0;let b=y.length;return y.charAt(y.length-1)===G&&b--,a.charAt(b)===G}return y.charAt(y.length-1)!==G&&(y+=G),a.indexOf(y)===0}e.$dg=l;function h(a){return a>=65&&a<=90||a>=97&&a<=122}e.$eg=h;function t(a,y){return D.$i&&a.endsWith(":")&&(a+=J.sep),(0,J.$ic)(a)||(a=(0,J.$jc)(y,a)),a=(0,J.$hc)(a),D.$i?(a=(0,z.$2e)(a,J.sep),a.endsWith(":")&&(a+=J.sep)):(a=(0,z.$2e)(a,J.sep),a||(a=J.sep)),a}e.$fg=t;function s(a){const y=(0,J.$hc)(a);return D.$i?a.length>3?!1:n(y)&&(a.length===2||y.charCodeAt(2)===92):y===J.$gc.sep}e.$gg=s;function n(a,y=D.$i){return y?h(a.charCodeAt(0))&&a.charCodeAt(1)===58:!1}e.$hg=n;function r(a,y=D.$i){return n(a,y)?a[0]:void 0}e.$ig=r;function u(a,y,R){return y.length>a.length?-1:a===y?0:(R&&(a=a.toLowerCase(),y=y.toLowerCase()),a.indexOf(y))}e.$jg=u;function m(a){const y=a.split(":");let R,G,k;for(const b of y){const U=Number(b);(0,S.$Uf)(U)?G===void 0?G=U:k===void 0&&(k=U):R=R?[R,b].join(":"):b}if(!R)throw new Error("Format for `--goto` should be: `FILE:LINE(:COLUMN)`");return{path:R,line:G!==void 0?G:void 0,column:k!==void 0?k:G!==void 0?1:void 0}}e.$kg=m;const I="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",P="BDEFGHIJKMOQRSTUVWXYZbdefghijkmoqrstuvwxyz0123456789";function O(a,y,R=8){let G="";for(let b=0;b<R;b++){let U;b===0&&D.$i&&!y&&(R===3||R===4)?U=P:U=I,G+=U.charAt(Math.floor(Math.random()*U.length))}let k;return y?k=`${y}-${G}`:k=G,a?(0,J.$jc)(a,k):k}e.$lg=O}),define(ce[21],oe([0,1,6]),function(he,e,J){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$ss=e.$rs=e.$qs=e.$ps=e.$os=void 0,e.$os=Object.freeze({text:"text/plain",binary:"application/octet-stream",unknown:"application/unknown",markdown:"text/markdown",latex:"text/latex",uriList:"text/uri-list"});const D={".css":"text/css",".csv":"text/csv",".htm":"text/html",".html":"text/html",".ics":"text/calendar",".js":"text/javascript",".mjs":"text/javascript",".txt":"text/plain",".xml":"text/xml"},z={".aac":"audio/x-aac",".avi":"video/x-msvideo",".bmp":"image/bmp",".flv":"video/x-flv",".gif":"image/gif",".ico":"image/x-icon",".jpe":"image/jpg",".jpeg":"image/jpg",".jpg":"image/jpg",".m1v":"video/mpeg",".m2a":"audio/mpeg",".m2v":"video/mpeg",".m3a":"audio/mpeg",".mid":"audio/midi",".midi":"audio/midi",".mk3d":"video/x-matroska",".mks":"video/x-matroska",".mkv":"video/x-matroska",".mov":"video/quicktime",".movie":"video/x-sgi-movie",".mp2":"audio/mpeg",".mp2a":"audio/mpeg",".mp3":"audio/mpeg",".mp4":"video/mp4",".mp4a":"audio/mp4",".mp4v":"video/mp4",".mpe":"video/mpeg",".mpeg":"video/mpeg",".mpg":"video/mpeg",".mpg4":"video/mp4",".mpga":"audio/mpeg",".oga":"audio/ogg",".ogg":"audio/ogg",".opus":"audio/opus",".ogv":"video/ogg",".png":"image/png",".psd":"image/vnd.adobe.photoshop",".qt":"video/quicktime",".spx":"audio/ogg",".svg":"image/svg+xml",".tga":"image/x-tga",".tif":"image/tiff",".tiff":"image/tiff",".wav":"audio/x-wav",".webm":"video/webm",".webp":"image/webp",".wma":"audio/x-ms-wma",".wmv":"video/x-ms-wmv",".woff":"application/font-woff"};function S(w){const V=(0,J.$oc)(w),o=D[V.toLowerCase()];return o!==void 0?o:M(w)}e.$ps=S;function M(w){const V=(0,J.$oc)(w);return z[V.toLowerCase()]}e.$qs=M;function W(w){for(const V in z)if(z[V]===w)return V}e.$rs=W;const L=/^(.+)\/(.+?)(;.+)?$/;function $(w,V){const o=L.exec(w);return o?`${o[1].toLowerCase()}/${o[2].toLowerCase()}${o[3]??""}`:V?void 0:w}e.$ss=$}),define(ce[7],oe([0,1,4,2,3,12]),function(he,e,J,D,z,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.COI=e.$wg=e.$vg=e.$ug=e.$tg=e.$sg=e.$rg=e.$qg=e.$pg=e.$og=e.$ng=e.$mg=e.Schemas=void 0;var M;(function(o){o.inMemory="inmemory",o.vscode="vscode",o.internal="private",o.walkThrough="walkThrough",o.walkThroughSnippet="walkThroughSnippet",o.http="http",o.https="https",o.file="file",o.mailto="mailto",o.untitled="untitled",o.data="data",o.command="command",o.vscodeRemote="vscode-remote",o.vscodeRemoteResource="vscode-remote-resource",o.vscodeManagedRemoteResource="vscode-managed-remote-resource",o.vscodeUserData="vscode-userdata",o.vscodeCustomEditor="vscode-custom-editor",o.vscodeNotebookCell="vscode-notebook-cell",o.vscodeNotebookCellMetadata="vscode-notebook-cell-metadata",o.vscodeNotebookCellOutput="vscode-notebook-cell-output",o.vscodeInteractiveInput="vscode-interactive-input",o.vscodeSettings="vscode-settings",o.vscodeWorkspaceTrust="vscode-workspace-trust",o.vscodeTerminal="vscode-terminal",o.vscodeChatCodeBlock="vscode-chat-code-block",o.vscodeChatSesssion="vscode-chat-editor",o.webviewPanel="webview-panel",o.vscodeWebview="vscode-webview",o.extension="extension",o.vscodeFileResource="vscode-file",o.tmp="tmp",o.vsls="vsls",o.vscodeSourceControl="vscode-scm",o.codeSetting="code-setting",o.codeFeature="code-feature"})(M||(e.Schemas=M={}));function W(o,p){return S.URI.isUri(o)?(0,z.$hf)(o.scheme,p):(0,z.$if)(o,p+":")}e.$mg=W;function L(o,...p){return p.some(g=>W(o,g))}e.$ng=L,e.$og="vscode-tkn",e.$pg="tkn";class ${constructor(){this.a=Object.create(null),this.b=Object.create(null),this.c=Object.create(null),this.d="http",this.e=null,this.f=`/${M.vscodeRemoteResource}`}setPreferredWebSchema(p){this.d=p}setDelegate(p){this.e=p}setServerRootPath(p){this.f=`${p}/${M.vscodeRemoteResource}`}set(p,g,c){this.a[p]=g,this.b[p]=c}setConnectionToken(p,g){this.c[p]=g}getPreferredWebSchema(){return this.d}rewrite(p){if(this.e)try{return this.e(p)}catch(s){return J.$1(s),p}const g=p.authority;let c=this.a[g];c&&c.indexOf(":")!==-1&&c.indexOf("[")===-1&&(c=`[${c}]`);const l=this.b[g],h=this.c[g];let t=`path=${encodeURIComponent(p.path)}`;return typeof h=="string"&&(t+=`&${e.$pg}=${encodeURIComponent(h)}`),S.URI.from({scheme:D.$o?this.d:M.vscodeRemoteResource,authority:`${c}:${l}`,path:this.f,query:t})}}e.$qg=new $,e.$rg="vs/../../extensions",e.$sg="vs/../../node_modules",e.$tg="vs/../../node_modules.asar",e.$ug="vs/../../node_modules.asar.unpacked",e.$vg="vscode-app";class w{static{this.a=e.$vg}asBrowserUri(p){const g=this.b(p,he);return this.uriToBrowserUri(g)}uriToBrowserUri(p){return p.scheme===M.vscodeRemote?e.$qg.rewrite(p):p.scheme===M.file&&(D.$m||D.$q===`${M.vscodeFileResource}://${w.a}`)?p.with({scheme:M.vscodeFileResource,authority:p.authority||w.a,query:null,fragment:null}):p}asFileUri(p){const g=this.b(p,he);return this.uriToFileUri(g)}uriToFileUri(p){return p.scheme===M.vscodeFileResource?p.with({scheme:M.file,authority:p.authority!==w.a?p.authority:null,query:null,fragment:null}):p}b(p,g){return S.URI.isUri(p)?p:S.URI.parse(g.toUrl(p))}}e.$wg=new w;var V;(function(o){const p=new Map([["1",{"Cross-Origin-Opener-Policy":"same-origin"}],["2",{"Cross-Origin-Embedder-Policy":"require-corp"}],["3",{"Cross-Origin-Opener-Policy":"same-origin","Cross-Origin-Embedder-Policy":"require-corp"}]]);o.CoopAndCoep=Object.freeze(p.get("3"));const g="vscode-coi";function c(h){let t;typeof h=="string"?t=new URL(h).searchParams:h instanceof URL?t=h.searchParams:S.URI.isUri(h)&&(t=new URL(h.toString(!0)).searchParams);const s=t?.get(g);if(s)return p.get(s)}o.getHeadersFromQuery=c;function l(h,t,s){if(!globalThis.crossOriginIsolated)return;const n=t&&s?"3":s?"2":"1";h instanceof URLSearchParams?h.set(g,n):h[g]=n}o.addSearchParam=l})(V||(e.COI=V={}))}),define(ce[22],oe([0,1,11,7,6,2,3,12]),function(he,e,J,D,z,S,M,W){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Zg=e.DataUri=e.$Yg=e.$Xg=e.$Wg=e.$Vg=e.$Ug=e.$Tg=e.$Sg=e.$Rg=e.$Qg=e.$Pg=e.$Og=e.$Ng=e.$Mg=e.$Lg=e.$Kg=e.$Jg=e.$Ig=e.$Hg=e.$Gg=e.$Fg=e.$Eg=e.$Dg=void 0;function L(p){return(0,W.$wc)(p,!0)}e.$Dg=L;class ${constructor(g){this.a=g}compare(g,c,l=!1){return g===c?0:(0,M.$af)(this.getComparisonKey(g,l),this.getComparisonKey(c,l))}isEqual(g,c,l=!1){return g===c?!0:!g||!c?!1:this.getComparisonKey(g,l)===this.getComparisonKey(c,l)}getComparisonKey(g,c=!1){return g.with({path:this.a(g)?g.path.toLowerCase():void 0,fragment:c?null:void 0}).toString()}ignorePathCasing(g){return this.a(g)}isEqualOrParent(g,c,l=!1){if(g.scheme===c.scheme){if(g.scheme===D.Schemas.file)return J.$dg(L(g),L(c),this.a(g))&&g.query===c.query&&(l||g.fragment===c.fragment);if((0,e.$Ug)(g.authority,c.authority))return J.$dg(g.path,c.path,this.a(g),"/")&&g.query===c.query&&(l||g.fragment===c.fragment)}return!1}joinPath(g,...c){return W.URI.joinPath(g,...c)}basenameOrAuthority(g){return(0,e.$Mg)(g)||g.authority}basename(g){return z.$gc.basename(g.path)}extname(g){return z.$gc.extname(g.path)}dirname(g){if(g.path.length===0)return g;let c;return g.scheme===D.Schemas.file?c=W.URI.file(z.$mc(L(g))).path:(c=z.$gc.dirname(g.path),g.authority&&c.length&&c.charCodeAt(0)!==47&&(console.error(`dirname("${g.toString})) resulted in a relative path`),c="/")),g.with({path:c})}normalizePath(g){if(!g.path.length)return g;let c;return g.scheme===D.Schemas.file?c=W.URI.file(z.$hc(L(g))).path:c=z.$gc.normalize(g.path),g.with({path:c})}relativePath(g,c){if(g.scheme!==c.scheme||!(0,e.$Ug)(g.authority,c.authority))return;if(g.scheme===D.Schemas.file){const t=z.$lc(L(g),L(c));return S.$i?J.$0f(t):t}let l=g.path||"/";const h=c.path||"/";if(this.a(g)){let t=0;for(const s=Math.min(l.length,h.length);t<s&&!(l.charCodeAt(t)!==h.charCodeAt(t)&&l.charAt(t).toLowerCase()!==h.charAt(t).toLowerCase());t++);l=h.substr(0,t)+l.substr(t)}return z.$gc.relative(l,h)}resolvePath(g,c){if(g.scheme===D.Schemas.file){const l=W.URI.file(z.$kc(L(g),c));return g.with({authority:l.authority,path:l.path})}return c=J.$$f(c),g.with({path:z.$gc.resolve(g.path,c)})}isAbsolutePath(g){return!!g.path&&g.path[0]==="/"}isEqualAuthority(g,c){return g===c||g!==void 0&&c!==void 0&&(0,M.$hf)(g,c)}hasTrailingPathSeparator(g,c=z.sep){if(g.scheme===D.Schemas.file){const l=L(g);return l.length>J.$_f(l).length&&l[l.length-1]===c}else{const l=g.path;return l.length>1&&l.charCodeAt(l.length-1)===47&&!/^[a-zA-Z]:(\/$|\\$)/.test(g.fsPath)}}removeTrailingPathSeparator(g,c=z.sep){return(0,e.$Vg)(g,c)?g.with({path:g.path.substr(0,g.path.length-1)}):g}addTrailingPathSeparator(g,c=z.sep){let l=!1;if(g.scheme===D.Schemas.file){const h=L(g);l=h!==void 0&&h.length===J.$_f(h).length&&h[h.length-1]===c}else{c="/";const h=g.path;l=h.length===1&&h.charCodeAt(h.length-1)===47}return!l&&!(0,e.$Vg)(g,c)?g.with({path:g.path+"/"}):g}}e.$Eg=$,e.$Fg=new $(()=>!1),e.$Gg=new $(p=>p.scheme===D.Schemas.file?!S.$k:!0),e.$Hg=new $(p=>!0),e.$Ig=e.$Fg.isEqual.bind(e.$Fg),e.$Jg=e.$Fg.isEqualOrParent.bind(e.$Fg),e.$Kg=e.$Fg.getComparisonKey.bind(e.$Fg),e.$Lg=e.$Fg.basenameOrAuthority.bind(e.$Fg),e.$Mg=e.$Fg.basename.bind(e.$Fg),e.$Ng=e.$Fg.extname.bind(e.$Fg),e.$Og=e.$Fg.dirname.bind(e.$Fg),e.$Pg=e.$Fg.joinPath.bind(e.$Fg),e.$Qg=e.$Fg.normalizePath.bind(e.$Fg),e.$Rg=e.$Fg.relativePath.bind(e.$Fg),e.$Sg=e.$Fg.resolvePath.bind(e.$Fg),e.$Tg=e.$Fg.isAbsolutePath.bind(e.$Fg),e.$Ug=e.$Fg.isEqualAuthority.bind(e.$Fg),e.$Vg=e.$Fg.hasTrailingPathSeparator.bind(e.$Fg),e.$Wg=e.$Fg.removeTrailingPathSeparator.bind(e.$Fg),e.$Xg=e.$Fg.addTrailingPathSeparator.bind(e.$Fg);function w(p,g){const c=[];for(let l=0;l<p.length;l++){const h=g(p[l]);p.some((t,s)=>s===l?!1:(0,e.$Jg)(h,g(t)))||c.push(p[l])}return c}e.$Yg=w;var V;(function(p){p.META_DATA_LABEL="label",p.META_DATA_DESCRIPTION="description",p.META_DATA_SIZE="size",p.META_DATA_MIME="mime";function g(c){const l=new Map;c.path.substring(c.path.indexOf(";")+1,c.path.lastIndexOf(";")).split(";").forEach(s=>{const[n,r]=s.split(":");n&&r&&l.set(n,r)});const t=c.path.substring(0,c.path.indexOf(";"));return t&&l.set(p.META_DATA_MIME,t),l}p.parseMetaData=g})(V||(e.DataUri=V={}));function o(p,g,c){if(g){let l=p.path;return l&&l[0]!==z.$gc.sep&&(l=z.$gc.sep+l),p.with({scheme:c,authority:g,path:l})}return p.with({scheme:c})}e.$Zg=o}),define(ce[23],oe([0,1,43,4,24,8,22,2,16,15]),function(he,e,J,D,z,S,M,W,L,$){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Fh=e.$Eh=e.$Dh=e.$Ch=e.$Bh=e.$Ah=e.Promises=e.$zh=e.$yh=e.$xh=e.$wh=e.$vh=e.$uh=e.$th=e.$sh=e.$rh=e.$qh=e.$ph=e.$oh=e.$nh=e.$mh=e.$lh=e.$kh=e.$jh=e.$ih=e.$hh=e.$gh=e.$fh=e.$eh=e.$dh=e.$ch=e.$bh=e.$ah=e.$_g=e.$$g=e.$0g=e.$9g=e.$8g=e.$7g=e.$6g=e.$5g=e.$4g=e.$3g=e.$2g=e.$1g=void 0;function w(B){return!!B&&typeof B.then=="function"}e.$1g=w;function V(B){const d=new J.$ae,v=B(d.token),q=new Promise((Z,_)=>{const ae=d.token.onCancellationRequested(()=>{ae.dispose(),_(new D.$5)});Promise.resolve(v).then(fe=>{ae.dispose(),d.dispose(),Z(fe)},fe=>{ae.dispose(),d.dispose(),_(fe)})});return new class{cancel(){d.cancel(),d.dispose()}then(Z,_){return q.then(Z,_)}catch(Z){return this.then(void 0,Z)}finally(Z){return q.finally(Z)}}}e.$2g=V;function o(B,d,v){return new Promise((q,Z)=>{const _=d.onCancellationRequested(()=>{_.dispose(),q(v)});B.then(q,Z).finally(()=>_.dispose())})}e.$3g=o;function p(B,d){return new Promise((v,q)=>{const Z=d.onCancellationRequested(()=>{Z.dispose(),q(new D.$5)});B.then(v,q).finally(()=>Z.dispose())})}e.$4g=p;async function g(B){let d=-1;const v=B.map((q,Z)=>q.then(_=>(d=Z,_)));try{return await Promise.race(v)}finally{B.forEach((q,Z)=>{Z!==d&&q.cancel()})}}e.$5g=g;function c(B,d,v){let q;const Z=setTimeout(()=>{q?.(void 0),v?.()},d);return Promise.race([B.finally(()=>clearTimeout(Z)),new Promise(_=>q=_)])}e.$6g=c;function l(B){return new Promise((d,v)=>{const q=B();w(q)?q.then(d,v):d(q)})}e.$7g=l;function h(){let B,d;return{promise:new Promise((q,Z)=>{B=q,d=Z}),resolve:B,reject:d}}e.$8g=h;class t{constructor(){this.f=!1,this.a=null,this.b=null,this.d=null}queue(d){if(this.f)return Promise.reject(new Error("Throttler is disposed"));if(this.a){if(this.d=d,!this.b){const v=()=>{if(this.b=null,this.f)return;const q=this.queue(this.d);return this.d=null,q};this.b=new Promise(q=>{this.a.then(v,v).then(q)})}return new Promise((v,q)=>{this.b.then(v,q)})}return this.a=d(),new Promise((v,q)=>{this.a.then(Z=>{this.a=null,v(Z)},Z=>{this.a=null,q(Z)})})}dispose(){this.f=!0}}e.$9g=t;class s{constructor(){this.a=Promise.resolve(null)}queue(d){return this.a=this.a.then(()=>d(),()=>d())}}e.$0g=s;class n{constructor(){this.a=new Map}queue(d,v){const Z=(this.a.get(d)??Promise.resolve()).catch(()=>{}).then(v).finally(()=>{this.a.get(d)===Z&&this.a.delete(d)});return this.a.set(d,Z),Z}}e.$$g=n;const r=(B,d)=>{let v=!0;const q=setTimeout(()=>{v=!1,d()},B);return{isTriggered:()=>v,dispose:()=>{clearTimeout(q),v=!1}}},u=B=>{let d=!0;return queueMicrotask(()=>{d&&(d=!1,B())}),{isTriggered:()=>d,dispose:()=>{d=!1}}};class m{constructor(d){this.defaultDelay=d,this.a=null,this.b=null,this.d=null,this.f=null,this.g=null}trigger(d,v=this.defaultDelay){this.g=d,this.h(),this.b||(this.b=new Promise((Z,_)=>{this.d=Z,this.f=_}).then(()=>{if(this.b=null,this.d=null,this.g){const Z=this.g;return this.g=null,Z()}}));const q=()=>{this.a=null,this.d?.(null)};return this.a=v===L.$Zd?u(q):r(v,q),this.b}isTriggered(){return!!this.a?.isTriggered()}cancel(){this.h(),this.b&&(this.f?.(new D.$5),this.b=null)}h(){this.a?.dispose(),this.a=null}dispose(){this.cancel()}}e.$_g=m;class I{constructor(d){this.a=new m(d),this.b=new t}trigger(d,v){return this.a.trigger(()=>this.b.queue(d),v)}isTriggered(){return this.a.isTriggered()}cancel(){this.a.cancel()}dispose(){this.a.dispose(),this.b.dispose()}}e.$ah=I;class P{constructor(){this.a=!1,this.b=new Promise((d,v)=>{this.d=d})}isOpen(){return this.a}open(){this.a=!0,this.d(!0)}wait(){return this.b}}e.$bh=P;class O extends P{constructor(d){super(),this.f=setTimeout(()=>this.open(),d)}open(){clearTimeout(this.f),super.open()}}e.$ch=O;function a(B,d){return d?new Promise((v,q)=>{const Z=setTimeout(()=>{_.dispose(),v()},B),_=d.onCancellationRequested(()=>{clearTimeout(Z),_.dispose(),q(new D.$5)})}):V(v=>a(B,v))}e.$dh=a;function y(B,d=0,v){const q=setTimeout(()=>{B(),v&&Z.dispose()},d),Z=(0,S.$Rc)(()=>{clearTimeout(q),v?.deleteAndLeak(Z)});return v?.add(Z),Z}e.$eh=y;function R(B){const d=[];let v=0;const q=B.length;function Z(){return v<q?B[v++]():null}function _(ae){ae!=null&&d.push(ae);const fe=Z();return fe?fe.then(_):Promise.resolve(d)}return Promise.resolve(null).then(_)}e.$fh=R;function G(B,d=q=>!!q,v=null){let q=0;const Z=B.length,_=()=>{if(q>=Z)return Promise.resolve(v);const ae=B[q++];return Promise.resolve(ae()).then(de=>d(de)?Promise.resolve(de):_())};return _()}e.$gh=G;function k(B,d=q=>!!q,v=null){if(B.length===0)return Promise.resolve(v);let q=B.length;const Z=()=>{q=-1;for(const _ of B)_.cancel?.()};return new Promise((_,ae)=>{for(const fe of B)fe.then(de=>{--q>=0&&d(de)?(Z(),_(de)):q===0&&_(v)}).catch(de=>{--q>=0&&(Z(),ae(de))})})}e.$hh=k;class b{constructor(d){this.a=0,this.b=!1,this.f=d,this.g=[],this.d=0,this.h=new z.$3d}whenIdle(){return this.size>0?z.Event.toPromise(this.onDrained):Promise.resolve()}get onDrained(){return this.h.event}get size(){return this.a}queue(d){if(this.b)throw new Error("Object has been disposed");return this.a++,new Promise((v,q)=>{this.g.push({factory:d,c:v,e:q}),this.j()})}j(){for(;this.g.length&&this.d<this.f;){const d=this.g.shift();this.d++;const v=d.factory();v.then(d.c,d.e),v.then(()=>this.k(),()=>this.k())}}k(){this.b||(this.d--,--this.a===0&&this.h.fire(),this.g.length>0&&this.j())}clear(){if(this.b)throw new Error("Object has been disposed");this.g.length=0,this.a=this.d}dispose(){this.b=!0,this.g.length=0,this.a=0,this.h.dispose()}}e.$ih=b;class U extends b{constructor(){super(1)}}e.$jh=U;class x{constructor(){this.a=new Y,this.b=0}queue(d){return this.a.isRunning()?this.a.queue(()=>this.a.run(this.b++,d())):this.a.run(this.b++,d())}}e.$kh=x;class ie{constructor(){this.a=new Map,this.b=new Set,this.d=void 0,this.f=0}async whenDrained(){if(this.g())return;const d=new te;return this.b.add(d),d.p}g(){for(const[,d]of this.a)if(d.size>0)return!1;return!0}queueSize(d,v=M.$Fg){const q=v.getComparisonKey(d);return this.a.get(q)?.size??0}queueFor(d,v,q=M.$Fg){const Z=q.getComparisonKey(d);let _=this.a.get(Z);if(!_){_=new U;const ae=this.f++,fe=z.Event.once(_.onDrained)(()=>{_?.dispose(),this.a.delete(Z),this.h(),this.d?.deleteAndDispose(ae),this.d?.size===0&&(this.d.dispose(),this.d=void 0)});this.d||(this.d=new S.$3c),this.d.set(ae,fe),this.a.set(Z,_)}return _.queue(v)}h(){this.g()&&this.j()}j(){for(const d of this.b)d.complete();this.b.clear()}dispose(){for(const[,d]of this.a)d.dispose();this.a.clear(),this.j(),this.d?.dispose()}}e.$lh=ie;class le{constructor(d,v){this.a=-1,typeof d=="function"&&typeof v=="number"&&this.setIfNotSet(d,v)}dispose(){this.cancel()}cancel(){this.a!==-1&&(clearTimeout(this.a),this.a=-1)}cancelAndSet(d,v){this.cancel(),this.a=setTimeout(()=>{this.a=-1,d()},v)}setIfNotSet(d,v){this.a===-1&&(this.a=setTimeout(()=>{this.a=-1,d()},v))}}e.$mh=le;class re{constructor(){this.d=void 0}cancel(){this.d?.dispose(),this.d=void 0}cancelAndSet(d,v,q=globalThis){this.cancel();const Z=q.setInterval(()=>{d()},v);this.d=(0,S.$Rc)(()=>{q.clearInterval(Z),this.d=void 0})}dispose(){this.cancel()}}e.$nh=re;class ne{constructor(d,v){this.b=-1,this.a=d,this.d=v,this.f=this.g.bind(this)}dispose(){this.cancel(),this.a=null}cancel(){this.isScheduled()&&(clearTimeout(this.b),this.b=-1)}schedule(d=this.d){this.cancel(),this.b=setTimeout(this.f,d)}get delay(){return this.d}set delay(d){this.d=d}isScheduled(){return this.b!==-1}flush(){this.isScheduled()&&(this.cancel(),this.h())}g(){this.b=-1,this.a&&this.h()}h(){this.a?.()}}e.$oh=ne;class ue{constructor(d,v){v%1e3!==0&&console.warn(`ProcessTimeRunOnceScheduler resolution is 1s, ${v}ms is not a multiple of 1000ms.`),this.a=d,this.b=v,this.d=0,this.f=-1,this.g=this.h.bind(this)}dispose(){this.cancel(),this.a=null}cancel(){this.isScheduled()&&(clearInterval(this.f),this.f=-1)}schedule(d=this.b){d%1e3!==0&&console.warn(`ProcessTimeRunOnceScheduler resolution is 1s, ${d}ms is not a multiple of 1000ms.`),this.cancel(),this.d=Math.ceil(d/1e3),this.f=setInterval(this.g,1e3)}isScheduled(){return this.f!==-1}h(){this.d--,!(this.d>0)&&(clearInterval(this.f),this.f=-1,this.a?.())}}e.$ph=ue;class C extends ne{constructor(d,v){super(d,v),this.j=[]}work(d){this.j.push(d),this.isScheduled()||this.schedule()}h(){const d=this.j;this.j=[],this.a?.(d)}dispose(){this.j=[],super.dispose()}}e.$qh=C;class ee extends S.$Tc{constructor(d,v){super(),this.g=d,this.h=v,this.a=[],this.b=this.B(new S.$Uc),this.f=!1}get pending(){return this.a.length}work(d){if(this.f)return!1;if(typeof this.g.maxBufferedWork=="number"){if(this.b.value){if(this.pending+d.length>this.g.maxBufferedWork)return!1}else if(this.pending+d.length-this.g.maxWorkChunkSize>this.g.maxBufferedWork)return!1}for(const v of d)this.a.push(v);return this.b.value||this.j(),!0}j(){this.h(this.a.splice(0,this.g.maxWorkChunkSize)),this.a.length>0&&(this.b.value=new ne(()=>{this.b.clear(),this.j()},this.g.throttleDelay),this.b.value.schedule())}dispose(){super.dispose(),this.f=!0}}e.$rh=ee,function(){typeof globalThis.requestIdleCallback!="function"||typeof globalThis.cancelIdleCallback!="function"?e.$th=(B,d)=>{(0,W.$B)(()=>{if(v)return;const q=Date.now()+15;d(Object.freeze({didTimeout:!0,timeRemaining(){return Math.max(0,q-Date.now())}}))});let v=!1;return{dispose(){v||(v=!0)}}}:e.$th=(B,d,v)=>{const q=B.requestIdleCallback(d,typeof v=="number"?{timeout:v}:void 0);let Z=!1;return{dispose(){Z||(Z=!0,B.cancelIdleCallback(q))}}},e.$sh=B=>(0,e.$th)(globalThis,B)}();class F{constructor(d,v){this.g=!1,this.d=()=>{try{this.j=v()}catch(q){this.l=q}finally{this.g=!0}},this.f=(0,e.$th)(d,()=>this.d())}dispose(){this.f.dispose()}get value(){if(this.g||(this.f.dispose(),this.d()),this.l)throw this.l;return this.j}get isInitialized(){return this.g}}e.$uh=F;class T extends F{constructor(d){super(globalThis,d)}}e.$vh=T;async function N(B,d,v){let q;for(let Z=0;Z<v;Z++)try{return await B()}catch(_){q=_,await a(d)}throw q}e.$wh=N;class Y{isRunning(d){return typeof d=="number"?this.a?.taskId===d:!!this.a}get running(){return this.a?.promise}cancelRunning(){this.a?.cancel()}run(d,v,q){return this.a={taskId:d,cancel:()=>q?.(),promise:v},v.then(()=>this.d(d),()=>this.d(d)),v}d(d){this.a&&d===this.a.taskId&&(this.a=void 0,this.f())}f(){if(this.b){const d=this.b;this.b=void 0,d.run().then(d.promiseResolve,d.promiseReject)}}queue(d){if(this.b)this.b.run=d;else{const{promise:v,resolve:q,reject:Z}=h();this.b={run:d,promise:v,promiseResolve:q,promiseReject:Z}}return this.b.promise}hasQueued(){return!!this.b}async join(){return this.b?.promise??this.a?.promise}}e.$xh=Y;class H{constructor(d,v=()=>Date.now()){this.d=d,this.f=v,this.a=0,this.b=0}increment(){const d=this.f();return d-this.a>this.d&&(this.a=d,this.b=0),this.b++,this.b}}e.$yh=H;var Q;(function(B){B[B.Resolved=0]="Resolved",B[B.Rejected=1]="Rejected"})(Q||(Q={}));class te{get isRejected(){return this.d?.outcome===1}get isResolved(){return this.d?.outcome===0}get isSettled(){return!!this.d}get value(){return this.d?.outcome===0?this.d?.value:void 0}constructor(){this.p=new Promise((d,v)=>{this.a=d,this.b=v})}complete(d){return new Promise(v=>{this.a(d),this.d={outcome:0,value:d},v()})}error(d){return new Promise(v=>{this.b(d),this.d={outcome:1,value:d},v()})}cancel(){return this.error(new D.$5)}}e.$zh=te;var X;(function(B){async function d(q){let Z;const _=await Promise.all(q.map(ae=>ae.then(fe=>fe,fe=>{Z||(Z=fe)})));if(typeof Z<"u")throw Z;return _}B.settled=d;function v(q){return new Promise(async(Z,_)=>{try{await q(Z,_)}catch(ae){_(ae)}})}B.withAsyncBody=v})(X||(e.Promises=X={}));class A{get value(){return this.a}get error(){return this.b}get isResolved(){return this.d}constructor(d){this.a=void 0,this.b=void 0,this.d=!1,this.promise=d.then(v=>(this.a=v,this.d=!0,v),v=>{throw this.b=v,this.d=!0,v})}requireValue(){if(!this.d)throw new D.$cb("Promise is not resolved yet");if(this.b)throw this.b;return this.a}}e.$Ah=A;class i{constructor(d){this.b=d,this.a=new $.$V(()=>new A(this.b()))}requireValue(){return this.a.value.requireValue()}getPromise(){return this.a.value.promise}get currentValue(){return this.a.rawValue?.value}}e.$Bh=i;var f;(function(B){B[B.Initial=0]="Initial",B[B.DoneOK=1]="DoneOK",B[B.DoneError=2]="DoneError"})(f||(f={}));class E{static fromArray(d){return new E(v=>{v.emitMany(d)})}static fromPromise(d){return new E(async v=>{v.emitMany(await d)})}static fromPromises(d){return new E(async v=>{await Promise.all(d.map(async q=>v.emitOne(await q)))})}static merge(d){return new E(async v=>{await Promise.all(d.map(async q=>{for await(const Z of q)v.emitOne(Z)}))})}static{this.EMPTY=E.fromArray([])}constructor(d){this.a=0,this.b=[],this.d=null,this.f=new z.$3d,queueMicrotask(async()=>{const v={emitOne:q=>this.g(q),emitMany:q=>this.h(q),reject:q=>this.k(q)};try{await Promise.resolve(d(v)),this.j()}catch(q){this.k(q)}finally{v.emitOne=void 0,v.emitMany=void 0,v.reject=void 0}})}[Symbol.asyncIterator](){let d=0;return{next:async()=>{do{if(this.a===2)throw this.d;if(d<this.b.length)return{done:!1,value:this.b[d++]};if(this.a===1)return{done:!0,value:void 0};await z.Event.toPromise(this.f.event)}while(!0)}}}static map(d,v){return new E(async q=>{for await(const Z of d)q.emitOne(v(Z))})}map(d){return E.map(this,d)}static filter(d,v){return new E(async q=>{for await(const Z of d)v(Z)&&q.emitOne(Z)})}filter(d){return E.filter(this,d)}static coalesce(d){return E.filter(d,v=>!!v)}coalesce(){return E.coalesce(this)}static async toPromise(d){const v=[];for await(const q of d)v.push(q);return v}toPromise(){return E.toPromise(this)}g(d){this.a===0&&(this.b.push(d),this.f.fire())}h(d){this.a===0&&(this.b=this.b.concat(d),this.f.fire())}j(){this.a===0&&(this.a=1,this.f.fire())}k(d){this.a===0&&(this.a=2,this.d=d,this.f.fire())}}e.$Ch=E;class j extends E{constructor(d,v){super(v),this.l=d}cancel(){this.l.cancel()}}e.$Dh=j;function se(B){const d=new J.$ae,v=B(d.token);return new j(d,async q=>{const Z=d.token.onCancellationRequested(()=>{Z.dispose(),d.dispose(),q.reject(new D.$5)});try{for await(const _ of v){if(d.token.isCancellationRequested)return;q.emitOne(_)}Z.dispose(),d.dispose()}catch(_){Z.dispose(),d.dispose(),q.reject(_)}})}e.$Eh=se;class K{constructor(){this.a=new te,this.b=new E(q=>{if(d){q.reject(d);return}return v&&q.emitMany(v),this.d=Z=>q.reject(Z),this.f=Z=>q.emitOne(Z),this.a.p});let d,v;this.f=q=>{v||(v=[]),v.push(q)},this.d=q=>{d||(d=q)}}get asyncIterable(){return this.b}resolve(){this.a.complete()}reject(d){this.d(d),this.a.complete()}emitOne(d){this.f(d)}}e.$Fh=K}),define(ce[25],oe([0,1,44,23,11,26,6,2,3]),function(he,e,J,D,z,S,M,W,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Zj=e.$Yj=e.$Xj=e.$Wj=e.$Vj=e.$Uj=e.$Tj=e.$Sj=e.$Rj=e.$Qj=void 0;function $(){return Object.create(null)}e.$Qj=$,e.$Rj="**",e.$Sj="/";const w="[/\\\\]",V="[^/\\\\]",o=/\//g;function p(F,T){switch(F){case 0:return"";case 1:return`${V}*?`;default:return`(?:${w}|${V}+${w}${T?`|${w}${V}+`:""})*?`}}function g(F,T){if(!F)return[];const N=[];let Y=!1,H=!1,Q="";for(const te of F){switch(te){case T:if(!Y&&!H){N.push(Q),Q="";continue}break;case"{":Y=!0;break;case"}":Y=!1;break;case"[":H=!0;break;case"]":H=!1;break}Q+=te}return Q&&N.push(Q),N}e.$Tj=g;function c(F){if(!F)return"";let T="";const N=g(F,e.$Sj);if(N.every(Y=>Y===e.$Rj))T=".*";else{let Y=!1;N.forEach((H,Q)=>{if(H===e.$Rj){if(Y)return;T+=p(2,Q===N.length-1)}else{let te=!1,X="",A=!1,i="";for(const f of H){if(f!=="}"&&te){X+=f;continue}if(A&&(f!=="]"||!i)){let E;f==="-"?E=f:(f==="^"||f==="!")&&!i?E="^":f===e.$Sj?E="":E=(0,L.$Ve)(f),i+=E;continue}switch(f){case"{":te=!0;continue;case"[":A=!0;continue;case"}":{const j=`(?:${g(X,",").map(se=>c(se)).join("|")})`;T+=j,te=!1,X="";break}case"]":{T+="["+i+"]",A=!1,i="";break}case"?":T+=V;continue;case"*":T+=p(1);continue;default:T+=(0,L.$Ve)(f)}}Q<N.length-1&&(N[Q+1]!==e.$Rj||Q+2<N.length)&&(T+=w)}Y=H===e.$Rj})}return T}const l=/^\*\*\/\*\.[\w\.-]+$/,h=/^\*\*\/([\w\.-]+)\/?$/,t=/^{\*\*\/\*?[\w\.-]+\/?(,\*\*\/\*?[\w\.-]+\/?)*}$/,s=/^{\*\*\/\*?[\w\.-]+(\/(\*\*)?)?(,\*\*\/\*?[\w\.-]+(\/(\*\*)?)?)*}$/,n=/^\*\*((\/[\w\.-]+)+)\/?$/,r=/^([\w\.-]+(\/[\w\.-]+)*)\/?$/,u=new S.$Dc(1e4),m=function(){return!1},I=function(){return null};function P(F,T){if(!F)return I;let N;typeof F!="string"?N=F.pattern:N=F,N=N.trim();const Y=`${N}_${!!T.trimForExclusions}`;let H=u.get(Y);if(H)return O(H,F);let Q;return l.test(N)?H=y(N.substr(4),N):(Q=h.exec(a(N,T)))?H=R(Q[1],N):(T.trimForExclusions?s:t).test(N)?H=G(N,T):(Q=n.exec(a(N,T)))?H=k(Q[1].substr(1),N,!0):(Q=r.exec(a(N,T)))?H=k(Q[1],N,!1):H=b(N),u.set(Y,H),O(H,F)}function O(F,T){if(typeof T=="string")return F;const N=function(Y,H){return(0,z.$dg)(Y,T.base,!W.$k)?F((0,L.$1e)(Y.substr(T.base.length),M.sep),H):null};return N.allBasenames=F.allBasenames,N.allPaths=F.allPaths,N.basenames=F.basenames,N.patterns=F.patterns,N}function a(F,T){return T.trimForExclusions&&F.endsWith("/**")?F.substr(0,F.length-2):F}function y(F,T){return function(N,Y){return typeof N=="string"&&N.endsWith(F)?T:null}}function R(F,T){const N=`/${F}`,Y=`\\${F}`,H=function(te,X){return typeof te!="string"?null:X?X===F?T:null:te===F||te.endsWith(N)||te.endsWith(Y)?T:null},Q=[F];return H.basenames=Q,H.patterns=[T],H.allBasenames=Q,H}function G(F,T){const N=C(F.slice(1,-1).split(",").map(X=>P(X,T)).filter(X=>X!==I),F),Y=N.length;if(!Y)return I;if(Y===1)return N[0];const H=function(X,A){for(let i=0,f=N.length;i<f;i++)if(N[i](X,A))return F;return null},Q=N.find(X=>!!X.allBasenames);Q&&(H.allBasenames=Q.allBasenames);const te=N.reduce((X,A)=>A.allPaths?X.concat(A.allPaths):X,[]);return te.length&&(H.allPaths=te),H}function k(F,T,N){const Y=M.sep===M.$gc.sep,H=Y?F:F.replace(o,M.sep),Q=M.sep+H,te=M.$gc.sep+F;let X;return N?X=function(A,i){return typeof A=="string"&&(A===H||A.endsWith(Q)||!Y&&(A===F||A.endsWith(te)))?T:null}:X=function(A,i){return typeof A=="string"&&(A===H||!Y&&A===F)?T:null},X.allPaths=[(N?"*/":"./")+F],X}function b(F){try{const T=new RegExp(`^${c(F)}$`);return function(N){return T.lastIndex=0,typeof N=="string"&&T.test(N)?F:null}}catch{return I}}function U(F,T,N){return!F||typeof T!="string"?!1:x(F)(T,void 0,N)}e.$Uj=U;function x(F,T={}){if(!F)return m;if(typeof F=="string"||ie(F)){const N=P(F,T);if(N===I)return m;const Y=function(H,Q){return!!N(H,Q)};return N.allBasenames&&(Y.allBasenames=N.allBasenames),N.allPaths&&(Y.allPaths=N.allPaths),Y}return ne(F,T)}e.$Vj=x;function ie(F){const T=F;return T?typeof T.base=="string"&&typeof T.pattern=="string":!1}e.$Wj=ie;function le(F){return F.allBasenames||[]}e.$Xj=le;function re(F){return F.allPaths||[]}e.$Yj=re;function ne(F,T){const N=C(Object.getOwnPropertyNames(F).map(X=>ue(X,F[X],T)).filter(X=>X!==I)),Y=N.length;if(!Y)return I;if(!N.some(X=>!!X.requiresSiblings)){if(Y===1)return N[0];const X=function(f,E){let j;for(let se=0,K=N.length;se<K;se++){const B=N[se](f,E);if(typeof B=="string")return B;(0,D.$1g)(B)&&(j||(j=[]),j.push(B))}return j?(async()=>{for(const se of j){const K=await se;if(typeof K=="string")return K}return null})():null},A=N.find(f=>!!f.allBasenames);A&&(X.allBasenames=A.allBasenames);const i=N.reduce((f,E)=>E.allPaths?f.concat(E.allPaths):f,[]);return i.length&&(X.allPaths=i),X}const H=function(X,A,i){let f,E;for(let j=0,se=N.length;j<se;j++){const K=N[j];K.requiresSiblings&&i&&(A||(A=(0,M.$nc)(X)),f||(f=A.substr(0,A.length-(0,M.$oc)(X).length)));const B=K(X,A,f,i);if(typeof B=="string")return B;(0,D.$1g)(B)&&(E||(E=[]),E.push(B))}return E?(async()=>{for(const j of E){const se=await j;if(typeof se=="string")return se}return null})():null},Q=N.find(X=>!!X.allBasenames);Q&&(H.allBasenames=Q.allBasenames);const te=N.reduce((X,A)=>A.allPaths?X.concat(A.allPaths):X,[]);return te.length&&(H.allPaths=te),H}function ue(F,T,N){if(T===!1)return I;const Y=P(F,N);if(Y===I)return I;if(typeof T=="boolean")return Y;if(T){const H=T.when;if(typeof H=="string"){const Q=(te,X,A,i)=>{if(!i||!Y(te,X))return null;const f=H.replace("$(basename)",()=>A),E=i(f);return(0,D.$1g)(E)?E.then(j=>j?F:null):E?F:null};return Q.requiresSiblings=!0,Q}}return Y}function C(F,T){const N=F.filter(X=>!!X.basenames);if(N.length<2)return F;const Y=N.reduce((X,A)=>{const i=A.basenames;return i?X.concat(i):X},[]);let H;if(T){H=[];for(let X=0,A=Y.length;X<A;X++)H.push(T)}else H=N.reduce((X,A)=>{const i=A.patterns;return i?X.concat(i):X},[]);const Q=function(X,A){if(typeof X!="string")return null;if(!A){let f;for(f=X.length;f>0;f--){const E=X.charCodeAt(f-1);if(E===47||E===92)break}A=X.substr(f)}const i=Y.indexOf(A);return i!==-1?H[i]:null};Q.basenames=Y,Q.patterns=H,Q.allBasenames=Y;const te=F.filter(X=>!X.basenames);return te.push(Q),te}function ee(F,T){return(0,J.$ub)(F,T,(N,Y)=>typeof N=="string"&&typeof Y=="string"?N===Y:typeof N!="string"&&typeof Y!="string"?N.base===Y.base&&N.pattern===Y.pattern:!1)}e.$Zj=ee}),define(ce[27],oe([0,1,3,2,5]),function(he,e,J,D,z){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$lt=e.$kt=e.$jt=void 0;let S;function M(){return S||(S=new TextDecoder("UTF-16LE")),S}let W;function L(){return W||(W=new TextDecoder("UTF-16BE")),W}let $;function w(){return $||($=D.$D()?M():L()),$}e.$jt=w;function V(g,c,l){const h=new Uint16Array(g.buffer,c,l);return l>0&&(h[0]===65279||h[0]===65534)?o(g,c,l):M().decode(h)}e.$kt=V;function o(g,c,l){const h=[];let t=0;for(let s=0;s<l;s++){const n=z.$se(g,c);c+=2,h[t++]=String.fromCharCode(n)}return h.join("")}class p{constructor(c){this.a=c|0,this.b=new Uint16Array(this.a),this.c=null,this.d=0}reset(){this.c=null,this.d=0}build(){return this.c!==null?(this.f(),this.c.join("")):this.e()}e(){if(this.d===0)return"";const c=new Uint16Array(this.b.buffer,0,this.d);return w().decode(c)}f(){const c=this.e();this.d=0,this.c===null?this.c=[c]:this.c[this.c.length]=c}appendCharCode(c){const l=this.a-this.d;l<=1&&(l===0||J.$lf(c))&&this.f(),this.b[this.d++]=c}appendASCIICharCode(c){this.d===this.a&&this.f(),this.b[this.d++]=c}appendString(c){const l=c.length;if(this.d+l>=this.a){this.f(),this.c[this.c.length]=c;return}for(let h=0;h<l;h++)this.b[this.d++]=c.charCodeAt(h)}}e.$lt=p}),define(ce[28],oe([0,1,5,27]),function(he,e,J,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$nt=e.$mt=void 0;function z(L){return L.replace(/\n/g,"\\n").replace(/\r/g,"\\r")}class S{get oldLength(){return this.oldText.length}get oldEnd(){return this.oldPosition+this.oldText.length}get newLength(){return this.newText.length}get newEnd(){return this.newPosition+this.newText.length}constructor($,w,V,o){this.oldPosition=$,this.oldText=w,this.newPosition=V,this.newText=o}toString(){return this.oldText.length===0?`(insert@${this.oldPosition} "${z(this.newText)}")`:this.newText.length===0?`(delete@${this.oldPosition} "${z(this.oldText)}")`:`(replace@${this.oldPosition} "${z(this.oldText)}" with "${z(this.newText)}")`}static a($){return 4+2*$.length}static c($,w,V){const o=w.length;J.$ve($,o,V),V+=4;for(let p=0;p<o;p++)J.$te($,w.charCodeAt(p),V),V+=2;return V}static d($,w){const V=J.$ue($,w);return w+=4,(0,D.$kt)($,w,V)}writeSize(){return 8+S.a(this.oldText)+S.a(this.newText)}write($,w){return J.$ve($,this.oldPosition,w),w+=4,J.$ve($,this.newPosition,w),w+=4,w=S.c($,this.oldText,w),w=S.c($,this.newText,w),w}static read($,w,V){const o=J.$ue($,w);w+=4;const p=J.$ue($,w);w+=4;const g=S.d($,w);w+=S.a(g);const c=S.d($,w);return w+=S.a(c),V.push(new S(o,g,p,c)),w}}e.$mt=S;function M(L,$){return L===null||L.length===0?$:new W(L,$).compress()}e.$nt=M;class W{constructor($,w){this.a=$,this.c=w,this.d=[],this.e=0,this.f=this.a.length,this.g=0,this.h=this.c.length,this.j=0}compress(){let $=0,w=0,V=this.n($),o=this.l(w);for(;$<this.f||w<this.h;){if(V===null){this.k(o),o=this.l(++w);continue}if(o===null){this.m(V),V=this.n(++$);continue}if(o.oldEnd<=V.newPosition){this.k(o),o=this.l(++w);continue}if(V.newEnd<=o.oldPosition){this.m(V),V=this.n(++$);continue}if(o.oldPosition<V.newPosition){const[h,t]=W.r(o,V.newPosition-o.oldPosition);this.k(h),o=t;continue}if(V.newPosition<o.oldPosition){const[h,t]=W.q(V,o.oldPosition-V.newPosition);this.m(h),V=t;continue}let c,l;if(o.oldEnd===V.newEnd)c=V,l=o,V=this.n(++$),o=this.l(++w);else if(o.oldEnd<V.newEnd){const[h,t]=W.q(V,o.oldLength);c=h,l=o,V=t,o=this.l(++w)}else{const[h,t]=W.r(o,V.newLength);c=V,l=h,V=this.n(++$),o=t}this.d[this.e++]=new S(c.oldPosition,c.oldText,l.newPosition,l.newText),this.g+=c.newLength-c.oldLength,this.j+=l.newLength-l.oldLength}const p=W.s(this.d);return W.t(p)}k($){this.d[this.e++]=W.o(this.g,$),this.j+=$.newLength-$.oldLength}l($){return $<this.h?this.c[$]:null}m($){this.d[this.e++]=W.p(this.j,$),this.g+=$.newLength-$.oldLength}n($){return $<this.f?this.a[$]:null}static o($,w){return new S(w.oldPosition-$,w.oldText,w.newPosition,w.newText)}static p($,w){return new S(w.oldPosition,w.oldText,w.newPosition+$,w.newText)}static q($,w){const V=$.newText.substr(0,w),o=$.newText.substr(w);return[new S($.oldPosition,$.oldText,$.newPosition,V),new S($.oldEnd,"",$.newPosition+w,o)]}static r($,w){const V=$.oldText.substr(0,w),o=$.oldText.substr(w);return[new S($.oldPosition,V,$.newPosition,$.newText),new S($.oldPosition+w,o,$.newEnd,"")]}static s($){if($.length===0)return $;const w=[];let V=0,o=$[0];for(let p=1;p<$.length;p++){const g=$[p];o.oldEnd===g.oldPosition?o=new S(o.oldPosition,o.oldText+g.oldText,o.newPosition,o.newText+g.newText):(w[V++]=o,o=g)}return w[V++]=o,w}static t($){if($.length===0)return $;const w=[];let V=0;for(let o=0;o<$.length;o++){const p=$[o];p.oldText!==p.newText&&(w[V++]=p)}return w}}}),define(ce[29],oe([0,1,24,3,10,19,9,17,28,8]),function(he,e,J,D,z,S,M,W,L,$){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$kC=void 0;class w extends $.$Tc{constructor(o,p,g,c,l,h,t){super(),this.m=this.B(new J.$3d),this.onDidChangeContent=this.m.event,this.f=p,this.j=!h,this.g=c,this.h=l,this.c=new M.$jC(o,g,t)}equals(o){return!(o instanceof w)||this.f!==o.f||this.getEOL()!==o.getEOL()?!1:this.c.equal(o.c)}mightContainRTL(){return this.g}mightContainUnusualLineTerminators(){return this.h}resetMightContainUnusualLineTerminators(){this.h=!1}mightContainNonBasicASCII(){return this.j}getBOM(){return this.f}getEOL(){return this.c.getEOL()}createSnapshot(o){return this.c.createSnapshot(o?this.f:"")}getOffsetAt(o,p){return this.c.getOffsetAt(o,p)}getPositionAt(o){return this.c.getPositionAt(o)}getRangeAt(o,p){const g=o+p,c=this.getPositionAt(o),l=this.getPositionAt(g);return new z.$4s(c.lineNumber,c.column,l.lineNumber,l.column)}getValueInRange(o,p=0){if(o.isEmpty())return"";const g=this.n(p);return this.c.getValueInRange(o,g)}getValueLengthInRange(o,p=0){if(o.isEmpty())return 0;if(o.startLineNumber===o.endLineNumber)return o.endColumn-o.startColumn;const g=this.getOffsetAt(o.startLineNumber,o.startColumn),c=this.getOffsetAt(o.endLineNumber,o.endColumn);let l=0;const h=this.n(p),t=this.getEOL();if(h.length!==t.length){const s=h.length-t.length,n=o.endLineNumber-o.startLineNumber;l=s*n}return c-g+l}getCharacterCountInRange(o,p=0){if(this.j){let g=0;const c=o.startLineNumber,l=o.endLineNumber;for(let h=c;h<=l;h++){const t=this.getLineContent(h),s=h===c?o.startColumn-1:0,n=h===l?o.endColumn-1:t.length;for(let r=s;r<n;r++)D.$lf(t.charCodeAt(r))?(g=g+1,r=r+1):g=g+1}return g+=this.n(p).length*(l-c),g}return this.getValueLengthInRange(o,p)}getLength(){return this.c.getLength()}getLineCount(){return this.c.getLineCount()}getLinesContent(){return this.c.getLinesContent()}getLineContent(o){return this.c.getLineContent(o)}getLineCharCode(o,p){return this.c.getLineCharCode(o,p)}getCharCode(o){return this.c.getCharCode(o)}getLineLength(o){return this.c.getLineLength(o)}getLineMinColumn(o){return 1}getLineMaxColumn(o){return this.getLineLength(o)+1}getLineFirstNonWhitespaceColumn(o){const p=D.$9e(this.getLineContent(o));return p===-1?0:p+1}getLineLastNonWhitespaceColumn(o){const p=D.$$e(this.getLineContent(o));return p===-1?0:p+2}n(o){switch(o){case 1:return`
`;case 2:return`\r
`;case 0:return this.getEOL();default:throw new Error("Unknown EOL preference")}}setEOL(o){this.c.setEOL(o)}applyEdits(o,p,g){let c=this.g,l=this.h,h=this.j,t=!0,s=[];for(let O=0;O<o.length;O++){const a=o[O];t&&a._isTracked&&(t=!1);const y=a.range;if(a.text){let U=!0;h||(U=!D.$wf(a.text),h=U),!c&&U&&(c=D.$vf(a.text)),!l&&U&&(l=D.$yf(a.text))}let R="",G=0,k=0,b=0;if(a.text){let U;[G,k,b,U]=(0,W.$Dt)(a.text);const x=this.getEOL();U===0||U===(x===`\r
`?2:1)?R=a.text:R=a.text.replace(/\r\n|\r|\n/g,x)}s[O]={sortIndex:O,identifier:a.identifier||null,range:y,rangeOffset:this.getOffsetAt(y.startLineNumber,y.startColumn),rangeLength:this.getValueLengthInRange(y),text:R,eolCount:G,firstLineLength:k,lastLineLength:b,forceMoveMarkers:!!a.forceMoveMarkers,isAutoWhitespaceEdit:a.isAutoWhitespaceEdit||!1}}s.sort(w.u);let n=!1;for(let O=0,a=s.length-1;O<a;O++){const y=s[O].range.getEndPosition(),R=s[O+1].range.getStartPosition();if(R.isBeforeOrEqual(y)){if(R.isBefore(y))throw new Error("Overlapping ranges are not allowed!");n=!0}}t&&(s=this.s(s));const r=g||p?w._getInverseEditRanges(s):[],u=[];if(p)for(let O=0;O<s.length;O++){const a=s[O],y=r[O];if(a.isAutoWhitespaceEdit&&a.range.isEmpty())for(let R=y.startLineNumber;R<=y.endLineNumber;R++){let G="";R===y.startLineNumber&&(G=this.getLineContent(a.range.startLineNumber),D.$9e(G)!==-1)||u.push({lineNumber:R,oldContent:G})}}let m=null;if(g){let O=0;m=[];for(let a=0;a<s.length;a++){const y=s[a],R=r[a],G=this.getValueInRange(y.range),k=y.rangeOffset+O;O+=y.text.length-G.length,m[a]={sortIndex:y.sortIndex,identifier:y.identifier,range:R,text:G,textChange:new L.$mt(y.rangeOffset,G,k,y.text)}}n||m.sort((a,y)=>a.sortIndex-y.sortIndex)}this.g=c,this.h=l,this.j=h;const I=this.t(s);let P=null;if(p&&u.length>0){u.sort((O,a)=>a.lineNumber-O.lineNumber),P=[];for(let O=0,a=u.length;O<a;O++){const y=u[O].lineNumber;if(O>0&&u[O-1].lineNumber===y)continue;const R=u[O].oldContent,G=this.getLineContent(y);G.length===0||G===R||D.$9e(G)!==-1||P.push(y)}}return this.m.fire(),new S.$nv(m,I,P)}s(o){return o.length<1e3?o:[this._toSingleEditOperation(o)]}_toSingleEditOperation(o){let p=!1;const g=o[0].range,c=o[o.length-1].range,l=new z.$4s(g.startLineNumber,g.startColumn,c.endLineNumber,c.endColumn);let h=g.startLineNumber,t=g.startColumn;const s=[];for(let I=0,P=o.length;I<P;I++){const O=o[I],a=O.range;p=p||O.forceMoveMarkers,s.push(this.getValueInRange(new z.$4s(h,t,a.startLineNumber,a.startColumn))),O.text.length>0&&s.push(O.text),h=a.endLineNumber,t=a.endColumn}const n=s.join(""),[r,u,m]=(0,W.$Dt)(n);return{sortIndex:0,identifier:o[0].identifier,range:l,rangeOffset:this.getOffsetAt(l.startLineNumber,l.startColumn),rangeLength:this.getValueLengthInRange(l,0),text:n,eolCount:r,firstLineLength:u,lastLineLength:m,forceMoveMarkers:p,isAutoWhitespaceEdit:!1}}t(o){o.sort(w.w);const p=[];for(let g=0;g<o.length;g++){const c=o[g],l=c.range.startLineNumber,h=c.range.startColumn,t=c.range.endLineNumber,s=c.range.endColumn;if(l===t&&h===s&&c.text.length===0)continue;c.text?(this.c.delete(c.rangeOffset,c.rangeLength),this.c.insert(c.rangeOffset,c.text,!0)):this.c.delete(c.rangeOffset,c.rangeLength);const n=new z.$4s(l,h,t,s);p.push({range:n,rangeLength:c.rangeLength,text:c.text,rangeOffset:c.rangeOffset,forceMoveMarkers:c.forceMoveMarkers})}return p}findMatchesLineByLine(o,p,g,c){return this.c.findMatchesLineByLine(o,p,g,c)}getPieceTree(){return this.c}static _getInverseEditRange(o,p){const g=o.startLineNumber,c=o.startColumn,[l,h,t]=(0,W.$Dt)(p);let s;if(p.length>0){const n=l+1;n===1?s=new z.$4s(g,c,g,c+h):s=new z.$4s(g,c,g+n-1,t+1)}else s=new z.$4s(g,c,g,c);return s}static _getInverseEditRanges(o){const p=[];let g=0,c=0,l=null;for(let h=0,t=o.length;h<t;h++){const s=o[h];let n,r;l?l.range.endLineNumber===s.range.startLineNumber?(n=g,r=c+(s.range.startColumn-l.range.endColumn)):(n=g+(s.range.startLineNumber-l.range.endLineNumber),r=s.range.startColumn):(n=s.range.startLineNumber,r=s.range.startColumn);let u;if(s.text.length>0){const m=s.eolCount+1;m===1?u=new z.$4s(n,r,n,r+s.firstLineLength):u=new z.$4s(n,r,n+m-1,s.lastLineLength+1)}else u=new z.$4s(n,r,n,r);g=u.endLineNumber,c=u.endColumn,p.push(u),l=s}return p}static u(o,p){const g=z.$4s.compareRangesUsingEnds(o.range,p.range);return g===0?o.sortIndex-p.sortIndex:g}static w(o,p){const g=z.$4s.compareRangesUsingEnds(o.range,p.range);return g===0?p.sortIndex-o.sortIndex:-g}}e.$kC=w}),define(ce[30],oe([0,1,3,9,29]),function(he,e,J,D,z){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$lC=void 0;class S{constructor(L,$,w,V,o,p,g,c,l){this.a=L,this.b=$,this.c=w,this.d=V,this.e=o,this.f=p,this.g=g,this.h=c,this.j=l}k(L){const $=this.c+this.d+this.e,w=this.c+this.e;return $===0?L===1?`
`:`\r
`:w>$/2?`\r
`:`
`}create(L){const $=this.k(L),w=this.a;if(this.j&&($===`\r
`&&(this.c>0||this.d>0)||$===`
`&&(this.c>0||this.e>0)))for(let o=0,p=w.length;o<p;o++){const g=w[o].buffer.replace(/\r\n|\r|\n/g,$),c=(0,D.$fC)(g);w[o]=new D.$iC(g,c)}const V=new z.$kC(w,this.b,$,this.f,this.g,this.h,this.j);return{textBuffer:V,disposable:V}}getFirstLineText(L){return this.a[0].buffer.substr(0,L).split(/\r\n|\r|\n/)[0]}}class M{constructor(){this.a=[],this.b="",this.c=!1,this.d=0,this.e=[],this.f=0,this.g=0,this.h=0,this.j=!1,this.k=!1,this.l=!0}acceptChunk(L){if(L.length===0)return;this.a.length===0&&J.$Ef(L)&&(this.b=J.$Df,L=L.substr(1));const $=L.charCodeAt(L.length-1);$===13||$>=55296&&$<=56319?(this.m(L.substr(0,L.length-1),!1),this.c=!0,this.d=$):(this.m(L,!1),this.c=!1,this.d=$)}m(L,$){!$&&L.length===0||(this.c?this.n(String.fromCharCode(this.d)+L):this.n(L))}n(L){const $=(0,D.$gC)(this.e,L);this.a.push(new D.$iC(L,$.lineStarts)),this.f+=$.cr,this.g+=$.lf,this.h+=$.crlf,$.isBasicASCII||(this.l=!1,this.j||(this.j=J.$vf(L)),this.k||(this.k=J.$yf(L)))}finish(L=!0){return this.o(),new S(this.a,this.b,this.f,this.g,this.h,this.j,this.k,this.l,L)}o(){if(this.a.length===0&&this.m("",!0),this.c){this.c=!1;const L=this.a[this.a.length-1];L.buffer+=String.fromCharCode(this.d);const $=(0,D.$fC)(L.buffer);L.lineStarts=$,this.d===13&&this.f++}}}e.$lC=M}),define(ce[31],oe([32,33]),function(he,e){return he.create("vs/platform/contextkey/common/contextkey",e)}),define(ce[34],oe([32,33]),function(he,e){return he.create("vs/platform/contextkey/common/scanner",e)}),define(ce[35],oe([0,1,4,34]),function(he,e,J,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$0i=e.TokenType=void 0;var z;(function($){$[$.LParen=0]="LParen",$[$.RParen=1]="RParen",$[$.Neg=2]="Neg",$[$.Eq=3]="Eq",$[$.NotEq=4]="NotEq",$[$.Lt=5]="Lt",$[$.LtEq=6]="LtEq",$[$.Gt=7]="Gt",$[$.GtEq=8]="GtEq",$[$.RegexOp=9]="RegexOp",$[$.RegexStr=10]="RegexStr",$[$.True=11]="True",$[$.False=12]="False",$[$.In=13]="In",$[$.Not=14]="Not",$[$.And=15]="And",$[$.Or=16]="Or",$[$.Str=17]="Str",$[$.QuotedStr=18]="QuotedStr",$[$.Error=19]="Error",$[$.EOF=20]="EOF"})(z||(e.TokenType=z={}));function S(...$){switch($.length){case 1:return(0,D.localize)(0,null,$[0]);case 2:return(0,D.localize)(1,null,$[0],$[1]);case 3:return(0,D.localize)(2,null,$[0],$[1],$[2]);default:return}}const M=(0,D.localize)(3,null),W=(0,D.localize)(4,null);class L{constructor(){this.c="",this.d=0,this.e=0,this.f=[],this.g=[],this.m=/[a-zA-Z0-9_<>\-\./\\:\*\?\+\[\]\^,#@;"%\$\p{L}-]+/uy}static getLexeme(w){switch(w.type){case 0:return"(";case 1:return")";case 2:return"!";case 3:return w.isTripleEq?"===":"==";case 4:return w.isTripleEq?"!==":"!=";case 5:return"<";case 6:return"<=";case 7:return">=";case 8:return">=";case 9:return"=~";case 10:return w.lexeme;case 11:return"true";case 12:return"false";case 13:return"in";case 14:return"not";case 15:return"&&";case 16:return"||";case 17:return w.lexeme;case 18:return w.lexeme;case 19:return w.lexeme;case 20:return"EOF";default:throw(0,J.$8)(`unhandled token type: ${JSON.stringify(w)}; have you forgotten to add a case?`)}}static{this.a=new Set(["i","g","s","m","y","u"].map(w=>w.charCodeAt(0)))}static{this.b=new Map([["not",14],["in",13],["false",12],["true",11]])}get errors(){return this.g}reset(w){return this.c=w,this.d=0,this.e=0,this.f=[],this.g=[],this}scan(){for(;!this.r();)switch(this.d=this.e,this.i()){case 40:this.k(0);break;case 41:this.k(1);break;case 33:if(this.h(61)){const V=this.h(61);this.f.push({type:4,offset:this.d,isTripleEq:V})}else this.k(2);break;case 39:this.o();break;case 47:this.q();break;case 61:if(this.h(61)){const V=this.h(61);this.f.push({type:3,offset:this.d,isTripleEq:V})}else this.h(126)?this.k(9):this.l(S("==","=~"));break;case 60:this.k(this.h(61)?6:5);break;case 62:this.k(this.h(61)?8:7);break;case 38:this.h(38)?this.k(15):this.l(S("&&"));break;case 124:this.h(124)?this.k(16):this.l(S("||"));break;case 32:case 13:case 9:case 10:case 160:break;default:this.n()}return this.d=this.e,this.k(20),Array.from(this.f)}h(w){return this.r()||this.c.charCodeAt(this.e)!==w?!1:(this.e++,!0)}i(){return this.c.charCodeAt(this.e++)}j(){return this.r()?0:this.c.charCodeAt(this.e)}k(w){this.f.push({type:w,offset:this.d})}l(w){const V=this.d,o=this.c.substring(this.d,this.e),p={type:19,offset:this.d,lexeme:o};this.g.push({offset:V,lexeme:o,additionalInfo:w}),this.f.push(p)}n(){this.m.lastIndex=this.d;const w=this.m.exec(this.c);if(w){this.e=this.d+w[0].length;const V=this.c.substring(this.d,this.e),o=L.b.get(V);o?this.k(o):this.f.push({type:17,lexeme:V,offset:this.d})}}o(){for(;this.j()!==39&&!this.r();)this.i();if(this.r()){this.l(M);return}this.i(),this.f.push({type:18,lexeme:this.c.substring(this.d+1,this.e-1),offset:this.d+1})}q(){let w=this.e,V=!1,o=!1;for(;;){if(w>=this.c.length){this.e=w,this.l(W);return}const g=this.c.charCodeAt(w);if(V)V=!1;else if(g===47&&!o){w++;break}else g===91?o=!0:g===92?V=!0:g===93&&(o=!1);w++}for(;w<this.c.length&&L.a.has(this.c.charCodeAt(w));)w++;this.e=w;const p=this.c.substring(this.d,this.e);this.f.push({type:10,lexeme:p,offset:this.d})}r(){return this.e>=this.c.length}}e.$0i=L}),define(ce[36],oe([0,1]),function(he,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$_h=void 0;class J{constructor(z,S=[],M=!1){this.ctor=z,this.staticArguments=S,this.supportsDelayedInstantiation=M}}e.$_h=J}),define(ce[37],oe([0,1,36]),function(he,e,J){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$9r=e.$8r=e.InstantiationType=void 0;const D=[];var z;(function(W){W[W.Eager=0]="Eager",W[W.Delayed=1]="Delayed"})(z||(e.InstantiationType=z={}));function S(W,L,$){L instanceof J.$_h||(L=new J.$_h(L,[],!!$)),D.push([W,L])}e.$8r=S;function M(){return D}e.$9r=M}),define(ce[13],oe([0,1]),function(he,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$di=e.$ci=e.$bi=e._util=void 0;var J;(function(M){M.serviceIds=new Map,M.DI_TARGET="$di$target",M.DI_DEPENDENCIES="$di$dependencies";function W(L){return L[M.DI_DEPENDENCIES]||[]}M.getServiceDependencies=W})(J||(e._util=J={})),e.$bi=z("instantiationService");function D(M,W,L){W[J.DI_TARGET]===W?W[J.DI_DEPENDENCIES].push({id:M,index:L}):(W[J.DI_DEPENDENCIES]=[{id:M,index:L}],W[J.DI_TARGET]=W)}function z(M){if(J.serviceIds.has(M))return J.serviceIds.get(M);const W=function(L,$,w){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");D(W,L,w)};return W.toString=()=>M,J.serviceIds.set(M,W),W}e.$ci=z;function S(M){return M}e.$di=S}),define(ce[38],oe([0,1,2,3,35,13,31,4]),function(he,e,J,D,z,S,M,W){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$vj=e.$uj=e.$tj=e.$sj=e.$rj=e.$qj=e.$pj=e.$oj=e.$nj=e.$mj=e.$lj=e.$kj=e.$jj=e.$ij=e.$hj=e.$gj=e.$fj=e.$ej=e.$dj=e.$cj=e.$bj=e.$aj=e.$_i=e.ContextKeyExprType=e.$$i=void 0;const L=new Map;L.set("false",!1),L.set("true",!0),L.set("isMac",J.$j),L.set("isLinux",J.$k),L.set("isWindows",J.$i),L.set("isWeb",J.$o),L.set("isMacNative",J.$j&&!J.$o),L.set("isEdge",J.$H),L.set("isFirefox",J.$F),L.set("isChrome",J.$E),L.set("isSafari",J.$G);function $(A,i){if(L.get(A)!==void 0)throw(0,W.$7)("contextkey.setConstant(k, v) invoked with already set constant `k`");L.set(A,i)}e.$$i=$;const w=Object.prototype.hasOwnProperty;var V;(function(A){A[A.False=0]="False",A[A.True=1]="True",A[A.Defined=2]="Defined",A[A.Not=3]="Not",A[A.Equals=4]="Equals",A[A.NotEquals=5]="NotEquals",A[A.And=6]="And",A[A.Regex=7]="Regex",A[A.NotRegex=8]="NotRegex",A[A.Or=9]="Or",A[A.In=10]="In",A[A.NotIn=11]="NotIn",A[A.Greater=12]="Greater",A[A.GreaterEquals=13]="GreaterEquals",A[A.Smaller=14]="Smaller",A[A.SmallerEquals=15]="SmallerEquals"})(V||(e.ContextKeyExprType=V={}));const o={regexParsingWithErrorRecovery:!0},p=(0,M.localize)(0,null),g=(0,M.localize)(1,null),c=(0,M.localize)(2,null),l=(0,M.localize)(3,null),h=(0,M.localize)(4,null),t=(0,M.localize)(5,null),s=(0,M.localize)(6,null),n=(0,M.localize)(7,null);class r{static{this.c=new Error}get lexingErrors(){return this.d.errors}get parsingErrors(){return this.h}constructor(i=o){this.k=i,this.d=new z.$0i,this.f=[],this.g=0,this.h=[],this.v=/g|y/g}parse(i){if(i===""){this.h.push({message:p,offset:0,lexeme:"",additionalInfo:g});return}this.f=this.d.reset(i).scan(),this.g=0,this.h=[];try{const f=this.l();if(!this.E()){const E=this.D(),j=E.type===17?t:void 0;throw this.h.push({message:h,offset:E.offset,lexeme:z.$0i.getLexeme(E),additionalInfo:j}),r.c}return f}catch(f){if(f!==r.c)throw f;return}}l(){return this.m()}m(){const i=[this.o()];for(;this.y(16);){const f=this.o();i.push(f)}return i.length===1?i[0]:u.or(...i)}o(){const i=[this.s()];for(;this.y(15);){const f=this.s();i.push(f)}return i.length===1?i[0]:u.and(...i)}s(){if(this.y(2)){const i=this.D();switch(i.type){case 11:return this.z(),O.INSTANCE;case 12:return this.z(),a.INSTANCE;case 0:{this.z();const f=this.l();return this.A(1,l),f?.negate()}case 17:return this.z(),U.create(i.lexeme);default:throw this.B("KEY | true | false | '(' expression ')'",i)}}return this.t()}t(){const i=this.D();switch(i.type){case 11:return this.z(),u.true();case 12:return this.z(),u.false();case 0:{this.z();const f=this.l();return this.A(1,l),f}case 17:{const f=i.lexeme;if(this.z(),this.y(9)){const j=this.D();if(!this.k.regexParsingWithErrorRecovery){if(this.z(),j.type!==10)throw this.B("REGEX",j);const se=j.lexeme,K=se.lastIndexOf("/"),B=K===se.length-1?void 0:this.w(se.substring(K+1));let d;try{d=new RegExp(se.substring(1,K),B)}catch{throw this.B("REGEX",j)}return ue.create(f,d)}switch(j.type){case 10:case 19:{const se=[j.lexeme];this.z();let K=this.D(),B=0;for(let _=0;_<j.lexeme.length;_++)j.lexeme.charCodeAt(_)===40?B++:j.lexeme.charCodeAt(_)===41&&B--;for(;!this.E()&&K.type!==15&&K.type!==16;){switch(K.type){case 0:B++;break;case 1:B--;break;case 10:case 18:for(let _=0;_<K.lexeme.length;_++)K.lexeme.charCodeAt(_)===40?B++:j.lexeme.charCodeAt(_)===41&&B--}if(B<0)break;se.push(z.$0i.getLexeme(K)),this.z(),K=this.D()}const d=se.join(""),v=d.lastIndexOf("/"),q=v===d.length-1?void 0:this.w(d.substring(v+1));let Z;try{Z=new RegExp(d.substring(1,v),q)}catch{throw this.B("REGEX",j)}return u.regex(f,Z)}case 18:{const se=j.lexeme;this.z();let K=null;if(!(0,D.$Qe)(se)){const B=se.indexOf("/"),d=se.lastIndexOf("/");if(B!==d&&B>=0){const v=se.slice(B+1,d),q=se[d+1]==="i"?"i":"";try{K=new RegExp(v,q)}catch{throw this.B("REGEX",j)}}}if(K===null)throw this.B("REGEX",j);return ue.create(f,K)}default:throw this.B("REGEX",this.D())}}if(this.y(14)){this.A(13,c);const j=this.u();return u.notIn(f,j)}switch(this.D().type){case 3:{this.z();const j=this.u();if(this.x().type===18)return u.equals(f,j);switch(j){case"true":return u.has(f);case"false":return u.not(f);default:return u.equals(f,j)}}case 4:{this.z();const j=this.u();if(this.x().type===18)return u.notEquals(f,j);switch(j){case"true":return u.not(f);case"false":return u.has(f);default:return u.notEquals(f,j)}}case 5:return this.z(),re.create(f,this.u());case 6:return this.z(),ne.create(f,this.u());case 7:return this.z(),ie.create(f,this.u());case 8:return this.z(),le.create(f,this.u());case 13:return this.z(),u.in(f,this.u());default:return u.has(f)}}case 20:throw this.h.push({message:s,offset:i.offset,lexeme:"",additionalInfo:n}),r.c;default:throw this.B(`true | false | KEY 
	| KEY '=~' REGEX 
	| KEY ('==' | '!=' | '<' | '<=' | '>' | '>=' | 'in' | 'not' 'in') value`,this.D())}}u(){const i=this.D();switch(i.type){case 17:case 18:return this.z(),i.lexeme;case 11:return this.z(),"true";case 12:return this.z(),"false";case 13:return this.z(),"in";default:return""}}w(i){return i.replaceAll(this.v,"")}x(){return this.f[this.g-1]}y(i){return this.C(i)?(this.z(),!0):!1}z(){return this.E()||this.g++,this.x()}A(i,f){if(this.C(i))return this.z();throw this.B(f,this.D())}B(i,f,E){const j=(0,M.localize)(8,null,i,z.$0i.getLexeme(f)),se=f.offset,K=z.$0i.getLexeme(f);return this.h.push({message:j,offset:se,lexeme:K,additionalInfo:E}),r.c}C(i){return this.D().type===i}D(){return this.f[this.g]}E(){return this.D().type===20}}e.$_i=r;class u{static false(){return O.INSTANCE}static true(){return a.INSTANCE}static has(i){return y.create(i)}static equals(i,f){return R.create(i,f)}static notEquals(i,f){return b.create(i,f)}static regex(i,f){return ue.create(i,f)}static in(i,f){return G.create(i,f)}static notIn(i,f){return k.create(i,f)}static not(i){return U.create(i)}static and(...i){return F.create(i,null,!0)}static or(...i){return T.create(i,null,!0)}static greater(i,f){return ie.create(i,f)}static greaterEquals(i,f){return le.create(i,f)}static smaller(i,f){return re.create(i,f)}static smallerEquals(i,f){return ne.create(i,f)}static{this.c=new r({regexParsingWithErrorRecovery:!1})}static deserialize(i){return i==null?void 0:this.c.parse(i)}}e.$aj=u;function m(A){const i=new r({regexParsingWithErrorRecovery:!1});return A.map(f=>(i.parse(f),i.lexingErrors.length>0?i.lexingErrors.map(E=>({errorMessage:E.additionalInfo?(0,M.localize)(9,null,E.additionalInfo):(0,M.localize)(10,null),offset:E.offset,length:E.lexeme.length})):i.parsingErrors.length>0?i.parsingErrors.map(E=>({errorMessage:E.additionalInfo?`${E.message}. ${E.additionalInfo}`:E.message,offset:E.offset,length:E.lexeme.length})):[]))}e.$bj=m;function I(A,i){const f=A?A.substituteConstants():void 0,E=i?i.substituteConstants():void 0;return!f&&!E?!0:!f||!E?!1:f.equals(E)}e.$cj=I;function P(A,i){return A.cmp(i)}class O{static{this.INSTANCE=new O}constructor(){this.type=0}cmp(i){return this.type-i.type}equals(i){return i.type===this.type}substituteConstants(){return this}evaluate(i){return!1}serialize(){return"false"}keys(){return[]}map(i){return this}negate(){return a.INSTANCE}}e.$dj=O;class a{static{this.INSTANCE=new a}constructor(){this.type=1}cmp(i){return this.type-i.type}equals(i){return i.type===this.type}substituteConstants(){return this}evaluate(i){return!0}serialize(){return"true"}keys(){return[]}map(i){return this}negate(){return O.INSTANCE}}e.$ej=a;class y{static create(i,f=null){const E=L.get(i);return typeof E=="boolean"?E?a.INSTANCE:O.INSTANCE:new y(i,f)}constructor(i,f){this.key=i,this.c=f,this.type=2}cmp(i){return i.type!==this.type?this.type-i.type:Y(this.key,i.key)}equals(i){return i.type===this.type?this.key===i.key:!1}substituteConstants(){const i=L.get(this.key);return typeof i=="boolean"?i?a.INSTANCE:O.INSTANCE:this}evaluate(i){return!!i.getValue(this.key)}serialize(){return this.key}keys(){return[this.key]}map(i){return i.mapDefined(this.key)}negate(){return this.c||(this.c=U.create(this.key,this)),this.c}}e.$fj=y;class R{static create(i,f,E=null){if(typeof f=="boolean")return f?y.create(i,E):U.create(i,E);const j=L.get(i);return typeof j=="boolean"?f===(j?"true":"false")?a.INSTANCE:O.INSTANCE:new R(i,f,E)}constructor(i,f,E){this.c=i,this.d=f,this.f=E,this.type=4}cmp(i){return i.type!==this.type?this.type-i.type:H(this.c,this.d,i.c,i.d)}equals(i){return i.type===this.type?this.c===i.c&&this.d===i.d:!1}substituteConstants(){const i=L.get(this.c);if(typeof i=="boolean"){const f=i?"true":"false";return this.d===f?a.INSTANCE:O.INSTANCE}return this}evaluate(i){return i.getValue(this.c)==this.d}serialize(){return`${this.c} == '${this.d}'`}keys(){return[this.c]}map(i){return i.mapEquals(this.c,this.d)}negate(){return this.f||(this.f=b.create(this.c,this.d,this)),this.f}}e.$gj=R;class G{static create(i,f){return new G(i,f)}constructor(i,f){this.d=i,this.f=f,this.type=10,this.c=null}cmp(i){return i.type!==this.type?this.type-i.type:H(this.d,this.f,i.d,i.f)}equals(i){return i.type===this.type?this.d===i.d&&this.f===i.f:!1}substituteConstants(){return this}evaluate(i){const f=i.getValue(this.f),E=i.getValue(this.d);return Array.isArray(f)?f.includes(E):typeof E=="string"&&typeof f=="object"&&f!==null?w.call(f,E):!1}serialize(){return`${this.d} in '${this.f}'`}keys(){return[this.d,this.f]}map(i){return i.mapIn(this.d,this.f)}negate(){return this.c||(this.c=k.create(this.d,this.f)),this.c}}e.$hj=G;class k{static create(i,f){return new k(i,f)}constructor(i,f){this.d=i,this.f=f,this.type=11,this.c=G.create(i,f)}cmp(i){return i.type!==this.type?this.type-i.type:this.c.cmp(i.c)}equals(i){return i.type===this.type?this.c.equals(i.c):!1}substituteConstants(){return this}evaluate(i){return!this.c.evaluate(i)}serialize(){return`${this.d} not in '${this.f}'`}keys(){return this.c.keys()}map(i){return i.mapNotIn(this.d,this.f)}negate(){return this.c}}e.$ij=k;class b{static create(i,f,E=null){if(typeof f=="boolean")return f?U.create(i,E):y.create(i,E);const j=L.get(i);return typeof j=="boolean"?f===(j?"true":"false")?O.INSTANCE:a.INSTANCE:new b(i,f,E)}constructor(i,f,E){this.c=i,this.d=f,this.f=E,this.type=5}cmp(i){return i.type!==this.type?this.type-i.type:H(this.c,this.d,i.c,i.d)}equals(i){return i.type===this.type?this.c===i.c&&this.d===i.d:!1}substituteConstants(){const i=L.get(this.c);if(typeof i=="boolean"){const f=i?"true":"false";return this.d===f?O.INSTANCE:a.INSTANCE}return this}evaluate(i){return i.getValue(this.c)!=this.d}serialize(){return`${this.c} != '${this.d}'`}keys(){return[this.c]}map(i){return i.mapNotEquals(this.c,this.d)}negate(){return this.f||(this.f=R.create(this.c,this.d,this)),this.f}}e.$jj=b;class U{static create(i,f=null){const E=L.get(i);return typeof E=="boolean"?E?O.INSTANCE:a.INSTANCE:new U(i,f)}constructor(i,f){this.c=i,this.d=f,this.type=3}cmp(i){return i.type!==this.type?this.type-i.type:Y(this.c,i.c)}equals(i){return i.type===this.type?this.c===i.c:!1}substituteConstants(){const i=L.get(this.c);return typeof i=="boolean"?i?O.INSTANCE:a.INSTANCE:this}evaluate(i){return!i.getValue(this.c)}serialize(){return`!${this.c}`}keys(){return[this.c]}map(i){return i.mapNot(this.c)}negate(){return this.d||(this.d=y.create(this.c,this)),this.d}}e.$kj=U;function x(A,i){if(typeof A=="string"){const f=parseFloat(A);isNaN(f)||(A=f)}return typeof A=="string"||typeof A=="number"?i(A):O.INSTANCE}class ie{static create(i,f,E=null){return x(f,j=>new ie(i,j,E))}constructor(i,f,E){this.c=i,this.d=f,this.f=E,this.type=12}cmp(i){return i.type!==this.type?this.type-i.type:H(this.c,this.d,i.c,i.d)}equals(i){return i.type===this.type?this.c===i.c&&this.d===i.d:!1}substituteConstants(){return this}evaluate(i){return typeof this.d=="string"?!1:parseFloat(i.getValue(this.c))>this.d}serialize(){return`${this.c} > ${this.d}`}keys(){return[this.c]}map(i){return i.mapGreater(this.c,this.d)}negate(){return this.f||(this.f=ne.create(this.c,this.d,this)),this.f}}e.$lj=ie;class le{static create(i,f,E=null){return x(f,j=>new le(i,j,E))}constructor(i,f,E){this.c=i,this.d=f,this.f=E,this.type=13}cmp(i){return i.type!==this.type?this.type-i.type:H(this.c,this.d,i.c,i.d)}equals(i){return i.type===this.type?this.c===i.c&&this.d===i.d:!1}substituteConstants(){return this}evaluate(i){return typeof this.d=="string"?!1:parseFloat(i.getValue(this.c))>=this.d}serialize(){return`${this.c} >= ${this.d}`}keys(){return[this.c]}map(i){return i.mapGreaterEquals(this.c,this.d)}negate(){return this.f||(this.f=re.create(this.c,this.d,this)),this.f}}e.$mj=le;class re{static create(i,f,E=null){return x(f,j=>new re(i,j,E))}constructor(i,f,E){this.c=i,this.d=f,this.f=E,this.type=14}cmp(i){return i.type!==this.type?this.type-i.type:H(this.c,this.d,i.c,i.d)}equals(i){return i.type===this.type?this.c===i.c&&this.d===i.d:!1}substituteConstants(){return this}evaluate(i){return typeof this.d=="string"?!1:parseFloat(i.getValue(this.c))<this.d}serialize(){return`${this.c} < ${this.d}`}keys(){return[this.c]}map(i){return i.mapSmaller(this.c,this.d)}negate(){return this.f||(this.f=le.create(this.c,this.d,this)),this.f}}e.$nj=re;class ne{static create(i,f,E=null){return x(f,j=>new ne(i,j,E))}constructor(i,f,E){this.c=i,this.d=f,this.f=E,this.type=15}cmp(i){return i.type!==this.type?this.type-i.type:H(this.c,this.d,i.c,i.d)}equals(i){return i.type===this.type?this.c===i.c&&this.d===i.d:!1}substituteConstants(){return this}evaluate(i){return typeof this.d=="string"?!1:parseFloat(i.getValue(this.c))<=this.d}serialize(){return`${this.c} <= ${this.d}`}keys(){return[this.c]}map(i){return i.mapSmallerEquals(this.c,this.d)}negate(){return this.f||(this.f=ie.create(this.c,this.d,this)),this.f}}e.$oj=ne;class ue{static create(i,f){return new ue(i,f)}constructor(i,f){this.d=i,this.f=f,this.type=7,this.c=null}cmp(i){if(i.type!==this.type)return this.type-i.type;if(this.d<i.d)return-1;if(this.d>i.d)return 1;const f=this.f?this.f.source:"",E=i.f?i.f.source:"";return f<E?-1:f>E?1:0}equals(i){if(i.type===this.type){const f=this.f?this.f.source:"",E=i.f?i.f.source:"";return this.d===i.d&&f===E}return!1}substituteConstants(){return this}evaluate(i){const f=i.getValue(this.d);return this.f?this.f.test(f):!1}serialize(){const i=this.f?`/${this.f.source}/${this.f.flags}`:"/invalid/";return`${this.d} =~ ${i}`}keys(){return[this.d]}map(i){return i.mapRegex(this.d,this.f)}negate(){return this.c||(this.c=C.create(this)),this.c}}e.$pj=ue;class C{static create(i){return new C(i)}constructor(i){this.c=i,this.type=8}cmp(i){return i.type!==this.type?this.type-i.type:this.c.cmp(i.c)}equals(i){return i.type===this.type?this.c.equals(i.c):!1}substituteConstants(){return this}evaluate(i){return!this.c.evaluate(i)}serialize(){return`!(${this.c.serialize()})`}keys(){return this.c.keys()}map(i){return new C(this.c.map(i))}negate(){return this.c}}e.$qj=C;function ee(A){let i=null;for(let f=0,E=A.length;f<E;f++){const j=A[f].substituteConstants();if(A[f]!==j&&i===null){i=[];for(let se=0;se<f;se++)i[se]=A[se]}i!==null&&(i[f]=j)}return i===null?A:i}class F{static create(i,f,E){return F.d(i,f,E)}constructor(i,f){this.expr=i,this.c=f,this.type=6}cmp(i){if(i.type!==this.type)return this.type-i.type;if(this.expr.length<i.expr.length)return-1;if(this.expr.length>i.expr.length)return 1;for(let f=0,E=this.expr.length;f<E;f++){const j=P(this.expr[f],i.expr[f]);if(j!==0)return j}return 0}equals(i){if(i.type===this.type){if(this.expr.length!==i.expr.length)return!1;for(let f=0,E=this.expr.length;f<E;f++)if(!this.expr[f].equals(i.expr[f]))return!1;return!0}return!1}substituteConstants(){const i=ee(this.expr);return i===this.expr?this:F.create(i,this.c,!1)}evaluate(i){for(let f=0,E=this.expr.length;f<E;f++)if(!this.expr[f].evaluate(i))return!1;return!0}static d(i,f,E){const j=[];let se=!1;for(const K of i)if(K){if(K.type===1){se=!0;continue}if(K.type===0)return O.INSTANCE;if(K.type===6){j.push(...K.expr);continue}j.push(K)}if(j.length===0&&se)return a.INSTANCE;if(j.length!==0){if(j.length===1)return j[0];j.sort(P);for(let K=1;K<j.length;K++)j[K-1].equals(j[K])&&(j.splice(K,1),K--);if(j.length===1)return j[0];for(;j.length>1;){const K=j[j.length-1];if(K.type!==9)break;j.pop();const B=j.pop(),d=j.length===0,v=T.create(K.expr.map(q=>F.create([q,B],null,E)),null,d);v&&(j.push(v),j.sort(P))}if(j.length===1)return j[0];if(E){for(let K=0;K<j.length;K++)for(let B=K+1;B<j.length;B++)if(j[K].negate().equals(j[B]))return O.INSTANCE;if(j.length===1)return j[0]}return new F(j,f)}}serialize(){return this.expr.map(i=>i.serialize()).join(" && ")}keys(){const i=[];for(const f of this.expr)i.push(...f.keys());return i}map(i){return new F(this.expr.map(f=>f.map(i)),null)}negate(){if(!this.c){const i=[];for(const f of this.expr)i.push(f.negate());this.c=T.create(i,this,!0)}return this.c}}e.$rj=F;class T{static create(i,f,E){return T.d(i,f,E)}constructor(i,f){this.expr=i,this.c=f,this.type=9}cmp(i){if(i.type!==this.type)return this.type-i.type;if(this.expr.length<i.expr.length)return-1;if(this.expr.length>i.expr.length)return 1;for(let f=0,E=this.expr.length;f<E;f++){const j=P(this.expr[f],i.expr[f]);if(j!==0)return j}return 0}equals(i){if(i.type===this.type){if(this.expr.length!==i.expr.length)return!1;for(let f=0,E=this.expr.length;f<E;f++)if(!this.expr[f].equals(i.expr[f]))return!1;return!0}return!1}substituteConstants(){const i=ee(this.expr);return i===this.expr?this:T.create(i,this.c,!1)}evaluate(i){for(let f=0,E=this.expr.length;f<E;f++)if(this.expr[f].evaluate(i))return!0;return!1}static d(i,f,E){let j=[],se=!1;if(i){for(let K=0,B=i.length;K<B;K++){const d=i[K];if(d){if(d.type===0){se=!0;continue}if(d.type===1)return a.INSTANCE;if(d.type===9){j=j.concat(d.expr);continue}j.push(d)}}if(j.length===0&&se)return O.INSTANCE;j.sort(P)}if(j.length!==0){if(j.length===1)return j[0];for(let K=1;K<j.length;K++)j[K-1].equals(j[K])&&(j.splice(K,1),K--);if(j.length===1)return j[0];if(E){for(let K=0;K<j.length;K++)for(let B=K+1;B<j.length;B++)if(j[K].negate().equals(j[B]))return a.INSTANCE;if(j.length===1)return j[0]}return new T(j,f)}}serialize(){return this.expr.map(i=>i.serialize()).join(" || ")}keys(){const i=[];for(const f of this.expr)i.push(...f.keys());return i}map(i){return new T(this.expr.map(f=>f.map(i)),null)}negate(){if(!this.c){const i=[];for(const f of this.expr)i.push(f.negate());for(;i.length>1;){const f=i.shift(),E=i.shift(),j=[];for(const se of X(f))for(const K of X(E))j.push(F.create([se,K],null,!1));i.unshift(T.create(j,null,!1))}this.c=T.create(i,this,!0)}return this.c}}e.$sj=T;class N extends y{static{this.d=[]}static all(){return N.d.values()}constructor(i,f,E){super(i,null),this.f=f,typeof E=="object"?N.d.push({...E,key:i}):E!==!0&&N.d.push({key:i,description:E,type:f!=null?typeof f:void 0})}bindTo(i){return i.createKey(this.key,this.f)}getValue(i){return i.getContextKeyValue(this.key)}toNegated(){return this.negate()}isEqualTo(i){return R.create(this.key,i)}notEqualsTo(i){return b.create(this.key,i)}}e.$tj=N,e.$uj=(0,S.$ci)("contextKeyService");function Y(A,i){return A<i?-1:A>i?1:0}function H(A,i,f,E){return A<f?-1:A>f?1:i<E?-1:i>E?1:0}function Q(A,i){if(A.type===0||i.type===1)return!0;if(A.type===9)return i.type===9?te(A.expr,i.expr):!1;if(i.type===9){for(const f of i.expr)if(Q(A,f))return!0;return!1}if(A.type===6){if(i.type===6)return te(i.expr,A.expr);for(const f of A.expr)if(Q(f,i))return!0;return!1}return A.equals(i)}e.$vj=Q;function te(A,i){let f=0,E=0;for(;f<A.length&&E<i.length;){const j=A[f].cmp(i[E]);if(j<0)return!1;j===0&&f++,E++}return f===A.length}function X(A){return A.type===9?A.expr:[A]}}),define(ce[39],oe([0,1,5,26,7,37,13]),function(he,e,J,D,z,S,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$HJ=e.$GJ=e.$FJ=e.$EJ=void 0,e.$EJ=(0,M.$ci)("notebookDocumentService");const W=["W","X","Y","Z","a","b","c","d","e","f"],L=new RegExp(`^[${W.join("")}]+`),$=7;function w(p){if(p.scheme!==z.Schemas.vscodeNotebookCell)return;const g=p.fragment.indexOf("s");if(g<0)return;const c=parseInt(p.fragment.substring(0,g).replace(L,""),$),l=(0,J.$Je)(p.fragment.substring(g+1)).toString();if(!isNaN(c))return{handle:c,notebook:p.with({scheme:l,fragment:null})}}e.$FJ=w;function V(p,g){const c=g.toString($),h=`${c.length<W.length?W[c.length-1]:"z"}${c}s${(0,J.$Ke)(J.$qe.fromString(p.scheme),!0,!0)}`;return p.with({scheme:z.Schemas.vscodeNotebookCell,fragment:h})}e.$GJ=V;class o{constructor(){this.a=new D.$Ac}getNotebook(g){if(g.scheme===z.Schemas.vscodeNotebookCell){const c=w(g);if(c){const l=this.a.get(c.notebook);if(l)return l}}return this.a.get(g)}addNotebookDocument(g){this.a.set(g.uri,g)}removeNotebookDocument(g){this.a.delete(g.uri)}}e.$HJ=o,(0,S.$8r)(e.$EJ,o,1)}),define(ce[40],oe([0,1,5,25,45,21,7,6,2,38,39]),function(he,e,J,D,z,S,M,W,L,$,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$ZJ=e.$YJ=e.$XJ=e.$WJ=e.CellStatusbarAlignment=e.$VJ=e.$UJ=e.$TJ=e.NotebookEditorPriority=e.$SJ=e.$RJ=e.$QJ=e.$PJ=e.CellUri=e.CellEditType=e.SelectionStateType=e.NotebookCellsChangeType=e.RendererMessagingSpec=e.NotebookRendererMatch=e.NotebookExecutionState=e.NotebookCellExecutionState=e.NotebookRunState=e.$OJ=e.$NJ=e.$MJ=e.$LJ=e.CellKind=e.$KJ=e.$JJ=e.$IJ=void 0,e.$IJ="workbench.editor.notebook",e.$JJ="workbench.editor.notebookTextDiffEditor",e.$KJ="workbench.editor.interactive";var V;(function(C){C[C.Markup=1]="Markup",C[C.Code=2]="Code"})(V||(e.CellKind=V={})),e.$LJ=["application/json","application/javascript","text/html","image/svg+xml",S.$os.latex,S.$os.markdown,"image/png","image/jpeg",S.$os.text],e.$MJ=[S.$os.latex,S.$os.markdown,"application/json","text/html","image/svg+xml","image/png","image/jpeg",S.$os.text],e.$NJ=new Map([["ms-toolsai.jupyter",new Set(["jupyter-notebook","interactive"])],["ms-toolsai.jupyter-renderers",new Set(["jupyter-notebook","interactive"])]]),e.$OJ="_notAvailable";var o;(function(C){C[C.Running=1]="Running",C[C.Idle=2]="Idle"})(o||(e.NotebookRunState=o={}));var p;(function(C){C[C.Unconfirmed=1]="Unconfirmed",C[C.Pending=2]="Pending",C[C.Executing=3]="Executing"})(p||(e.NotebookCellExecutionState=p={}));var g;(function(C){C[C.Unconfirmed=1]="Unconfirmed",C[C.Pending=2]="Pending",C[C.Executing=3]="Executing"})(g||(e.NotebookExecutionState=g={}));var c;(function(C){C[C.WithHardKernelDependency=0]="WithHardKernelDependency",C[C.WithOptionalKernelDependency=1]="WithOptionalKernelDependency",C[C.Pure=2]="Pure",C[C.Never=3]="Never"})(c||(e.NotebookRendererMatch=c={}));var l;(function(C){C.Always="always",C.Never="never",C.Optional="optional"})(l||(e.RendererMessagingSpec=l={}));var h;(function(C){C[C.ModelChange=1]="ModelChange",C[C.Move=2]="Move",C[C.ChangeCellLanguage=5]="ChangeCellLanguage",C[C.Initialize=6]="Initialize",C[C.ChangeCellMetadata=7]="ChangeCellMetadata",C[C.Output=8]="Output",C[C.OutputItem=9]="OutputItem",C[C.ChangeCellContent=10]="ChangeCellContent",C[C.ChangeDocumentMetadata=11]="ChangeDocumentMetadata",C[C.ChangeCellInternalMetadata=12]="ChangeCellInternalMetadata",C[C.ChangeCellMime=13]="ChangeCellMime",C[C.Unknown=100]="Unknown"})(h||(e.NotebookCellsChangeType=h={}));var t;(function(C){C[C.Handle=0]="Handle",C[C.Index=1]="Index"})(t||(e.SelectionStateType=t={}));var s;(function(C){C[C.Replace=1]="Replace",C[C.Output=2]="Output",C[C.Metadata=3]="Metadata",C[C.CellLanguage=4]="CellLanguage",C[C.DocumentMetadata=5]="DocumentMetadata",C[C.Move=6]="Move",C[C.OutputItems=7]="OutputItems",C[C.PartialMetadata=8]="PartialMetadata",C[C.PartialInternalMetadata=9]="PartialInternalMetadata"})(s||(e.CellEditType=s={}));var n;(function(C){C.scheme=M.Schemas.vscodeNotebookCell;function ee(Q,te){return(0,w.$GJ)(Q,te)}C.generate=ee;function F(Q){return(0,w.$FJ)(Q)}C.parse=F;function T(Q,te){return Q.with({scheme:M.Schemas.vscodeNotebookCellOutput,fragment:`op${te??""},${Q.scheme!==M.Schemas.file?Q.scheme:""}`})}C.generateCellOutputUri=T;function N(Q){if(Q.scheme!==M.Schemas.vscodeNotebookCellOutput)return;const te=/^op([0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12})?\,(.*)$/i.exec(Q.fragment);if(!te)return;const X=te[1]&&te[1]!==""?te[1]:void 0,A=te[2];return{outputId:X,notebook:Q.with({scheme:A||M.Schemas.file,fragment:null})}}C.parseCellOutputUri=N;function Y(Q,te,X){return C.generate(Q,te).with({scheme:X})}C.generateCellPropertyUri=Y;function H(Q,te){if(Q.scheme===te)return C.parse(Q.with({scheme:C.scheme}))}C.parseCellPropertyUri=H})(n||(e.CellUri=n={}));const r=C=>L.$i?C.replace(/\//g,"\\"):C;class u{constructor(ee=[],F=e.$LJ){this.e=F,this.d=[...new Set(ee)].map(T=>({pattern:T,matches:D.$Vj(r(T))}))}sort(ee){const F=new Map(z.Iterable.map(ee,N=>[N,r(N)]));let T=[];for(const{matches:N}of this.d)for(const[Y,H]of F)if(N(H)){T.push(Y),F.delete(Y);break}return F.size&&(T=T.concat([...F.keys()].sort((N,Y)=>this.e.indexOf(N)-this.e.indexOf(Y)))),T}prioritize(ee,F){const T=this.f(ee);if(T===-1){this.d.unshift({pattern:ee,matches:D.$Vj(r(ee))});return}const N=new Set(F.map(H=>this.f(H,T)));N.delete(-1);const Y=Array.from(N).sort();this.d.splice(T+1,0,...Y.map(H=>this.d[H]));for(let H=Y.length-1;H>=0;H--)this.d.splice(Y[H],1)}toArray(){return this.d.map(ee=>ee.pattern)}f(ee,F=this.d.length){const T=r(ee);for(let N=0;N<F;N++)if(this.d[N].matches(T))return N;return-1}}e.$PJ=u;function m(C,ee,F,T=(N,Y)=>N===Y){const N=[];function Y(te,X,A){if(X===0&&A.length===0)return;const i=N[N.length-1];i&&i.start+i.deleteCount===te?(i.deleteCount+=X,i.toInsert.push(...A)):N.push({start:te,deleteCount:X,toInsert:A})}let H=0,Q=0;for(;;){if(H===C.length){Y(H,0,ee.slice(Q));break}if(Q===ee.length){Y(H,C.length-H,[]);break}const te=C[H],X=ee[Q];if(T(te,X)){H+=1,Q+=1;continue}F(X)?(Y(H,1,[]),H+=1):(Y(H,0,[X]),Q+=1)}return N}e.$QJ=m,e.$RJ=new $.$tj("notebookEditorCursorAtBoundary","none"),e.$SJ=new $.$tj("notebookEditorCursorAtLineBoundary","none");var I;(function(C){C.default="default",C.option="option"})(I||(e.NotebookEditorPriority=I={}));function P(C){const ee=C;return!!((typeof ee.include=="string"||D.$Wj(ee.include))&&(typeof ee.exclude=="string"||D.$Wj(ee.exclude)))}e.$TJ=P;function O(C,ee,F){if(Array.isArray(C.viewType)&&C.viewType.indexOf(ee)>=0||C.viewType===ee)return!0;if(C.filenamePattern){const T=P(C.filenamePattern)?C.filenamePattern.include:C.filenamePattern,N=P(C.filenamePattern)?C.filenamePattern.exclude:void 0;if(D.$Uj(T,(0,W.$nc)(F.fsPath).toLowerCase()))return!(N&&D.$Uj(N,(0,W.$nc)(F.fsPath).toLowerCase()))}return!1}e.$UJ=O,e.$VJ={displayOrder:"notebook.displayOrder",cellToolbarLocation:"notebook.cellToolbarLocation",cellToolbarVisibility:"notebook.cellToolbarVisibility",showCellStatusBar:"notebook.showCellStatusBar",textDiffEditorPreview:"notebook.diff.enablePreview",diffOverviewRuler:"notebook.diff.overviewRuler",experimentalInsertToolbarAlignment:"notebook.experimental.insertToolbarAlignment",compactView:"notebook.compactView",focusIndicator:"notebook.cellFocusIndicator",insertToolbarLocation:"notebook.insertToolbarLocation",globalToolbar:"notebook.globalToolbar",stickyScrollEnabled:"notebook.stickyScroll.enabled",stickyScrollMode:"notebook.stickyScroll.mode",undoRedoPerCell:"notebook.undoRedoPerCell",consolidatedOutputButton:"notebook.consolidatedOutputButton",showFoldingControls:"notebook.showFoldingControls",dragAndDropEnabled:"notebook.dragAndDropEnabled",cellEditorOptionsCustomizations:"notebook.editorOptionsCustomizations",consolidatedRunButton:"notebook.consolidatedRunButton",openGettingStarted:"notebook.experimental.openGettingStarted",globalToolbarShowLabel:"notebook.globalToolbarShowLabel",markupFontSize:"notebook.markup.fontSize",interactiveWindowCollapseCodeCells:"interactiveWindow.collapseCellInputCode",outputScrollingDeprecated:"notebook.experimental.outputScrolling",outputScrolling:"notebook.output.scrolling",textOutputLineLimit:"notebook.output.textLineLimit",LinkifyOutputFilePaths:"notebook.output.linkifyFilePaths",formatOnSave:"notebook.formatOnSave.enabled",insertFinalNewline:"notebook.insertFinalNewline",formatOnCellExecution:"notebook.formatOnCellExecution",codeActionsOnSave:"notebook.codeActionsOnSave",outputWordWrap:"notebook.output.wordWrap",outputLineHeightDeprecated:"notebook.outputLineHeight",outputLineHeight:"notebook.output.lineHeight",outputFontSizeDeprecated:"notebook.outputFontSize",outputFontSize:"notebook.output.fontSize",outputFontFamilyDeprecated:"notebook.outputFontFamily",outputFontFamily:"notebook.output.fontFamily",findScope:"notebook.find.scope",logging:"notebook.logging",confirmDeleteRunningCell:"notebook.confirmDeleteRunningCell",remoteSaving:"notebook.experimental.remoteSave",gotoSymbolsAllSymbols:"notebook.gotoSymbols.showAllSymbols",scrollToRevealCell:"notebook.scrolling.revealNextCellOnExecute",anchorToFocusedCell:"notebook.scrolling.experimental.anchorToFocusedCell",cellChat:"notebook.experimental.cellChat",notebookVariablesView:"notebook.experimental.variablesView"};var a;(function(C){C[C.Left=1]="Left",C[C.Right=2]="Right"})(a||(e.CellStatusbarAlignment=a={}));class y{static{this.d="notebook/"}static create(ee){return`${y.d}${ee}`}static parse(ee){if(ee.startsWith(y.d))return ee.substring(y.d.length)}}e.$WJ=y;function R(C){return["application/vnd.code.notebook.stdout","application/vnd.code.notebook.stderr"].includes(C)}e.$XJ=R;const G=new TextDecoder;function k(C){const ee=[];let F=!1;for(const H of C)(ee.length===0||F)&&(ee.push(H),F=!0);let T=x(ee);const N=J.$qe.concat(ee.map(H=>J.$qe.wrap(H))),Y=ue(N);return T=T||Y.byteLength!==N.byteLength,{data:Y,didCompression:T}}e.$YJ=k,e.$ZJ="\x1B[A";const b=e.$ZJ.split("").map(C=>C.charCodeAt(0)),U=10;function x(C){let ee=!1;return C.forEach((F,T)=>{if(T===0||F.length<e.$ZJ.length)return;const N=C[T-1],Y=F.subarray(0,e.$ZJ.length);if(Y[0]===b[0]&&Y[1]===b[1]&&Y[2]===b[2]){const H=N.lastIndexOf(U);if(H===-1)return;ee=!0,C[T-1]=N.subarray(0,H),C[T]=F.subarray(e.$ZJ.length)}}),ee}function ie(C){let ee=C;do C=ee,ee=C.replace(/[^\n]\x08/gm,"");while(ee.length<C.length);return C}function le(C){for(C=C.replace(/\r+\n/gm,`
`);C.search(/\r[^$]/g)>-1;){const ee=C.match(/^(.*)\r+/m)[1];let F=C.match(/\r+(.*)$/m)[1];F=F+ee.slice(F.length,ee.length),C=C.replace(/\r+.*$/m,"\r").replace(/^.*\r/m,F)}return C}const re=8,ne=13;function ue(C){return!C.buffer.includes(re)&&!C.buffer.includes(ne)?C:J.$qe.fromString(le(ie(G.decode(C.buffer))))}}),define(ce[46],oe([0,1,47,48,12,30,40,10,20]),function(he,e,J,D,z,S,M,W,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.create=e.NotebookEditorSimpleWorker=void 0;function $(c){let l=(0,D.$5i)(104579,0);for(let h=0;h<c.buffer.length;h++)l=(0,D.$4i)(c.buffer[h],l);return l}class w{get textBuffer(){if(this.a)return this.a;const l=new S.$lC;l.acceptChunk(Array.isArray(this.d)?this.d.join(`
`):this.d);const h=l.finish(!0);return this.a=h.create(1).textBuffer,this.a}primaryKey(){return this.b===void 0&&(this.b=(0,D.$3i)(this.getValue())),this.b}constructor(l,h,t,s,n,r,u){this.handle=l,this.d=h,this.language=t,this.cellKind=s,this.outputs=n,this.metadata=r,this.internalMetadata=u,this.b=null,this.c=null}getFullModelRange(){const l=this.textBuffer.getLineCount();return new W.$4s(1,1,l,this.textBuffer.getLineLength(l)+1)}getValue(){const l=this.getFullModelRange();return this.textBuffer.getValueInRange(l,1)}getComparisonValue(){return this.b!==null?this.b:(this.c=(0,D.$3i)([(0,D.$3i)(this.language),(0,D.$3i)(this.getValue()),this.metadata,this.internalMetadata,this.outputs.map(l=>({outputs:l.outputs.map(h=>({mime:h.mime,data:$(h.data)})),metadata:l.metadata}))]),this.c)}getHashValue(){return this.c!==null?this.c:(this.c=(0,D.$3i)([(0,D.$3i)(this.getValue()),this.language,this.metadata,this.internalMetadata]),this.c)}}class V{constructor(l,h,t){this.uri=l,this.cells=h,this.metadata=t}acceptModelChanged(l){l.rawEvents.forEach(h=>{if(h.kind===M.NotebookCellsChangeType.ModelChange)this._spliceNotebookCells(h.changes);else if(h.kind===M.NotebookCellsChangeType.Move){const t=this.cells.splice(h.index,1);this.cells.splice(h.newIdx,0,...t)}else if(h.kind===M.NotebookCellsChangeType.Output){const t=this.cells[h.index];t.outputs=h.outputs}else if(h.kind===M.NotebookCellsChangeType.ChangeCellLanguage){this.a(h.index);const t=this.cells[h.index];t.language=h.language}else if(h.kind===M.NotebookCellsChangeType.ChangeCellMetadata){this.a(h.index);const t=this.cells[h.index];t.metadata=h.metadata}else if(h.kind===M.NotebookCellsChangeType.ChangeCellInternalMetadata){this.a(h.index);const t=this.cells[h.index];t.internalMetadata=h.internalMetadata}})}a(l){if(l<0||l>=this.cells.length)throw new Error(`Illegal index ${l}. Cells length: ${this.cells.length}`)}_spliceNotebookCells(l){l.reverse().forEach(h=>{const s=h[2].map(n=>new w(n.handle,n.source,n.language,n.cellKind,n.outputs,n.metadata));this.cells.splice(h[0],h[1],...s)})}}class o{constructor(l){this.textModel=l}getElements(){const l=new Int32Array(this.textModel.cells.length);for(let h=0;h<this.textModel.cells.length;h++)l[h]=this.textModel.cells[h].getComparisonValue();return l}getCellHash(l){const h=Array.isArray(l.source)?l.source.join(`
`):l.source;return(0,D.$3i)([(0,D.$3i)(h),l.metadata])}}class p{constructor(){this.a=Object.create(null)}dispose(){}acceptNewModel(l,h){this.a[l]=new V(z.URI.parse(l),h.cells.map(t=>new w(t.handle,t.source,t.language,t.cellKind,t.outputs,t.metadata)),h.metadata)}acceptModelChanged(l,h){this.a[l]?.acceptModelChanged(h)}acceptRemovedModel(l){this.a[l]&&delete this.a[l]}computeDiff(l,h){const t=this.b(l),s=this.b(h);return{cellsDiff:new J.$0s(new o(t),new o(s)).ComputeDiff(!1)}}canPromptRecommendation(l){const t=this.b(l).cells;for(let s=0;s<t.length;s++){const n=t[s];if(n.cellKind===M.CellKind.Markup||n.language!=="python")continue;const r=n.textBuffer.getLineCount(),u=Math.min(r,20),m=new W.$4s(1,1,u,n.textBuffer.getLineLength(u)+1),P=new L.$_B("import\\s*pandas|from\\s*pandas",!0,!1,null).parseSearchRequest();if(!P)continue;if(n.textBuffer.findMatchesLineByLine(m,P,!0,1).length>0)return!0}return!1}b(l){return this.a[l]}}e.NotebookEditorSimpleWorker=p;function g(c){return new p}e.create=g})}).call(this);

//# sourceMappingURL=https://ticino.blob.core.windows.net/sourcemaps/7215958b3c57945b49d3b70afdba7fb47319ca85/core/vs/workbench/contrib/notebook/common/services/notebookSimpleWorker.js.map
