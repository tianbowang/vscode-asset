var serverExportVar;(()=>{var e={7791:(e,t,n)=>{"use strict";var r;function i(e){if("contents"in e)r="string"==typeof e.contents?JSON.parse(e.contents):e.contents;else if("fsPath"in e){const t=function(e){throw new Error("Unsupported in browser")}(e.fsPath),n=JSON.parse(t);r=c(n)?n.contents.bundle:n}else if(e.uri){let t=e.uri;return"string"==typeof e.uri&&(t=new URL(e.uri)),new Promise(((e,n)=>{(async function(e){if("http:"===e.protocol||"https:"===e.protocol){const t=await fetch(e);return await t.text()}throw new Error("Unsupported protocol")})(t).then((t=>{try{const n=JSON.parse(t);r=c(n)?n.contents.bundle:n,e()}catch(e){n(e)}})).catch((e=>{n(e)}))}))}}function o(...e){const t=e[0];let n,i,s;if("string"==typeof t)n=t,i=t,e.splice(0,1),s=e&&"object"==typeof e[0]?e[0]:e;else{if(t instanceof Array){const n=e.slice(1);if(t.length!==n.length+1)throw new Error("expected a string as the first argument to l10n.t");let r=t[0];for(let e=1;e<t.length;e++)r+=`{${e-1}}`+t[e];return o(r,...n)}i=t.message,n=i,t.comment&&t.comment.length>0&&(n+=`/${Array.isArray(t.comment)?t.comment.join(""):t.comment}`),s=t.args??{}}const c=r?.[n];return c?"string"==typeof c?a(c,s):c.comment?a(c.message,s):a(i,s):a(i,s)}n.r(t),n.d(t,{config:()=>i,t:()=>o});var s=/{([^}]+)}/g;function a(e,t){return 0===Object.keys(t).length?e:e.replace(s,((e,n)=>t[n]??e))}function c(e){return!("object"!=typeof e?.contents?.bundle||"string"!=typeof e?.version)}},8530:(e,t,n)=>{"use strict";var r;n.r(t),n.d(t,{ClientCapabilities:()=>rr,CodeAction:()=>Pn,CodeActionContext:()=>In,CodeActionKind:()=>Dn,Color:()=>At,ColorInformation:()=>Wt,ColorPresentation:()=>qt,Command:()=>Ht,CompletionItem:()=>gn,CompletionItemKind:()=>dn,CompletionItemTag:()=>pn,CompletionList:()=>bn,Diagnostic:()=>Kt,DiagnosticSeverity:()=>Ut,DocumentHighlight:()=>Cn,DocumentHighlightKind:()=>Sn,DocumentLink:()=>Nn,DocumentSymbol:()=>Rn,DocumentUri:()=>Dt,FileType:()=>ir,FoldingRange:()=>jt,FoldingRangeKind:()=>Lt,Hover:()=>vn,InsertTextFormat:()=>hn,Location:()=>Nt,MarkedString:()=>yn,MarkupContent:()=>ln,MarkupKind:()=>cn,Position:()=>Mt,Range:()=>Ot,SelectionRange:()=>zn,SymbolInformation:()=>En,SymbolKind:()=>kn,TextDocument:()=>nr,TextDocumentEdit:()=>Qt,TextEdit:()=>Gt,VersionedTextDocumentIdentifier:()=>on,WorkspaceEdit:()=>nn,getCSSLanguageService:()=>gs,getDefaultCSSDataProvider:()=>ps,getLESSLanguageService:()=>ys,getSCSSLanguageService:()=>bs,newCSSDataProvider:()=>us}),function(e){e[e.Ident=0]="Ident",e[e.AtKeyword=1]="AtKeyword",e[e.String=2]="String",e[e.BadString=3]="BadString",e[e.UnquotedString=4]="UnquotedString",e[e.Hash=5]="Hash",e[e.Num=6]="Num",e[e.Percentage=7]="Percentage",e[e.Dimension=8]="Dimension",e[e.UnicodeRange=9]="UnicodeRange",e[e.CDO=10]="CDO",e[e.CDC=11]="CDC",e[e.Colon=12]="Colon",e[e.SemiColon=13]="SemiColon",e[e.CurlyL=14]="CurlyL",e[e.CurlyR=15]="CurlyR",e[e.ParenthesisL=16]="ParenthesisL",e[e.ParenthesisR=17]="ParenthesisR",e[e.BracketL=18]="BracketL",e[e.BracketR=19]="BracketR",e[e.Whitespace=20]="Whitespace",e[e.Includes=21]="Includes",e[e.Dashmatch=22]="Dashmatch",e[e.SubstringOperator=23]="SubstringOperator",e[e.PrefixOperator=24]="PrefixOperator",e[e.SuffixOperator=25]="SuffixOperator",e[e.Delim=26]="Delim",e[e.EMS=27]="EMS",e[e.EXS=28]="EXS",e[e.Length=29]="Length",e[e.Angle=30]="Angle",e[e.Time=31]="Time",e[e.Freq=32]="Freq",e[e.Exclamation=33]="Exclamation",e[e.Resolution=34]="Resolution",e[e.Comma=35]="Comma",e[e.Charset=36]="Charset",e[e.EscapedJavaScript=37]="EscapedJavaScript",e[e.BadEscapedJavaScript=38]="BadEscapedJavaScript",e[e.Comment=39]="Comment",e[e.SingleLineComment=40]="SingleLineComment",e[e.EOF=41]="EOF",e[e.ContainerQueryLength=42]="ContainerQueryLength",e[e.CustomToken=43]="CustomToken"}(r||(r={}));class i{constructor(e){this.source=e,this.len=e.length,this.position=0}substring(e,t=this.position){return this.source.substring(e,t)}eos(){return this.len<=this.position}pos(){return this.position}goBackTo(e){this.position=e}goBack(e){this.position-=e}advance(e){this.position+=e}nextChar(){return this.source.charCodeAt(this.position++)||0}peekChar(e=0){return this.source.charCodeAt(this.position+e)||0}lookbackChar(e=0){return this.source.charCodeAt(this.position-e)||0}advanceIfChar(e){return e===this.source.charCodeAt(this.position)&&(this.position++,!0)}advanceIfChars(e){if(this.position+e.length>this.source.length)return!1;let t=0;for(;t<e.length;t++)if(this.source.charCodeAt(this.position+t)!==e[t])return!1;return this.advance(t),!0}advanceWhileChar(e){const t=this.position;for(;this.position<this.len&&e(this.source.charCodeAt(this.position));)this.position++;return this.position-t}}const o="a".charCodeAt(0),s="f".charCodeAt(0),a="z".charCodeAt(0),c=("u".charCodeAt(0),"A".charCodeAt(0)),l="F".charCodeAt(0),d="Z".charCodeAt(0),h="0".charCodeAt(0),p="9".charCodeAt(0),u="~".charCodeAt(0),m="^".charCodeAt(0),f="=".charCodeAt(0),g="|".charCodeAt(0),b="-".charCodeAt(0),y="_".charCodeAt(0),v="%".charCodeAt(0),w="*".charCodeAt(0),x="(".charCodeAt(0),S=")".charCodeAt(0),C="<".charCodeAt(0),k=">".charCodeAt(0),_="@".charCodeAt(0),E="#".charCodeAt(0),F="$".charCodeAt(0),R="\\".charCodeAt(0),D="/".charCodeAt(0),T="\n".charCodeAt(0),I="\r".charCodeAt(0),P="\f".charCodeAt(0),M='"'.charCodeAt(0),O="'".charCodeAt(0),N=" ".charCodeAt(0),z="\t".charCodeAt(0),A=";".charCodeAt(0),W=":".charCodeAt(0),q="{".charCodeAt(0),L="}".charCodeAt(0),j="[".charCodeAt(0),$="]".charCodeAt(0),U=",".charCodeAt(0),V=".".charCodeAt(0),B="!".charCodeAt(0),K="?".charCodeAt(0),H="+".charCodeAt(0),G={};G[A]=r.SemiColon,G[W]=r.Colon,G[q]=r.CurlyL,G[L]=r.CurlyR,G[$]=r.BracketR,G[j]=r.BracketL,G[x]=r.ParenthesisL,G[S]=r.ParenthesisR,G[U]=r.Comma;const J={};J.em=r.EMS,J.ex=r.EXS,J.px=r.Length,J.cm=r.Length,J.mm=r.Length,J.in=r.Length,J.pt=r.Length,J.pc=r.Length,J.deg=r.Angle,J.rad=r.Angle,J.grad=r.Angle,J.ms=r.Time,J.s=r.Time,J.hz=r.Freq,J.khz=r.Freq,J["%"]=r.Percentage,J.fr=r.Percentage,J.dpi=r.Resolution,J.dpcm=r.Resolution,J.cqw=r.ContainerQueryLength,J.cqh=r.ContainerQueryLength,J.cqi=r.ContainerQueryLength,J.cqb=r.ContainerQueryLength,J.cqmin=r.ContainerQueryLength,J.cqmax=r.ContainerQueryLength;class X{constructor(){this.stream=new i(""),this.ignoreComment=!0,this.ignoreWhitespace=!0,this.inURL=!1}setSource(e){this.stream=new i(e)}finishToken(e,t,n){return{offset:e,len:this.stream.pos()-e,type:t,text:n||this.stream.substring(e)}}substring(e,t){return this.stream.substring(e,e+t)}pos(){return this.stream.pos()}goBackTo(e){this.stream.goBackTo(e)}scanUnquotedString(){const e=this.stream.pos(),t=[];return this._unquotedString(t)?this.finishToken(e,r.UnquotedString,t.join("")):null}scan(){const e=this.trivia();if(null!==e)return e;const t=this.stream.pos();return this.stream.eos()?this.finishToken(t,r.EOF):this.scanNext(t)}tryScanUnicode(){const e=this.stream.pos();if(!this.stream.eos()&&this._unicodeRange())return this.finishToken(e,r.UnicodeRange);this.stream.goBackTo(e)}scanNext(e){if(this.stream.advanceIfChars([C,B,b,b]))return this.finishToken(e,r.CDO);if(this.stream.advanceIfChars([b,b,k]))return this.finishToken(e,r.CDC);let t=[];if(this.ident(t))return this.finishToken(e,r.Ident,t.join(""));if(this.stream.advanceIfChar(_)){if(t=["@"],this._name(t)){const n=t.join("");return"@charset"===n?this.finishToken(e,r.Charset,n):this.finishToken(e,r.AtKeyword,n)}return this.finishToken(e,r.Delim)}if(this.stream.advanceIfChar(E))return t=["#"],this._name(t)?this.finishToken(e,r.Hash,t.join("")):this.finishToken(e,r.Delim);if(this.stream.advanceIfChar(B))return this.finishToken(e,r.Exclamation);if(this._number()){const n=this.stream.pos();if(t=[this.stream.substring(e,n)],this.stream.advanceIfChar(v))return this.finishToken(e,r.Percentage);if(this.ident(t)){const i=this.stream.substring(n).toLowerCase(),o=J[i];return void 0!==o?this.finishToken(e,o,t.join("")):this.finishToken(e,r.Dimension,t.join(""))}return this.finishToken(e,r.Num)}t=[];let n=this._string(t);return null!==n?this.finishToken(e,n,t.join("")):(n=G[this.stream.peekChar()],void 0!==n?(this.stream.advance(1),this.finishToken(e,n)):this.stream.peekChar(0)===u&&this.stream.peekChar(1)===f?(this.stream.advance(2),this.finishToken(e,r.Includes)):this.stream.peekChar(0)===g&&this.stream.peekChar(1)===f?(this.stream.advance(2),this.finishToken(e,r.Dashmatch)):this.stream.peekChar(0)===w&&this.stream.peekChar(1)===f?(this.stream.advance(2),this.finishToken(e,r.SubstringOperator)):this.stream.peekChar(0)===m&&this.stream.peekChar(1)===f?(this.stream.advance(2),this.finishToken(e,r.PrefixOperator)):this.stream.peekChar(0)===F&&this.stream.peekChar(1)===f?(this.stream.advance(2),this.finishToken(e,r.SuffixOperator)):(this.stream.nextChar(),this.finishToken(e,r.Delim)))}trivia(){for(;;){const e=this.stream.pos();if(this._whitespace()){if(!this.ignoreWhitespace)return this.finishToken(e,r.Whitespace)}else{if(!this.comment())return null;if(!this.ignoreComment)return this.finishToken(e,r.Comment)}}}comment(){if(this.stream.advanceIfChars([D,w])){let e=!1,t=!1;return this.stream.advanceWhileChar((n=>t&&n===D?(e=!0,!1):(t=n===w,!0))),e&&this.stream.advance(1),!0}return!1}_number(){let e,t=0;return this.stream.peekChar()===V&&(t=1),e=this.stream.peekChar(t),e>=h&&e<=p&&(this.stream.advance(t+1),this.stream.advanceWhileChar((e=>e>=h&&e<=p||0===t&&e===V)),!0)}_newline(e){const t=this.stream.peekChar();switch(t){case I:case P:case T:return this.stream.advance(1),e.push(String.fromCharCode(t)),t===I&&this.stream.advanceIfChar(T)&&e.push("\n"),!0}return!1}_escape(e,t){let n=this.stream.peekChar();if(n===R){this.stream.advance(1),n=this.stream.peekChar();let r=0;for(;r<6&&(n>=h&&n<=p||n>=o&&n<=s||n>=c&&n<=l);)this.stream.advance(1),n=this.stream.peekChar(),r++;if(r>0){try{const t=parseInt(this.stream.substring(this.stream.pos()-r),16);t&&e.push(String.fromCharCode(t))}catch(e){}return n===N||n===z?this.stream.advance(1):this._newline([]),!0}if(n!==I&&n!==P&&n!==T)return this.stream.advance(1),e.push(String.fromCharCode(n)),!0;if(t)return this._newline(e)}return!1}_stringChar(e,t){const n=this.stream.peekChar();return 0!==n&&n!==e&&n!==R&&n!==I&&n!==P&&n!==T&&(this.stream.advance(1),t.push(String.fromCharCode(n)),!0)}_string(e){if(this.stream.peekChar()===O||this.stream.peekChar()===M){const t=this.stream.nextChar();for(e.push(String.fromCharCode(t));this._stringChar(t,e)||this._escape(e,!0););return this.stream.peekChar()===t?(this.stream.nextChar(),e.push(String.fromCharCode(t)),r.String):r.BadString}return null}_unquotedChar(e){const t=this.stream.peekChar();return 0!==t&&t!==R&&t!==O&&t!==M&&t!==x&&t!==S&&t!==N&&t!==z&&t!==T&&t!==P&&t!==I&&(this.stream.advance(1),e.push(String.fromCharCode(t)),!0)}_unquotedString(e){let t=!1;for(;this._unquotedChar(e)||this._escape(e);)t=!0;return t}_whitespace(){return this.stream.advanceWhileChar((e=>e===N||e===z||e===T||e===P||e===I))>0}_name(e){let t=!1;for(;this._identChar(e)||this._escape(e);)t=!0;return t}ident(e){const t=this.stream.pos();if(this._minus(e)){if(this._minus(e)||this._identFirstChar(e)||this._escape(e)){for(;this._identChar(e)||this._escape(e););return!0}}else if(this._identFirstChar(e)||this._escape(e)){for(;this._identChar(e)||this._escape(e););return!0}return this.stream.goBackTo(t),!1}_identFirstChar(e){const t=this.stream.peekChar();return(t===y||t>=o&&t<=a||t>=c&&t<=d||t>=128&&t<=65535)&&(this.stream.advance(1),e.push(String.fromCharCode(t)),!0)}_minus(e){const t=this.stream.peekChar();return t===b&&(this.stream.advance(1),e.push(String.fromCharCode(t)),!0)}_identChar(e){const t=this.stream.peekChar();return(t===y||t===b||t>=o&&t<=a||t>=c&&t<=d||t>=h&&t<=p||t>=128&&t<=65535)&&(this.stream.advance(1),e.push(String.fromCharCode(t)),!0)}_unicodeRange(){if(this.stream.advanceIfChar(H)){const e=e=>e>=h&&e<=p||e>=o&&e<=s||e>=c&&e<=l,t=this.stream.advanceWhileChar(e)+this.stream.advanceWhileChar((e=>e===K));if(t>=1&&t<=6){if(!this.stream.advanceIfChar(b))return!0;{const t=this.stream.advanceWhileChar(e);if(t>=1&&t<=6)return!0}}}return!1}}function Y(e,t){if(e.length<t.length)return!1;for(let n=0;n<t.length;n++)if(e[n]!==t[n])return!1;return!0}function Q(e,t){let n=e.length-t.length;return n>0?e.lastIndexOf(t)===n:0===n&&e===t}function Z(e,t=!0){return e?e.length<140?e:e.slice(0,140)+(t?"â€¦":""):""}function ee(e,t){let n="";for(;t>0;)1==(1&t)&&(n+=e),e+=e,t>>>=1;return n}var te,ne;function re(e,t){let n=null;return!e||t<e.offset||t>e.end?null:(e.accept((e=>-1===e.offset&&-1===e.length||e.offset<=t&&e.end>=t&&(n?e.length<=n.length&&(n=e):n=e,!0))),n)}function ie(e,t){let n=re(e,t);const r=[];for(;n;)r.unshift(n),n=n.parent;return r}!function(e){e[e.Undefined=0]="Undefined",e[e.Identifier=1]="Identifier",e[e.Stylesheet=2]="Stylesheet",e[e.Ruleset=3]="Ruleset",e[e.Selector=4]="Selector",e[e.SimpleSelector=5]="SimpleSelector",e[e.SelectorInterpolation=6]="SelectorInterpolation",e[e.SelectorCombinator=7]="SelectorCombinator",e[e.SelectorCombinatorParent=8]="SelectorCombinatorParent",e[e.SelectorCombinatorSibling=9]="SelectorCombinatorSibling",e[e.SelectorCombinatorAllSiblings=10]="SelectorCombinatorAllSiblings",e[e.SelectorCombinatorShadowPiercingDescendant=11]="SelectorCombinatorShadowPiercingDescendant",e[e.Page=12]="Page",e[e.PageBoxMarginBox=13]="PageBoxMarginBox",e[e.ClassSelector=14]="ClassSelector",e[e.IdentifierSelector=15]="IdentifierSelector",e[e.ElementNameSelector=16]="ElementNameSelector",e[e.PseudoSelector=17]="PseudoSelector",e[e.AttributeSelector=18]="AttributeSelector",e[e.Declaration=19]="Declaration",e[e.Declarations=20]="Declarations",e[e.Property=21]="Property",e[e.Expression=22]="Expression",e[e.BinaryExpression=23]="BinaryExpression",e[e.Term=24]="Term",e[e.Operator=25]="Operator",e[e.Value=26]="Value",e[e.StringLiteral=27]="StringLiteral",e[e.URILiteral=28]="URILiteral",e[e.EscapedValue=29]="EscapedValue",e[e.Function=30]="Function",e[e.NumericValue=31]="NumericValue",e[e.HexColorValue=32]="HexColorValue",e[e.RatioValue=33]="RatioValue",e[e.MixinDeclaration=34]="MixinDeclaration",e[e.MixinReference=35]="MixinReference",e[e.VariableName=36]="VariableName",e[e.VariableDeclaration=37]="VariableDeclaration",e[e.Prio=38]="Prio",e[e.Interpolation=39]="Interpolation",e[e.NestedProperties=40]="NestedProperties",e[e.ExtendsReference=41]="ExtendsReference",e[e.SelectorPlaceholder=42]="SelectorPlaceholder",e[e.Debug=43]="Debug",e[e.If=44]="If",e[e.Else=45]="Else",e[e.For=46]="For",e[e.Each=47]="Each",e[e.While=48]="While",e[e.MixinContentReference=49]="MixinContentReference",e[e.MixinContentDeclaration=50]="MixinContentDeclaration",e[e.Media=51]="Media",e[e.Keyframe=52]="Keyframe",e[e.FontFace=53]="FontFace",e[e.Import=54]="Import",e[e.Namespace=55]="Namespace",e[e.Invocation=56]="Invocation",e[e.FunctionDeclaration=57]="FunctionDeclaration",e[e.ReturnStatement=58]="ReturnStatement",e[e.MediaQuery=59]="MediaQuery",e[e.MediaCondition=60]="MediaCondition",e[e.MediaFeature=61]="MediaFeature",e[e.FunctionParameter=62]="FunctionParameter",e[e.FunctionArgument=63]="FunctionArgument",e[e.KeyframeSelector=64]="KeyframeSelector",e[e.ViewPort=65]="ViewPort",e[e.Document=66]="Document",e[e.AtApplyRule=67]="AtApplyRule",e[e.CustomPropertyDeclaration=68]="CustomPropertyDeclaration",e[e.CustomPropertySet=69]="CustomPropertySet",e[e.ListEntry=70]="ListEntry",e[e.Supports=71]="Supports",e[e.SupportsCondition=72]="SupportsCondition",e[e.NamespacePrefix=73]="NamespacePrefix",e[e.GridLine=74]="GridLine",e[e.Plugin=75]="Plugin",e[e.UnknownAtRule=76]="UnknownAtRule",e[e.Use=77]="Use",e[e.ModuleConfiguration=78]="ModuleConfiguration",e[e.Forward=79]="Forward",e[e.ForwardVisibility=80]="ForwardVisibility",e[e.Module=81]="Module",e[e.UnicodeRange=82]="UnicodeRange",e[e.Layer=83]="Layer",e[e.LayerNameList=84]="LayerNameList",e[e.LayerName=85]="LayerName",e[e.PropertyAtRule=86]="PropertyAtRule",e[e.Container=87]="Container"}(te||(te={})),function(e){e[e.Mixin=0]="Mixin",e[e.Rule=1]="Rule",e[e.Variable=2]="Variable",e[e.Function=3]="Function",e[e.Keyframe=4]="Keyframe",e[e.Unknown=5]="Unknown",e[e.Module=6]="Module",e[e.Forward=7]="Forward",e[e.ForwardVisibility=8]="ForwardVisibility",e[e.Property=9]="Property"}(ne||(ne={}));class oe{get end(){return this.offset+this.length}constructor(e=-1,t=-1,n){this.parent=null,this.offset=e,this.length=t,n&&(this.nodeType=n)}set type(e){this.nodeType=e}get type(){return this.nodeType||te.Undefined}getTextProvider(){let e=this;for(;e&&!e.textProvider;)e=e.parent;return e?e.textProvider:()=>"unknown"}getText(){return this.getTextProvider()(this.offset,this.length)}matches(e){return this.length===e.length&&this.getTextProvider()(this.offset,this.length)===e}startsWith(e){return this.length>=e.length&&this.getTextProvider()(this.offset,e.length)===e}endsWith(e){return this.length>=e.length&&this.getTextProvider()(this.end-e.length,e.length)===e}accept(e){if(e(this)&&this.children)for(const t of this.children)t.accept(e)}acceptVisitor(e){this.accept(e.visitNode.bind(e))}adoptChild(e,t=-1){if(e.parent&&e.parent.children){const t=e.parent.children.indexOf(e);t>=0&&e.parent.children.splice(t,1)}e.parent=this;let n=this.children;return n||(n=this.children=[]),-1!==t?n.splice(t,0,e):n.push(e),e}attachTo(e,t=-1){return e&&e.adoptChild(this,t),this}collectIssues(e){this.issues&&e.push.apply(e,this.issues)}addIssue(e){this.issues||(this.issues=[]),this.issues.push(e)}hasIssue(e){return Array.isArray(this.issues)&&this.issues.some((t=>t.getRule()===e))}isErroneous(e=!1){return!!(this.issues&&this.issues.length>0)||e&&Array.isArray(this.children)&&this.children.some((e=>e.isErroneous(!0)))}setNode(e,t,n=-1){return!!t&&(t.attachTo(this,n),this[e]=t,!0)}addChild(e){return!!e&&(this.children||(this.children=[]),e.attachTo(this),this.updateOffsetAndLength(e),!0)}updateOffsetAndLength(e){(e.offset<this.offset||-1===this.offset)&&(this.offset=e.offset);const t=e.end;(t>this.end||-1===this.length)&&(this.length=t-this.offset)}hasChildren(){return!!this.children&&this.children.length>0}getChildren(){return this.children?this.children.slice(0):[]}getChild(e){return this.children&&e<this.children.length?this.children[e]:null}addChildren(e){for(const t of e)this.addChild(t)}findFirstChildBeforeOffset(e){if(this.children){let t=null;for(let n=this.children.length-1;n>=0;n--)if(t=this.children[n],t.offset<=e)return t}return null}findChildAtOffset(e,t){const n=this.findFirstChildBeforeOffset(e);return n&&n.end>=e?t&&n.findChildAtOffset(e,!0)||n:null}encloses(e){return this.offset<=e.offset&&this.offset+this.length>=e.offset+e.length}getParent(){let e=this.parent;for(;e instanceof se;)e=e.parent;return e}findParent(e){let t=this;for(;t&&t.type!==e;)t=t.parent;return t}findAParent(...e){let t=this;for(;t&&!e.some((e=>t.type===e));)t=t.parent;return t}setData(e,t){this.options||(this.options={}),this.options[e]=t}getData(e){return this.options&&this.options.hasOwnProperty(e)?this.options[e]:null}}class se extends oe{constructor(e,t=-1){super(-1,-1),this.attachTo(e,t),this.offset=-1,this.length=-1}}class ae extends oe{constructor(e,t){super(e,t)}get type(){return te.UnicodeRange}setRangeStart(e){return this.setNode("rangeStart",e)}getRangeStart(){return this.rangeStart}setRangeEnd(e){return this.setNode("rangeEnd",e)}getRangeEnd(){return this.rangeEnd}}class ce extends oe{constructor(e,t){super(e,t),this.isCustomProperty=!1}get type(){return te.Identifier}containsInterpolation(){return this.hasChildren()}}class le extends oe{constructor(e,t){super(e,t)}get type(){return te.Stylesheet}}class de extends oe{constructor(e,t){super(e,t)}get type(){return te.Declarations}}class he extends oe{constructor(e,t){super(e,t)}getDeclarations(){return this.declarations}setDeclarations(e){return this.setNode("declarations",e)}}class pe extends he{constructor(e,t){super(e,t)}get type(){return te.Ruleset}getSelectors(){return this.selectors||(this.selectors=new se(this)),this.selectors}isNested(){return!!this.parent&&null!==this.parent.findParent(te.Declarations)}}class ue extends oe{constructor(e,t){super(e,t)}get type(){return te.Selector}}class me extends oe{constructor(e,t){super(e,t)}get type(){return te.SimpleSelector}}class fe extends oe{constructor(e,t){super(e,t)}}class ge extends he{constructor(e,t){super(e,t)}get type(){return te.CustomPropertySet}}class be extends fe{constructor(e,t){super(e,t),this.property=null}get type(){return te.Declaration}setProperty(e){return this.setNode("property",e)}getProperty(){return this.property}getFullPropertyName(){const e=this.property?this.property.getName():"unknown";if(this.parent instanceof de&&this.parent.getParent()instanceof Pe){const t=this.parent.getParent().getParent();if(t instanceof be)return t.getFullPropertyName()+e}return e}getNonPrefixedPropertyName(){const e=this.getFullPropertyName();if(e&&"-"===e.charAt(0)){const t=e.indexOf("-",1);if(-1!==t)return e.substring(t+1)}return e}setValue(e){return this.setNode("value",e)}getValue(){return this.value}setNestedProperties(e){return this.setNode("nestedProperties",e)}getNestedProperties(){return this.nestedProperties}}class ye extends be{constructor(e,t){super(e,t)}get type(){return te.CustomPropertyDeclaration}setPropertySet(e){return this.setNode("propertySet",e)}getPropertySet(){return this.propertySet}}class ve extends oe{constructor(e,t){super(e,t)}get type(){return te.Property}setIdentifier(e){return this.setNode("identifier",e)}getIdentifier(){return this.identifier}getName(){return function(e,t){const n=/[_\+]+$/.exec(e);return n&&n[0].length?e.substr(0,e.length-n[0].length):e}(this.getText())}isCustomProperty(){return!!this.identifier&&this.identifier.isCustomProperty}}class we extends oe{constructor(e,t){super(e,t)}get type(){return te.Invocation}getArguments(){return this.arguments||(this.arguments=new se(this)),this.arguments}}class xe extends we{constructor(e,t){super(e,t)}get type(){return te.Function}setIdentifier(e){return this.setNode("identifier",e,0)}getIdentifier(){return this.identifier}getName(){return this.identifier?this.identifier.getText():""}}class Se extends oe{constructor(e,t){super(e,t)}get type(){return te.FunctionParameter}setIdentifier(e){return this.setNode("identifier",e,0)}getIdentifier(){return this.identifier}getName(){return this.identifier?this.identifier.getText():""}setDefaultValue(e){return this.setNode("defaultValue",e,0)}getDefaultValue(){return this.defaultValue}}class Ce extends oe{constructor(e,t){super(e,t)}get type(){return te.FunctionArgument}setIdentifier(e){return this.setNode("identifier",e,0)}getIdentifier(){return this.identifier}getName(){return this.identifier?this.identifier.getText():""}setValue(e){return this.setNode("value",e,0)}getValue(){return this.value}}class ke extends he{constructor(e,t){super(e,t)}get type(){return te.If}setExpression(e){return this.setNode("expression",e,0)}setElseClause(e){return this.setNode("elseClause",e)}}class _e extends he{constructor(e,t){super(e,t)}get type(){return te.For}setVariable(e){return this.setNode("variable",e,0)}}class Ee extends he{constructor(e,t){super(e,t)}get type(){return te.Each}getVariables(){return this.variables||(this.variables=new se(this)),this.variables}}class Fe extends he{constructor(e,t){super(e,t)}get type(){return te.While}}class Re extends he{constructor(e,t){super(e,t)}get type(){return te.Else}}class De extends he{constructor(e,t){super(e,t)}get type(){return te.FunctionDeclaration}setIdentifier(e){return this.setNode("identifier",e,0)}getIdentifier(){return this.identifier}getName(){return this.identifier?this.identifier.getText():""}getParameters(){return this.parameters||(this.parameters=new se(this)),this.parameters}}class Te extends he{constructor(e,t){super(e,t)}get type(){return te.ViewPort}}class Ie extends he{constructor(e,t){super(e,t)}get type(){return te.FontFace}}class Pe extends he{constructor(e,t){super(e,t)}get type(){return te.NestedProperties}}class Me extends he{constructor(e,t){super(e,t)}get type(){return te.Keyframe}setKeyword(e){return this.setNode("keyword",e,0)}getKeyword(){return this.keyword}setIdentifier(e){return this.setNode("identifier",e,0)}getIdentifier(){return this.identifier}getName(){return this.identifier?this.identifier.getText():""}}class Oe extends he{constructor(e,t){super(e,t)}get type(){return te.KeyframeSelector}}class Ne extends oe{constructor(e,t){super(e,t)}get type(){return te.Import}setMedialist(e){return!!e&&(e.attachTo(this),!0)}}class ze extends oe{get type(){return te.Use}getParameters(){return this.parameters||(this.parameters=new se(this)),this.parameters}setIdentifier(e){return this.setNode("identifier",e,0)}getIdentifier(){return this.identifier}}class Ae extends oe{get type(){return te.ModuleConfiguration}setIdentifier(e){return this.setNode("identifier",e,0)}getIdentifier(){return this.identifier}getName(){return this.identifier?this.identifier.getText():""}setValue(e){return this.setNode("value",e,0)}getValue(){return this.value}}class We extends oe{get type(){return te.Forward}setIdentifier(e){return this.setNode("identifier",e,0)}getIdentifier(){return this.identifier}getMembers(){return this.members||(this.members=new se(this)),this.members}getParameters(){return this.parameters||(this.parameters=new se(this)),this.parameters}}class qe extends oe{get type(){return te.ForwardVisibility}setIdentifier(e){return this.setNode("identifier",e,0)}getIdentifier(){return this.identifier}}class Le extends oe{constructor(e,t){super(e,t)}get type(){return te.Namespace}}class je extends he{constructor(e,t){super(e,t)}get type(){return te.Media}}class $e extends he{constructor(e,t){super(e,t)}get type(){return te.Supports}}class Ue extends he{constructor(e,t){super(e,t)}get type(){return te.Layer}setNames(e){return this.setNode("names",e)}getNames(){return this.names}}class Ve extends he{constructor(e,t){super(e,t)}get type(){return te.PropertyAtRule}setName(e){return!!e&&(e.attachTo(this),this.name=e,!0)}getName(){return this.name}}class Be extends he{constructor(e,t){super(e,t)}get type(){return te.Document}}class Ke extends he{constructor(e,t){super(e,t)}get type(){return te.Container}}class He extends oe{constructor(e,t){super(e,t)}}class Ge extends oe{constructor(e,t){super(e,t)}get type(){return te.MediaQuery}}class Je extends oe{constructor(e,t){super(e,t)}get type(){return te.MediaCondition}}class Xe extends oe{constructor(e,t){super(e,t)}get type(){return te.MediaFeature}}class Ye extends oe{constructor(e,t){super(e,t)}get type(){return te.SupportsCondition}}class Qe extends he{constructor(e,t){super(e,t)}get type(){return te.Page}}class Ze extends he{constructor(e,t){super(e,t)}get type(){return te.PageBoxMarginBox}}class et extends oe{constructor(e,t){super(e,t)}get type(){return te.Expression}}class tt extends oe{constructor(e,t){super(e,t)}get type(){return te.BinaryExpression}setLeft(e){return this.setNode("left",e)}getLeft(){return this.left}setRight(e){return this.setNode("right",e)}getRight(){return this.right}setOperator(e){return this.setNode("operator",e)}getOperator(){return this.operator}}class nt extends oe{constructor(e,t){super(e,t)}get type(){return te.Term}setOperator(e){return this.setNode("operator",e)}getOperator(){return this.operator}setExpression(e){return this.setNode("expression",e)}getExpression(){return this.expression}}class rt extends oe{constructor(e,t){super(e,t)}get type(){return te.AttributeSelector}setNamespacePrefix(e){return this.setNode("namespacePrefix",e)}getNamespacePrefix(){return this.namespacePrefix}setIdentifier(e){return this.setNode("identifier",e)}getIdentifier(){return this.identifier}setOperator(e){return this.setNode("operator",e)}getOperator(){return this.operator}setValue(e){return this.setNode("value",e)}getValue(){return this.value}}class it extends oe{constructor(e,t){super(e,t)}get type(){return te.HexColorValue}}class ot extends oe{constructor(e,t){super(e,t)}get type(){return te.RatioValue}}const st=".".charCodeAt(0),at="0".charCodeAt(0),ct="9".charCodeAt(0);class lt extends oe{constructor(e,t){super(e,t)}get type(){return te.NumericValue}getValue(){const e=this.getText();let t,n=0;for(let r=0,i=e.length;r<i&&(t=e.charCodeAt(r),at<=t&&t<=ct||t===st);r++)n+=1;return{value:e.substring(0,n),unit:n<e.length?e.substring(n):void 0}}}class dt extends fe{constructor(e,t){super(e,t),this.needsSemicolon=!0}get type(){return te.VariableDeclaration}setVariable(e){return!!e&&(e.attachTo(this),this.variable=e,!0)}getVariable(){return this.variable}getName(){return this.variable?this.variable.getName():""}setValue(e){return!!e&&(e.attachTo(this),this.value=e,!0)}getValue(){return this.value}}class ht extends oe{constructor(e,t){super(e,t)}get type(){return te.Interpolation}}class pt extends oe{constructor(e,t){super(e,t)}get type(){return te.VariableName}getName(){return this.getText()}}class ut extends oe{constructor(e,t){super(e,t)}get type(){return te.ExtendsReference}getSelectors(){return this.selectors||(this.selectors=new se(this)),this.selectors}}class mt extends oe{constructor(e,t){super(e,t)}get type(){return te.MixinContentReference}getArguments(){return this.arguments||(this.arguments=new se(this)),this.arguments}}class ft extends he{constructor(e,t){super(e,t)}get type(){return te.MixinContentDeclaration}getParameters(){return this.parameters||(this.parameters=new se(this)),this.parameters}}class gt extends oe{constructor(e,t){super(e,t)}get type(){return te.MixinReference}getNamespaces(){return this.namespaces||(this.namespaces=new se(this)),this.namespaces}setIdentifier(e){return this.setNode("identifier",e,0)}getIdentifier(){return this.identifier}getName(){return this.identifier?this.identifier.getText():""}getArguments(){return this.arguments||(this.arguments=new se(this)),this.arguments}setContent(e){return this.setNode("content",e)}getContent(){return this.content}}class bt extends he{constructor(e,t){super(e,t)}get type(){return te.MixinDeclaration}setIdentifier(e){return this.setNode("identifier",e,0)}getIdentifier(){return this.identifier}getName(){return this.identifier?this.identifier.getText():""}getParameters(){return this.parameters||(this.parameters=new se(this)),this.parameters}setGuard(e){return e&&(e.attachTo(this),this.guard=e),!1}}class yt extends he{constructor(e,t){super(e,t)}get type(){return te.UnknownAtRule}setAtRuleName(e){this.atRuleName=e}getAtRuleName(){return this.atRuleName}}class vt extends oe{get type(){return te.ListEntry}setKey(e){return this.setNode("key",e,0)}setValue(e){return this.setNode("value",e,1)}}class wt extends oe{getConditions(){return this.conditions||(this.conditions=new se(this)),this.conditions}}class xt extends oe{setVariable(e){return this.setNode("variable",e)}}class St extends oe{get type(){return te.Module}setIdentifier(e){return this.setNode("identifier",e,0)}getIdentifier(){return this.identifier}}var Ct;!function(e){e[e.Ignore=1]="Ignore",e[e.Warning=2]="Warning",e[e.Error=4]="Error"}(Ct||(Ct={}));class kt{constructor(e,t,n,r,i=e.offset,o=e.length){this.node=e,this.rule=t,this.level=n,this.message=r||t.message,this.offset=i,this.length=o}getRule(){return this.rule}getLevel(){return this.level}getOffset(){return this.offset}getLength(){return this.length}getNode(){return this.node}getMessage(){return this.message}}class _t{static entries(e){const t=new _t;return e.acceptVisitor(t),t.entries}constructor(){this.entries=[]}visitNode(e){return e.isErroneous()&&e.collectIssues(this.entries),!0}}var Et=n(7791);class Ft{constructor(e,t){this.id=e,this.message=t}}const Rt={NumberExpected:new Ft("css-numberexpected",Et.t("number expected")),ConditionExpected:new Ft("css-conditionexpected",Et.t("condition expected")),RuleOrSelectorExpected:new Ft("css-ruleorselectorexpected",Et.t("at-rule or selector expected")),DotExpected:new Ft("css-dotexpected",Et.t("dot expected")),ColonExpected:new Ft("css-colonexpected",Et.t("colon expected")),SemiColonExpected:new Ft("css-semicolonexpected",Et.t("semi-colon expected")),TermExpected:new Ft("css-termexpected",Et.t("term expected")),ExpressionExpected:new Ft("css-expressionexpected",Et.t("expression expected")),OperatorExpected:new Ft("css-operatorexpected",Et.t("operator expected")),IdentifierExpected:new Ft("css-identifierexpected",Et.t("identifier expected")),PercentageExpected:new Ft("css-percentageexpected",Et.t("percentage expected")),URIOrStringExpected:new Ft("css-uriorstringexpected",Et.t("uri or string expected")),URIExpected:new Ft("css-uriexpected",Et.t("URI expected")),VariableNameExpected:new Ft("css-varnameexpected",Et.t("variable name expected")),VariableValueExpected:new Ft("css-varvalueexpected",Et.t("variable value expected")),PropertyValueExpected:new Ft("css-propertyvalueexpected",Et.t("property value expected")),LeftCurlyExpected:new Ft("css-lcurlyexpected",Et.t("{ expected")),RightCurlyExpected:new Ft("css-rcurlyexpected",Et.t("} expected")),LeftSquareBracketExpected:new Ft("css-rbracketexpected",Et.t("[ expected")),RightSquareBracketExpected:new Ft("css-lbracketexpected",Et.t("] expected")),LeftParenthesisExpected:new Ft("css-lparentexpected",Et.t("( expected")),RightParenthesisExpected:new Ft("css-rparentexpected",Et.t(") expected")),CommaExpected:new Ft("css-commaexpected",Et.t("comma expected")),PageDirectiveOrDeclarationExpected:new Ft("css-pagedirordeclexpected",Et.t("page directive or declaraton expected")),UnknownAtRule:new Ft("css-unknownatrule",Et.t("at-rule unknown")),UnknownKeyword:new Ft("css-unknownkeyword",Et.t("unknown keyword")),SelectorExpected:new Ft("css-selectorexpected",Et.t("selector expected")),StringLiteralExpected:new Ft("css-stringliteralexpected",Et.t("string literal expected")),WhitespaceExpected:new Ft("css-whitespaceexpected",Et.t("whitespace expected")),MediaQueryExpected:new Ft("css-mediaqueryexpected",Et.t("media query expected")),IdentifierOrWildcardExpected:new Ft("css-idorwildcardexpected",Et.t("identifier or wildcard expected")),WildcardExpected:new Ft("css-wildcardexpected",Et.t("wildcard expected")),IdentifierOrVariableExpected:new Ft("css-idorvarexpected",Et.t("identifier or variable expected"))};var Dt,Tt,It,Pt,Mt,Ot,Nt,zt,At,Wt,qt,Lt,jt,$t,Ut,Vt,Bt,Kt,Ht,Gt,Jt,Xt,Yt,Qt,Zt,en,tn,nn,rn,on,sn,an,cn,ln,dn,hn,pn,un,mn,fn,gn,bn,yn,vn,wn,xn,Sn,Cn,kn,_n,En,Fn,Rn,Dn,Tn,In,Pn,Mn,On,Nn,zn,An,Wn,qn,Ln,jn,$n,Un,Vn,Bn,Kn,Hn,Gn,Jn,Xn,Yn,Qn,Zn,er,tr,nr,rr,ir;!function(e){e.is=function(e){return"string"==typeof e}}(Dt||(Dt={})),function(e){e.is=function(e){return"string"==typeof e}}(Tt||(Tt={})),function(e){e.MIN_VALUE=-2147483648,e.MAX_VALUE=2147483647,e.is=function(t){return"number"==typeof t&&e.MIN_VALUE<=t&&t<=e.MAX_VALUE}}(It||(It={})),function(e){e.MIN_VALUE=0,e.MAX_VALUE=2147483647,e.is=function(t){return"number"==typeof t&&e.MIN_VALUE<=t&&t<=e.MAX_VALUE}}(Pt||(Pt={})),function(e){e.create=function(e,t){return e===Number.MAX_VALUE&&(e=Pt.MAX_VALUE),t===Number.MAX_VALUE&&(t=Pt.MAX_VALUE),{line:e,character:t}},e.is=function(e){let t=e;return tr.objectLiteral(t)&&tr.uinteger(t.line)&&tr.uinteger(t.character)}}(Mt||(Mt={})),function(e){e.create=function(e,t,n,r){if(tr.uinteger(e)&&tr.uinteger(t)&&tr.uinteger(n)&&tr.uinteger(r))return{start:Mt.create(e,t),end:Mt.create(n,r)};if(Mt.is(e)&&Mt.is(t))return{start:e,end:t};throw new Error(`Range#create called with invalid arguments[${e}, ${t}, ${n}, ${r}]`)},e.is=function(e){let t=e;return tr.objectLiteral(t)&&Mt.is(t.start)&&Mt.is(t.end)}}(Ot||(Ot={})),function(e){e.create=function(e,t){return{uri:e,range:t}},e.is=function(e){let t=e;return tr.objectLiteral(t)&&Ot.is(t.range)&&(tr.string(t.uri)||tr.undefined(t.uri))}}(Nt||(Nt={})),function(e){e.create=function(e,t,n,r){return{targetUri:e,targetRange:t,targetSelectionRange:n,originSelectionRange:r}},e.is=function(e){let t=e;return tr.objectLiteral(t)&&Ot.is(t.targetRange)&&tr.string(t.targetUri)&&Ot.is(t.targetSelectionRange)&&(Ot.is(t.originSelectionRange)||tr.undefined(t.originSelectionRange))}}(zt||(zt={})),function(e){e.create=function(e,t,n,r){return{red:e,green:t,blue:n,alpha:r}},e.is=function(e){const t=e;return tr.objectLiteral(t)&&tr.numberRange(t.red,0,1)&&tr.numberRange(t.green,0,1)&&tr.numberRange(t.blue,0,1)&&tr.numberRange(t.alpha,0,1)}}(At||(At={})),function(e){e.create=function(e,t){return{range:e,color:t}},e.is=function(e){const t=e;return tr.objectLiteral(t)&&Ot.is(t.range)&&At.is(t.color)}}(Wt||(Wt={})),function(e){e.create=function(e,t,n){return{label:e,textEdit:t,additionalTextEdits:n}},e.is=function(e){const t=e;return tr.objectLiteral(t)&&tr.string(t.label)&&(tr.undefined(t.textEdit)||Gt.is(t))&&(tr.undefined(t.additionalTextEdits)||tr.typedArray(t.additionalTextEdits,Gt.is))}}(qt||(qt={})),function(e){e.Comment="comment",e.Imports="imports",e.Region="region"}(Lt||(Lt={})),function(e){e.create=function(e,t,n,r,i,o){const s={startLine:e,endLine:t};return tr.defined(n)&&(s.startCharacter=n),tr.defined(r)&&(s.endCharacter=r),tr.defined(i)&&(s.kind=i),tr.defined(o)&&(s.collapsedText=o),s},e.is=function(e){const t=e;return tr.objectLiteral(t)&&tr.uinteger(t.startLine)&&tr.uinteger(t.startLine)&&(tr.undefined(t.startCharacter)||tr.uinteger(t.startCharacter))&&(tr.undefined(t.endCharacter)||tr.uinteger(t.endCharacter))&&(tr.undefined(t.kind)||tr.string(t.kind))}}(jt||(jt={})),function(e){e.create=function(e,t){return{location:e,message:t}},e.is=function(e){let t=e;return tr.defined(t)&&Nt.is(t.location)&&tr.string(t.message)}}($t||($t={})),function(e){e.Error=1,e.Warning=2,e.Information=3,e.Hint=4}(Ut||(Ut={})),function(e){e.Unnecessary=1,e.Deprecated=2}(Vt||(Vt={})),function(e){e.is=function(e){const t=e;return tr.objectLiteral(t)&&tr.string(t.href)}}(Bt||(Bt={})),function(e){e.create=function(e,t,n,r,i,o){let s={range:e,message:t};return tr.defined(n)&&(s.severity=n),tr.defined(r)&&(s.code=r),tr.defined(i)&&(s.source=i),tr.defined(o)&&(s.relatedInformation=o),s},e.is=function(e){var t;let n=e;return tr.defined(n)&&Ot.is(n.range)&&tr.string(n.message)&&(tr.number(n.severity)||tr.undefined(n.severity))&&(tr.integer(n.code)||tr.string(n.code)||tr.undefined(n.code))&&(tr.undefined(n.codeDescription)||tr.string(null===(t=n.codeDescription)||void 0===t?void 0:t.href))&&(tr.string(n.source)||tr.undefined(n.source))&&(tr.undefined(n.relatedInformation)||tr.typedArray(n.relatedInformation,$t.is))}}(Kt||(Kt={})),function(e){e.create=function(e,t,...n){let r={title:e,command:t};return tr.defined(n)&&n.length>0&&(r.arguments=n),r},e.is=function(e){let t=e;return tr.defined(t)&&tr.string(t.title)&&tr.string(t.command)}}(Ht||(Ht={})),function(e){e.replace=function(e,t){return{range:e,newText:t}},e.insert=function(e,t){return{range:{start:e,end:e},newText:t}},e.del=function(e){return{range:e,newText:""}},e.is=function(e){const t=e;return tr.objectLiteral(t)&&tr.string(t.newText)&&Ot.is(t.range)}}(Gt||(Gt={})),function(e){e.create=function(e,t,n){const r={label:e};return void 0!==t&&(r.needsConfirmation=t),void 0!==n&&(r.description=n),r},e.is=function(e){const t=e;return tr.objectLiteral(t)&&tr.string(t.label)&&(tr.boolean(t.needsConfirmation)||void 0===t.needsConfirmation)&&(tr.string(t.description)||void 0===t.description)}}(Jt||(Jt={})),function(e){e.is=function(e){const t=e;return tr.string(t)}}(Xt||(Xt={})),function(e){e.replace=function(e,t,n){return{range:e,newText:t,annotationId:n}},e.insert=function(e,t,n){return{range:{start:e,end:e},newText:t,annotationId:n}},e.del=function(e,t){return{range:e,newText:"",annotationId:t}},e.is=function(e){const t=e;return Gt.is(t)&&(Jt.is(t.annotationId)||Xt.is(t.annotationId))}}(Yt||(Yt={})),function(e){e.create=function(e,t){return{textDocument:e,edits:t}},e.is=function(e){let t=e;return tr.defined(t)&&sn.is(t.textDocument)&&Array.isArray(t.edits)}}(Qt||(Qt={})),function(e){e.create=function(e,t,n){let r={kind:"create",uri:e};return void 0===t||void 0===t.overwrite&&void 0===t.ignoreIfExists||(r.options=t),void 0!==n&&(r.annotationId=n),r},e.is=function(e){let t=e;return t&&"create"===t.kind&&tr.string(t.uri)&&(void 0===t.options||(void 0===t.options.overwrite||tr.boolean(t.options.overwrite))&&(void 0===t.options.ignoreIfExists||tr.boolean(t.options.ignoreIfExists)))&&(void 0===t.annotationId||Xt.is(t.annotationId))}}(Zt||(Zt={})),function(e){e.create=function(e,t,n,r){let i={kind:"rename",oldUri:e,newUri:t};return void 0===n||void 0===n.overwrite&&void 0===n.ignoreIfExists||(i.options=n),void 0!==r&&(i.annotationId=r),i},e.is=function(e){let t=e;return t&&"rename"===t.kind&&tr.string(t.oldUri)&&tr.string(t.newUri)&&(void 0===t.options||(void 0===t.options.overwrite||tr.boolean(t.options.overwrite))&&(void 0===t.options.ignoreIfExists||tr.boolean(t.options.ignoreIfExists)))&&(void 0===t.annotationId||Xt.is(t.annotationId))}}(en||(en={})),function(e){e.create=function(e,t,n){let r={kind:"delete",uri:e};return void 0===t||void 0===t.recursive&&void 0===t.ignoreIfNotExists||(r.options=t),void 0!==n&&(r.annotationId=n),r},e.is=function(e){let t=e;return t&&"delete"===t.kind&&tr.string(t.uri)&&(void 0===t.options||(void 0===t.options.recursive||tr.boolean(t.options.recursive))&&(void 0===t.options.ignoreIfNotExists||tr.boolean(t.options.ignoreIfNotExists)))&&(void 0===t.annotationId||Xt.is(t.annotationId))}}(tn||(tn={})),function(e){e.is=function(e){let t=e;return t&&(void 0!==t.changes||void 0!==t.documentChanges)&&(void 0===t.documentChanges||t.documentChanges.every((e=>tr.string(e.kind)?Zt.is(e)||en.is(e)||tn.is(e):Qt.is(e))))}}(nn||(nn={})),function(e){e.create=function(e){return{uri:e}},e.is=function(e){let t=e;return tr.defined(t)&&tr.string(t.uri)}}(rn||(rn={})),function(e){e.create=function(e,t){return{uri:e,version:t}},e.is=function(e){let t=e;return tr.defined(t)&&tr.string(t.uri)&&tr.integer(t.version)}}(on||(on={})),function(e){e.create=function(e,t){return{uri:e,version:t}},e.is=function(e){let t=e;return tr.defined(t)&&tr.string(t.uri)&&(null===t.version||tr.integer(t.version))}}(sn||(sn={})),function(e){e.create=function(e,t,n,r){return{uri:e,languageId:t,version:n,text:r}},e.is=function(e){let t=e;return tr.defined(t)&&tr.string(t.uri)&&tr.string(t.languageId)&&tr.integer(t.version)&&tr.string(t.text)}}(an||(an={})),function(e){e.PlainText="plaintext",e.Markdown="markdown",e.is=function(t){const n=t;return n===e.PlainText||n===e.Markdown}}(cn||(cn={})),function(e){e.is=function(e){const t=e;return tr.objectLiteral(e)&&cn.is(t.kind)&&tr.string(t.value)}}(ln||(ln={})),function(e){e.Text=1,e.Method=2,e.Function=3,e.Constructor=4,e.Field=5,e.Variable=6,e.Class=7,e.Interface=8,e.Module=9,e.Property=10,e.Unit=11,e.Value=12,e.Enum=13,e.Keyword=14,e.Snippet=15,e.Color=16,e.File=17,e.Reference=18,e.Folder=19,e.EnumMember=20,e.Constant=21,e.Struct=22,e.Event=23,e.Operator=24,e.TypeParameter=25}(dn||(dn={})),function(e){e.PlainText=1,e.Snippet=2}(hn||(hn={})),function(e){e.Deprecated=1}(pn||(pn={})),function(e){e.create=function(e,t,n){return{newText:e,insert:t,replace:n}},e.is=function(e){const t=e;return t&&tr.string(t.newText)&&Ot.is(t.insert)&&Ot.is(t.replace)}}(un||(un={})),function(e){e.asIs=1,e.adjustIndentation=2}(mn||(mn={})),function(e){e.is=function(e){const t=e;return t&&(tr.string(t.detail)||void 0===t.detail)&&(tr.string(t.description)||void 0===t.description)}}(fn||(fn={})),function(e){e.create=function(e){return{label:e}}}(gn||(gn={})),function(e){e.create=function(e,t){return{items:e||[],isIncomplete:!!t}}}(bn||(bn={})),function(e){e.fromPlainText=function(e){return e.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")},e.is=function(e){const t=e;return tr.string(t)||tr.objectLiteral(t)&&tr.string(t.language)&&tr.string(t.value)}}(yn||(yn={})),function(e){e.is=function(e){let t=e;return!!t&&tr.objectLiteral(t)&&(ln.is(t.contents)||yn.is(t.contents)||tr.typedArray(t.contents,yn.is))&&(void 0===e.range||Ot.is(e.range))}}(vn||(vn={})),function(e){e.create=function(e,t){return t?{label:e,documentation:t}:{label:e}}}(wn||(wn={})),function(e){e.create=function(e,t,...n){let r={label:e};return tr.defined(t)&&(r.documentation=t),tr.defined(n)?r.parameters=n:r.parameters=[],r}}(xn||(xn={})),function(e){e.Text=1,e.Read=2,e.Write=3}(Sn||(Sn={})),function(e){e.create=function(e,t){let n={range:e};return tr.number(t)&&(n.kind=t),n}}(Cn||(Cn={})),function(e){e.File=1,e.Module=2,e.Namespace=3,e.Package=4,e.Class=5,e.Method=6,e.Property=7,e.Field=8,e.Constructor=9,e.Enum=10,e.Interface=11,e.Function=12,e.Variable=13,e.Constant=14,e.String=15,e.Number=16,e.Boolean=17,e.Array=18,e.Object=19,e.Key=20,e.Null=21,e.EnumMember=22,e.Struct=23,e.Event=24,e.Operator=25,e.TypeParameter=26}(kn||(kn={})),function(e){e.Deprecated=1}(_n||(_n={})),function(e){e.create=function(e,t,n,r,i){let o={name:e,kind:t,location:{uri:r,range:n}};return i&&(o.containerName=i),o}}(En||(En={})),function(e){e.create=function(e,t,n,r){return void 0!==r?{name:e,kind:t,location:{uri:n,range:r}}:{name:e,kind:t,location:{uri:n}}}}(Fn||(Fn={})),function(e){e.create=function(e,t,n,r,i,o){let s={name:e,detail:t,kind:n,range:r,selectionRange:i};return void 0!==o&&(s.children=o),s},e.is=function(e){let t=e;return t&&tr.string(t.name)&&tr.number(t.kind)&&Ot.is(t.range)&&Ot.is(t.selectionRange)&&(void 0===t.detail||tr.string(t.detail))&&(void 0===t.deprecated||tr.boolean(t.deprecated))&&(void 0===t.children||Array.isArray(t.children))&&(void 0===t.tags||Array.isArray(t.tags))}}(Rn||(Rn={})),function(e){e.Empty="",e.QuickFix="quickfix",e.Refactor="refactor",e.RefactorExtract="refactor.extract",e.RefactorInline="refactor.inline",e.RefactorRewrite="refactor.rewrite",e.Source="source",e.SourceOrganizeImports="source.organizeImports",e.SourceFixAll="source.fixAll"}(Dn||(Dn={})),function(e){e.Invoked=1,e.Automatic=2}(Tn||(Tn={})),function(e){e.create=function(e,t,n){let r={diagnostics:e};return null!=t&&(r.only=t),null!=n&&(r.triggerKind=n),r},e.is=function(e){let t=e;return tr.defined(t)&&tr.typedArray(t.diagnostics,Kt.is)&&(void 0===t.only||tr.typedArray(t.only,tr.string))&&(void 0===t.triggerKind||t.triggerKind===Tn.Invoked||t.triggerKind===Tn.Automatic)}}(In||(In={})),function(e){e.create=function(e,t,n){let r={title:e},i=!0;return"string"==typeof t?(i=!1,r.kind=t):Ht.is(t)?r.command=t:r.edit=t,i&&void 0!==n&&(r.kind=n),r},e.is=function(e){let t=e;return t&&tr.string(t.title)&&(void 0===t.diagnostics||tr.typedArray(t.diagnostics,Kt.is))&&(void 0===t.kind||tr.string(t.kind))&&(void 0!==t.edit||void 0!==t.command)&&(void 0===t.command||Ht.is(t.command))&&(void 0===t.isPreferred||tr.boolean(t.isPreferred))&&(void 0===t.edit||nn.is(t.edit))}}(Pn||(Pn={})),function(e){e.create=function(e,t){let n={range:e};return tr.defined(t)&&(n.data=t),n},e.is=function(e){let t=e;return tr.defined(t)&&Ot.is(t.range)&&(tr.undefined(t.command)||Ht.is(t.command))}}(Mn||(Mn={})),function(e){e.create=function(e,t){return{tabSize:e,insertSpaces:t}},e.is=function(e){let t=e;return tr.defined(t)&&tr.uinteger(t.tabSize)&&tr.boolean(t.insertSpaces)}}(On||(On={})),function(e){e.create=function(e,t,n){return{range:e,target:t,data:n}},e.is=function(e){let t=e;return tr.defined(t)&&Ot.is(t.range)&&(tr.undefined(t.target)||tr.string(t.target))}}(Nn||(Nn={})),function(e){e.create=function(e,t){return{range:e,parent:t}},e.is=function(t){let n=t;return tr.objectLiteral(n)&&Ot.is(n.range)&&(void 0===n.parent||e.is(n.parent))}}(zn||(zn={})),function(e){e.namespace="namespace",e.type="type",e.class="class",e.enum="enum",e.interface="interface",e.struct="struct",e.typeParameter="typeParameter",e.parameter="parameter",e.variable="variable",e.property="property",e.enumMember="enumMember",e.event="event",e.function="function",e.method="method",e.macro="macro",e.keyword="keyword",e.modifier="modifier",e.comment="comment",e.string="string",e.number="number",e.regexp="regexp",e.operator="operator",e.decorator="decorator"}(An||(An={})),function(e){e.declaration="declaration",e.definition="definition",e.readonly="readonly",e.static="static",e.deprecated="deprecated",e.abstract="abstract",e.async="async",e.modification="modification",e.documentation="documentation",e.defaultLibrary="defaultLibrary"}(Wn||(Wn={})),function(e){e.is=function(e){const t=e;return tr.objectLiteral(t)&&(void 0===t.resultId||"string"==typeof t.resultId)&&Array.isArray(t.data)&&(0===t.data.length||"number"==typeof t.data[0])}}(qn||(qn={})),function(e){e.create=function(e,t){return{range:e,text:t}},e.is=function(e){const t=e;return null!=t&&Ot.is(t.range)&&tr.string(t.text)}}(Ln||(Ln={})),function(e){e.create=function(e,t,n){return{range:e,variableName:t,caseSensitiveLookup:n}},e.is=function(e){const t=e;return null!=t&&Ot.is(t.range)&&tr.boolean(t.caseSensitiveLookup)&&(tr.string(t.variableName)||void 0===t.variableName)}}(jn||(jn={})),function(e){e.create=function(e,t){return{range:e,expression:t}},e.is=function(e){const t=e;return null!=t&&Ot.is(t.range)&&(tr.string(t.expression)||void 0===t.expression)}}($n||($n={})),function(e){e.create=function(e,t){return{frameId:e,stoppedLocation:t}},e.is=function(e){const t=e;return tr.defined(t)&&Ot.is(e.stoppedLocation)}}(Un||(Un={})),function(e){e.Type=1,e.Parameter=2,e.is=function(e){return 1===e||2===e}}(Vn||(Vn={})),function(e){e.create=function(e){return{value:e}},e.is=function(e){const t=e;return tr.objectLiteral(t)&&(void 0===t.tooltip||tr.string(t.tooltip)||ln.is(t.tooltip))&&(void 0===t.location||Nt.is(t.location))&&(void 0===t.command||Ht.is(t.command))}}(Bn||(Bn={})),function(e){e.create=function(e,t,n){const r={position:e,label:t};return void 0!==n&&(r.kind=n),r},e.is=function(e){const t=e;return tr.objectLiteral(t)&&Mt.is(t.position)&&(tr.string(t.label)||tr.typedArray(t.label,Bn.is))&&(void 0===t.kind||Vn.is(t.kind))&&void 0===t.textEdits||tr.typedArray(t.textEdits,Gt.is)&&(void 0===t.tooltip||tr.string(t.tooltip)||ln.is(t.tooltip))&&(void 0===t.paddingLeft||tr.boolean(t.paddingLeft))&&(void 0===t.paddingRight||tr.boolean(t.paddingRight))}}(Kn||(Kn={})),function(e){e.createSnippet=function(e){return{kind:"snippet",value:e}}}(Hn||(Hn={})),function(e){e.create=function(e,t,n,r){return{insertText:e,filterText:t,range:n,command:r}}}(Gn||(Gn={})),function(e){e.create=function(e){return{items:e}}}(Jn||(Jn={})),function(e){e.Invoked=0,e.Automatic=1}(Xn||(Xn={})),function(e){e.create=function(e,t){return{range:e,text:t}}}(Yn||(Yn={})),function(e){e.create=function(e,t){return{triggerKind:e,selectedCompletionInfo:t}}}(Qn||(Qn={})),function(e){e.is=function(e){const t=e;return tr.objectLiteral(t)&&Tt.is(t.uri)&&tr.string(t.name)}}(Zn||(Zn={})),function(e){function t(e,n){if(e.length<=1)return e;const r=e.length/2|0,i=e.slice(0,r),o=e.slice(r);t(i,n),t(o,n);let s=0,a=0,c=0;for(;s<i.length&&a<o.length;){let t=n(i[s],o[a]);e[c++]=t<=0?i[s++]:o[a++]}for(;s<i.length;)e[c++]=i[s++];for(;a<o.length;)e[c++]=o[a++];return e}e.create=function(e,t,n,r){return new or(e,t,n,r)},e.is=function(e){let t=e;return!!(tr.defined(t)&&tr.string(t.uri)&&(tr.undefined(t.languageId)||tr.string(t.languageId))&&tr.uinteger(t.lineCount)&&tr.func(t.getText)&&tr.func(t.positionAt)&&tr.func(t.offsetAt))},e.applyEdits=function(e,n){let r=e.getText(),i=t(n,((e,t)=>{let n=e.range.start.line-t.range.start.line;return 0===n?e.range.start.character-t.range.start.character:n})),o=r.length;for(let t=i.length-1;t>=0;t--){let n=i[t],s=e.offsetAt(n.range.start),a=e.offsetAt(n.range.end);if(!(a<=o))throw new Error("Overlapping edit");r=r.substring(0,s)+n.newText+r.substring(a,r.length),o=s}return r}}(er||(er={}));class or{constructor(e,t,n,r){this._uri=e,this._languageId=t,this._version=n,this._content=r,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(e){if(e){let t=this.offsetAt(e.start),n=this.offsetAt(e.end);return this._content.substring(t,n)}return this._content}update(e,t){this._content=e.text,this._version=t,this._lineOffsets=void 0}getLineOffsets(){if(void 0===this._lineOffsets){let e=[],t=this._content,n=!0;for(let r=0;r<t.length;r++){n&&(e.push(r),n=!1);let i=t.charAt(r);n="\r"===i||"\n"===i,"\r"===i&&r+1<t.length&&"\n"===t.charAt(r+1)&&r++}n&&t.length>0&&e.push(t.length),this._lineOffsets=e}return this._lineOffsets}positionAt(e){e=Math.max(Math.min(e,this._content.length),0);let t=this.getLineOffsets(),n=0,r=t.length;if(0===r)return Mt.create(0,e);for(;n<r;){let i=Math.floor((n+r)/2);t[i]>e?r=i:n=i+1}let i=n-1;return Mt.create(i,e-t[i])}offsetAt(e){let t=this.getLineOffsets();if(e.line>=t.length)return this._content.length;if(e.line<0)return 0;let n=t[e.line],r=e.line+1<t.length?t[e.line+1]:this._content.length;return Math.max(Math.min(n+e.character,r),n)}get lineCount(){return this.getLineOffsets().length}}!function(e){const t=Object.prototype.toString;e.defined=function(e){return void 0!==e},e.undefined=function(e){return void 0===e},e.boolean=function(e){return!0===e||!1===e},e.string=function(e){return"[object String]"===t.call(e)},e.number=function(e){return"[object Number]"===t.call(e)},e.numberRange=function(e,n,r){return"[object Number]"===t.call(e)&&n<=e&&e<=r},e.integer=function(e){return"[object Number]"===t.call(e)&&-2147483648<=e&&e<=2147483647},e.uinteger=function(e){return"[object Number]"===t.call(e)&&0<=e&&e<=2147483647},e.func=function(e){return"[object Function]"===t.call(e)},e.objectLiteral=function(e){return null!==e&&"object"==typeof e},e.typedArray=function(e,t){return Array.isArray(e)&&e.every(t)}}(tr||(tr={}));class sr{constructor(e,t,n,r){this._uri=e,this._languageId=t,this._version=n,this._content=r,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(e){if(e){const t=this.offsetAt(e.start),n=this.offsetAt(e.end);return this._content.substring(t,n)}return this._content}update(e,t){for(let t of e)if(sr.isIncremental(t)){const e=lr(t.range),n=this.offsetAt(e.start),r=this.offsetAt(e.end);this._content=this._content.substring(0,n)+t.text+this._content.substring(r,this._content.length);const i=Math.max(e.start.line,0),o=Math.max(e.end.line,0);let s=this._lineOffsets;const a=cr(t.text,!1,n);if(o-i===a.length)for(let e=0,t=a.length;e<t;e++)s[e+i+1]=a[e];else a.length<1e4?s.splice(i+1,o-i,...a):this._lineOffsets=s=s.slice(0,i+1).concat(a,s.slice(o+1));const c=t.text.length-(r-n);if(0!==c)for(let e=i+1+a.length,t=s.length;e<t;e++)s[e]=s[e]+c}else{if(!sr.isFull(t))throw new Error("Unknown change event received");this._content=t.text,this._lineOffsets=void 0}this._version=t}getLineOffsets(){return void 0===this._lineOffsets&&(this._lineOffsets=cr(this._content,!0)),this._lineOffsets}positionAt(e){e=Math.max(Math.min(e,this._content.length),0);let t=this.getLineOffsets(),n=0,r=t.length;if(0===r)return{line:0,character:e};for(;n<r;){let i=Math.floor((n+r)/2);t[i]>e?r=i:n=i+1}let i=n-1;return{line:i,character:e-t[i]}}offsetAt(e){let t=this.getLineOffsets();if(e.line>=t.length)return this._content.length;if(e.line<0)return 0;let n=t[e.line],r=e.line+1<t.length?t[e.line+1]:this._content.length;return Math.max(Math.min(n+e.character,r),n)}get lineCount(){return this.getLineOffsets().length}static isIncremental(e){let t=e;return null!=t&&"string"==typeof t.text&&void 0!==t.range&&(void 0===t.rangeLength||"number"==typeof t.rangeLength)}static isFull(e){let t=e;return null!=t&&"string"==typeof t.text&&void 0===t.range&&void 0===t.rangeLength}}function ar(e,t){if(e.length<=1)return e;const n=e.length/2|0,r=e.slice(0,n),i=e.slice(n);ar(r,t),ar(i,t);let o=0,s=0,a=0;for(;o<r.length&&s<i.length;){let n=t(r[o],i[s]);e[a++]=n<=0?r[o++]:i[s++]}for(;o<r.length;)e[a++]=r[o++];for(;s<i.length;)e[a++]=i[s++];return e}function cr(e,t,n=0){const r=t?[n]:[];for(let t=0;t<e.length;t++){let i=e.charCodeAt(t);13!==i&&10!==i||(13===i&&t+1<e.length&&10===e.charCodeAt(t+1)&&t++,r.push(n+t+1))}return r}function lr(e){const t=e.start,n=e.end;return t.line>n.line||t.line===n.line&&t.character>n.character?{start:n,end:t}:e}function dr(e){const t=lr(e.range);return t!==e.range?{newText:e.newText,range:t}:e}!function(e){e.create=function(e,t,n,r){return new sr(e,t,n,r)},e.update=function(e,t,n){if(e instanceof sr)return e.update(t,n),e;throw new Error("TextDocument.update: document must be created by TextDocument.create")},e.applyEdits=function(e,t){let n=e.getText(),r=ar(t.map(dr),((e,t)=>{let n=e.range.start.line-t.range.start.line;return 0===n?e.range.start.character-t.range.start.character:n})),i=0;const o=[];for(const t of r){let r=e.offsetAt(t.range.start);if(r<i)throw new Error("Overlapping edit");r>i&&o.push(n.substring(i,r)),t.newText.length&&o.push(t.newText),i=e.offsetAt(t.range.end)}return o.push(n.substr(i)),o.join("")}}(nr||(nr={})),function(e){e.LATEST={textDocument:{completion:{completionItem:{documentationFormat:[cn.Markdown,cn.PlainText]}},hover:{contentFormat:[cn.Markdown,cn.PlainText]}}}}(rr||(rr={})),function(e){e[e.Unknown=0]="Unknown",e[e.File=1]="File",e[e.Directory=2]="Directory",e[e.SymbolicLink=64]="SymbolicLink"}(ir||(ir={}));const hr={E:"Edge",FF:"Firefox",S:"Safari",C:"Chrome",IE:"IE",O:"Opera"};function pr(e){switch(e){case"experimental":return"âš ï¸ Property is experimental. Be cautious when using it.ï¸\n\n";case"nonstandard":return"ðŸš¨ï¸ Property is nonstandard. Avoid using it.\n\n";case"obsolete":return"ðŸš¨ï¸ï¸ï¸ Property is obsolete. Avoid using it.\n\n";default:return""}}function ur(e,t,n){let r;if(r=t?{kind:"markdown",value:gr(e,n)}:{kind:"plaintext",value:fr(e,n)},""!==r.value)return r}function mr(e){return(e=e.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function fr(e,t){if(!e.description||""===e.description)return"";if("string"!=typeof e.description)return e.description.value;let n="";if(!1!==t?.documentation){e.status&&(n+=pr(e.status)),n+=e.description;const t=br(e.browsers);t&&(n+="\n("+t+")"),"syntax"in e&&(n+=`\n\nSyntax: ${e.syntax}`)}return e.references&&e.references.length>0&&!1!==t?.references&&(n.length>0&&(n+="\n\n"),n+=e.references.map((e=>`${e.name}: ${e.url}`)).join(" | ")),n}function gr(e,t){if(!e.description||""===e.description)return"";let n="";if(!1!==t?.documentation){e.status&&(n+=pr(e.status)),"string"==typeof e.description?n+=mr(e.description):n+=e.description.kind===cn.Markdown?e.description.value:mr(e.description.value);const t=br(e.browsers);t&&(n+="\n\n("+mr(t)+")"),"syntax"in e&&e.syntax&&(n+=`\n\nSyntax: ${mr(e.syntax)}`)}return e.references&&e.references.length>0&&!1!==t?.references&&(n.length>0&&(n+="\n\n"),n+=e.references.map((e=>`[${e.name}](${e.url})`)).join(" | ")),n}function br(e=[]){return 0===e.length?null:e.map((e=>{let t="";const n=e.match(/([A-Z]+)(\d+)?/),r=n[1],i=n[2];return r in hr&&(t+=hr[r]),i&&(t+=" "+i),t})).join(", ")}const yr=/(^#([0-9A-F]{3}){1,2}$)|(^#([0-9A-F]{4}){1,2}$)/i,vr=[{label:"rgb",func:"rgb($red, $green, $blue)",insertText:"rgb(${1:red}, ${2:green}, ${3:blue})",desc:Et.t("Creates a Color from red, green, and blue values.")},{label:"rgba",func:"rgba($red, $green, $blue, $alpha)",insertText:"rgba(${1:red}, ${2:green}, ${3:blue}, ${4:alpha})",desc:Et.t("Creates a Color from red, green, blue, and alpha values.")},{label:"rgb relative",func:"rgb(from $color $red $green $blue)",insertText:"rgb(from ${1:color} ${2:r} ${3:g} ${4:b})",desc:Et.t("Creates a Color from the red, green, and blue values of another Color.")},{label:"hsl",func:"hsl($hue, $saturation, $lightness)",insertText:"hsl(${1:hue}, ${2:saturation}, ${3:lightness})",desc:Et.t("Creates a Color from hue, saturation, and lightness values.")},{label:"hsla",func:"hsla($hue, $saturation, $lightness, $alpha)",insertText:"hsla(${1:hue}, ${2:saturation}, ${3:lightness}, ${4:alpha})",desc:Et.t("Creates a Color from hue, saturation, lightness, and alpha values.")},{label:"hsl relative",func:"hsl(from $color $hue $saturation $lightness)",insertText:"hsl(from ${1:color} ${2:h} ${3:s} ${4:l})",desc:Et.t("Creates a Color from the hue, saturation, and lightness values of another Color.")},{label:"hwb",func:"hwb($hue $white $black)",insertText:"hwb(${1:hue} ${2:white} ${3:black})",desc:Et.t("Creates a Color from hue, white, and black values.")},{label:"hwb relative",func:"hwb(from $color $hue $white $black)",insertText:"hwb(from ${1:color} ${2:h} ${3:w} ${4:b})",desc:Et.t("Creates a Color from the hue, white, and black values of another Color.")},{label:"lab",func:"lab($lightness $a $b)",insertText:"lab(${1:lightness} ${2:a} ${3:b})",desc:Et.t("Creates a Color from lightness, a, and b values.")},{label:"lab relative",func:"lab(from $color $lightness $a $b)",insertText:"lab(from ${1:color} ${2:l} ${3:a} ${4:b})",desc:Et.t("Creates a Color from the lightness, a, and b values of another Color.")},{label:"oklab",func:"oklab($lightness $a $b)",insertText:"oklab(${1:lightness} ${2:a} ${3:b})",desc:Et.t("Creates a Color from lightness, a, and b values.")},{label:"oklab relative",func:"oklab(from $color $lightness $a $b)",insertText:"oklab(from ${1:color} ${2:l} ${3:a} ${4:b})",desc:Et.t("Creates a Color from the lightness, a, and b values of another Color.")},{label:"lch",func:"lch($lightness $chroma $hue)",insertText:"lch(${1:lightness} ${2:chroma} ${3:hue})",desc:Et.t("Creates a Color from lightness, chroma, and hue values.")},{label:"lch relative",func:"lch(from $color $lightness $chroma $hue)",insertText:"lch(from ${1:color} ${2:l} ${3:c} ${4:h})",desc:Et.t("Creates a Color from the lightness, chroma, and hue values of another Color.")},{label:"oklch",func:"oklch($lightness $chroma $hue)",insertText:"oklch(${1:lightness} ${2:chroma} ${3:hue})",desc:Et.t("Creates a Color from lightness, chroma, and hue values.")},{label:"oklch relative",func:"oklch(from $color $lightness $chroma $hue)",insertText:"oklch(from ${1:color} ${2:l} ${3:c} ${4:h})",desc:Et.t("Creates a Color from the lightness, chroma, and hue values of another Color.")},{label:"color",func:"color($color-space $red $green $blue)",insertText:"color(${1|srgb,srgb-linear,display-p3,a98-rgb,prophoto-rgb,rec2020,xyx,xyz-d50,xyz-d65|} ${2:red} ${3:green} ${4:blue})",desc:Et.t("Creates a Color in a specific color space from red, green, and blue values.")},{label:"color relative",func:"color(from $color $color-space $red $green $blue)",insertText:"color(from ${1:color} ${2|srgb,srgb-linear,display-p3,a98-rgb,prophoto-rgb,rec2020,xyx,xyz-d50,xyz-d65|} ${3:r} ${4:g} ${5:b})",desc:Et.t("Creates a Color in a specific color space from the red, green, and blue values of another Color.")},{label:"color-mix",func:"color-mix(in $color-space, $color $percentage, $color $percentage)",insertText:"color-mix(in ${1|srgb,srgb-linear,lab,oklab,xyz,xyz-d50,xyz-d65|}, ${3:color} ${4:percentage}, ${5:color} ${6:percentage})",desc:Et.t("Mix two colors together in a rectangular color space.")},{label:"color-mix hue",func:"color-mix(in $color-space $interpolation-method hue, $color $percentage, $color $percentage)",insertText:"color-mix(in ${1|hsl,hwb,lch,oklch|} ${2|shorter hue,longer hue,increasing hue,decreasing hue|}, ${3:color} ${4:percentage}, ${5:color} ${6:percentage})",desc:Et.t("Mix two colors together in a polar color space.")}],wr=/^(rgb|rgba|hsl|hsla|hwb)$/i,xr={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgrey:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rebeccapurple:"#663399",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},Sr=new RegExp(`^(${Object.keys(xr).join("|")})$`,"i"),Cr={currentColor:"The value of the 'color' property. The computed value of the 'currentColor' keyword is the computed value of the 'color' property. If the 'currentColor' keyword is set on the 'color' property itself, it is treated as 'color:inherit' at parse time.",transparent:"Fully transparent. This keyword can be considered a shorthand for rgba(0,0,0,0) which is its computed value."},kr=new RegExp(`^(${Object.keys(Cr).join("|")})$`,"i");function _r(e,t){const n=e.getText().match(/^([-+]?[0-9]*\.?[0-9]+)(%?)$/);if(n){n[2]&&(t=100);const e=parseFloat(n[1])/t;if(e>=0&&e<=1)return e}throw new Error}function Er(e){const t=e.getText(),n=t.match(/^([-+]?[0-9]*\.?[0-9]+)(deg|rad|grad|turn)?$/);if(n)switch(n[2]){case"deg":return parseFloat(t)%360;case"rad":return 180*parseFloat(t)/Math.PI%360;case"grad":return.9*parseFloat(t)%360;case"turn":return 360*parseFloat(t)%360;default:if(void 0===n[2])return parseFloat(t)%360}throw new Error}function Fr(e){return yr.test(e)||Sr.test(e)||kr.test(e)}function Rr(e){return e<48?0:e<=57?e-48:(e<97&&(e+=32),e>=97&&e<=102?e-97+10:0)}function Dr(e){if("#"!==e[0])return null;switch(e.length){case 4:return{red:17*Rr(e.charCodeAt(1))/255,green:17*Rr(e.charCodeAt(2))/255,blue:17*Rr(e.charCodeAt(3))/255,alpha:1};case 5:return{red:17*Rr(e.charCodeAt(1))/255,green:17*Rr(e.charCodeAt(2))/255,blue:17*Rr(e.charCodeAt(3))/255,alpha:17*Rr(e.charCodeAt(4))/255};case 7:return{red:(16*Rr(e.charCodeAt(1))+Rr(e.charCodeAt(2)))/255,green:(16*Rr(e.charCodeAt(3))+Rr(e.charCodeAt(4)))/255,blue:(16*Rr(e.charCodeAt(5))+Rr(e.charCodeAt(6)))/255,alpha:1};case 9:return{red:(16*Rr(e.charCodeAt(1))+Rr(e.charCodeAt(2)))/255,green:(16*Rr(e.charCodeAt(3))+Rr(e.charCodeAt(4)))/255,blue:(16*Rr(e.charCodeAt(5))+Rr(e.charCodeAt(6)))/255,alpha:(16*Rr(e.charCodeAt(7))+Rr(e.charCodeAt(8)))/255}}return null}function Tr(e,t,n,r=1){if(0===t)return{red:n,green:n,blue:n,alpha:r};{const i=(e,t,n)=>{for(;n<0;)n+=6;for(;n>=6;)n-=6;return n<1?(t-e)*n+e:n<3?t:n<4?(t-e)*(4-n)+e:e},o=n<=.5?n*(t+1):n+t-n*t,s=2*n-o;return{red:i(s,o,2+(e/=60)),green:i(s,o,e),blue:i(s,o,e-2),alpha:r}}}function Ir(e){const t=e.red,n=e.green,r=e.blue,i=e.alpha,o=Math.max(t,n,r),s=Math.min(t,n,r);let a=0,c=0;const l=(s+o)/2,d=o-s;if(d>0){switch(c=Math.min(l<=.5?d/(2*l):d/(2-2*l),1),o){case t:a=(n-r)/d+(n<r?6:0);break;case n:a=(r-t)/d+2;break;case r:a=(t-n)/d+4}a*=60,a=Math.round(a)}return{h:a,s:c,l,a:i}}const Pr={bottom:"Computes to â€˜100%â€™ for the vertical position if one or two values are given, otherwise specifies the bottom edge as the origin for the next offset.",center:"Computes to â€˜50%â€™ (â€˜left 50%â€™) for the horizontal position if the horizontal position is not otherwise specified, or â€˜50%â€™ (â€˜top 50%â€™) for the vertical position if it is.",left:"Computes to â€˜0%â€™ for the horizontal position if one or two values are given, otherwise specifies the left edge as the origin for the next offset.",right:"Computes to â€˜100%â€™ for the horizontal position if one or two values are given, otherwise specifies the right edge as the origin for the next offset.",top:"Computes to â€˜0%â€™ for the vertical position if one or two values are given, otherwise specifies the top edge as the origin for the next offset."},Mr={"no-repeat":"Placed once and not repeated in this direction.",repeat:"Repeated in this direction as often as needed to cover the background painting area.","repeat-x":"Computes to â€˜repeat no-repeatâ€™.","repeat-y":"Computes to â€˜no-repeat repeatâ€™.",round:"Repeated as often as will fit within the background positioning area. If it doesnâ€™t fit a whole number of times, it is rescaled so that it does.",space:"Repeated as often as will fit within the background positioning area without being clipped and then the images are spaced out to fill the area."},Or={dashed:"A series of square-ended dashes.",dotted:"A series of round dots.",double:"Two parallel solid lines with some space between them.",groove:"Looks as if it were carved in the canvas.",hidden:"Same as â€˜noneâ€™, but has different behavior in the border conflict resolution rules for border-collapsed tables.",inset:"Looks as if the content on the inside of the border is sunken into the canvas.",none:"No border. Color and width are ignored.",outset:"Looks as if the content on the inside of the border is coming out of the canvas.",ridge:"Looks as if it were coming out of the canvas.",solid:"A single line segment."},Nr=["medium","thick","thin"],zr={"border-box":"The background is painted within (clipped to) the border box.","content-box":"The background is painted within (clipped to) the content box.","padding-box":"The background is painted within (clipped to) the padding box."},Ar={"margin-box":"Uses the margin box as reference box.","fill-box":"Uses the object bounding box as reference box.","stroke-box":"Uses the stroke bounding box as reference box.","view-box":"Uses the nearest SVG viewport as reference box."},Wr={initial:"Represents the value specified as the propertyâ€™s initial value.",inherit:"Represents the computed value of the property on the elementâ€™s parent.",unset:"Acts as either `inherit` or `initial`, depending on whether the property is inherited or not."},qr={"var()":"Evaluates the value of a custom variable.","calc()":"Evaluates an mathematical expression. The following operators can be used: + - * /."},Lr={"url()":"Reference an image file by URL","image()":"Provide image fallbacks and annotations.","-webkit-image-set()":"Provide multiple resolutions. Remember to use unprefixed image-set() in addition.","image-set()":"Provide multiple resolutions of an image and const the UA decide which is most appropriate in a given situation.","-moz-element()":"Use an element in the document as an image. Remember to use unprefixed element() in addition.","element()":"Use an element in the document as an image.","cross-fade()":"Indicates the two images to be combined and how far along in the transition the combination is.","-webkit-gradient()":"Deprecated. Use modern linear-gradient() or radial-gradient() instead.","-webkit-linear-gradient()":"Linear gradient. Remember to use unprefixed version in addition.","-moz-linear-gradient()":"Linear gradient. Remember to use unprefixed version in addition.","-o-linear-gradient()":"Linear gradient. Remember to use unprefixed version in addition.","linear-gradient()":"A linear gradient is created by specifying a straight gradient line, and then several colors placed along that line.","-webkit-repeating-linear-gradient()":"Repeating Linear gradient. Remember to use unprefixed version in addition.","-moz-repeating-linear-gradient()":"Repeating Linear gradient. Remember to use unprefixed version in addition.","-o-repeating-linear-gradient()":"Repeating Linear gradient. Remember to use unprefixed version in addition.","repeating-linear-gradient()":"Same as linear-gradient, except the color-stops are repeated infinitely in both directions, with their positions shifted by multiples of the difference between the last specified color-stopâ€™s position and the first specified color-stopâ€™s position.","-webkit-radial-gradient()":"Radial gradient. Remember to use unprefixed version in addition.","-moz-radial-gradient()":"Radial gradient. Remember to use unprefixed version in addition.","radial-gradient()":"Colors emerge from a single point and smoothly spread outward in a circular or elliptical shape.","-webkit-repeating-radial-gradient()":"Repeating radial gradient. Remember to use unprefixed version in addition.","-moz-repeating-radial-gradient()":"Repeating radial gradient. Remember to use unprefixed version in addition.","repeating-radial-gradient()":"Same as radial-gradient, except the color-stops are repeated infinitely in both directions, with their positions shifted by multiples of the difference between the last specified color-stopâ€™s position and the first specified color-stopâ€™s position."},jr={ease:"Equivalent to cubic-bezier(0.25, 0.1, 0.25, 1.0).","ease-in":"Equivalent to cubic-bezier(0.42, 0, 1.0, 1.0).","ease-in-out":"Equivalent to cubic-bezier(0.42, 0, 0.58, 1.0).","ease-out":"Equivalent to cubic-bezier(0, 0, 0.58, 1.0).",linear:"Equivalent to cubic-bezier(0.0, 0.0, 1.0, 1.0).","step-end":"Equivalent to steps(1, end).","step-start":"Equivalent to steps(1, start).","steps()":"The first parameter specifies the number of intervals in the function. The second parameter, which is optional, is either the value â€œstartâ€ or â€œendâ€.","cubic-bezier()":"Specifies a cubic-bezier curve. The four values specify points P1 and P2  of the curve as (x1, y1, x2, y2).","cubic-bezier(0.6, -0.28, 0.735, 0.045)":"Ease-in Back. Overshoots.","cubic-bezier(0.68, -0.55, 0.265, 1.55)":"Ease-in-out Back. Overshoots.","cubic-bezier(0.175, 0.885, 0.32, 1.275)":"Ease-out Back. Overshoots.","cubic-bezier(0.6, 0.04, 0.98, 0.335)":"Ease-in Circular. Based on half circle.","cubic-bezier(0.785, 0.135, 0.15, 0.86)":"Ease-in-out Circular. Based on half circle.","cubic-bezier(0.075, 0.82, 0.165, 1)":"Ease-out Circular. Based on half circle.","cubic-bezier(0.55, 0.055, 0.675, 0.19)":"Ease-in Cubic. Based on power of three.","cubic-bezier(0.645, 0.045, 0.355, 1)":"Ease-in-out Cubic. Based on power of three.","cubic-bezier(0.215, 0.610, 0.355, 1)":"Ease-out Cubic. Based on power of three.","cubic-bezier(0.95, 0.05, 0.795, 0.035)":"Ease-in Exponential. Based on two to the power ten.","cubic-bezier(1, 0, 0, 1)":"Ease-in-out Exponential. Based on two to the power ten.","cubic-bezier(0.19, 1, 0.22, 1)":"Ease-out Exponential. Based on two to the power ten.","cubic-bezier(0.47, 0, 0.745, 0.715)":"Ease-in Sine.","cubic-bezier(0.445, 0.05, 0.55, 0.95)":"Ease-in-out Sine.","cubic-bezier(0.39, 0.575, 0.565, 1)":"Ease-out Sine.","cubic-bezier(0.55, 0.085, 0.68, 0.53)":"Ease-in Quadratic. Based on power of two.","cubic-bezier(0.455, 0.03, 0.515, 0.955)":"Ease-in-out Quadratic. Based on power of two.","cubic-bezier(0.25, 0.46, 0.45, 0.94)":"Ease-out Quadratic. Based on power of two.","cubic-bezier(0.895, 0.03, 0.685, 0.22)":"Ease-in Quartic. Based on power of four.","cubic-bezier(0.77, 0, 0.175, 1)":"Ease-in-out Quartic. Based on power of four.","cubic-bezier(0.165, 0.84, 0.44, 1)":"Ease-out Quartic. Based on power of four.","cubic-bezier(0.755, 0.05, 0.855, 0.06)":"Ease-in Quintic. Based on power of five.","cubic-bezier(0.86, 0, 0.07, 1)":"Ease-in-out Quintic. Based on power of five.","cubic-bezier(0.23, 1, 0.320, 1)":"Ease-out Quintic. Based on power of five."},$r={"circle()":"Defines a circle.","ellipse()":"Defines an ellipse.","inset()":"Defines an inset rectangle.","polygon()":"Defines a polygon."},Ur={length:["cap","ch","cm","cqb","cqh","cqi","cqmax","cqmin","cqw","dvb","dvh","dvi","dvw","em","ex","ic","in","lh","lvb","lvh","lvi","lvw","mm","pc","pt","px","q","rcap","rch","rem","rex","ric","rlh","svb","svh","svi","svw","vb","vh","vi","vmax","vmin","vw"],angle:["deg","rad","grad","turn"],time:["ms","s"],frequency:["Hz","kHz"],resolution:["dpi","dpcm","dppx"],percentage:["%","fr"]},Vr=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rb","rp","rt","rtc","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","title","tr","track","u","ul","const","video","wbr"],Br=["circle","clipPath","cursor","defs","desc","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","foreignObject","g","hatch","hatchpath","image","line","linearGradient","marker","mask","mesh","meshpatch","meshrow","metadata","mpath","path","pattern","polygon","polyline","radialGradient","rect","set","solidcolor","stop","svg","switch","symbol","text","textPath","tspan","use","view"],Kr=["@bottom-center","@bottom-left","@bottom-left-corner","@bottom-right","@bottom-right-corner","@left-bottom","@left-middle","@left-top","@right-bottom","@right-middle","@right-top","@top-center","@top-left","@top-left-corner","@top-right","@top-right-corner"];function Hr(e){return Object.keys(e).map((t=>e[t]))}function Gr(e){return void 0!==e}class Jr{constructor(e=new X){this.keyframeRegex=/^@(\-(webkit|ms|moz|o)\-)?keyframes$/i,this.scanner=e,this.token={type:r.EOF,offset:-1,len:0,text:""},this.prevToken=void 0}peekIdent(e){return r.Ident===this.token.type&&e.length===this.token.text.length&&e===this.token.text.toLowerCase()}peekKeyword(e){return r.AtKeyword===this.token.type&&e.length===this.token.text.length&&e===this.token.text.toLowerCase()}peekDelim(e){return r.Delim===this.token.type&&e===this.token.text}peek(e){return e===this.token.type}peekOne(...e){return-1!==e.indexOf(this.token.type)}peekRegExp(e,t){return e===this.token.type&&t.test(this.token.text)}hasWhitespace(){return!!this.prevToken&&this.prevToken.offset+this.prevToken.len!==this.token.offset}consumeToken(){this.prevToken=this.token,this.token=this.scanner.scan()}acceptUnicodeRange(){const e=this.scanner.tryScanUnicode();return!!e&&(this.prevToken=e,this.token=this.scanner.scan(),!0)}mark(){return{prev:this.prevToken,curr:this.token,pos:this.scanner.pos()}}restoreAtMark(e){this.prevToken=e.prev,this.token=e.curr,this.scanner.goBackTo(e.pos)}try(e){const t=this.mark();return e()||(this.restoreAtMark(t),null)}acceptOneKeyword(e){if(r.AtKeyword===this.token.type)for(const t of e)if(t.length===this.token.text.length&&t===this.token.text.toLowerCase())return this.consumeToken(),!0;return!1}accept(e){return e===this.token.type&&(this.consumeToken(),!0)}acceptIdent(e){return!!this.peekIdent(e)&&(this.consumeToken(),!0)}acceptKeyword(e){return!!this.peekKeyword(e)&&(this.consumeToken(),!0)}acceptDelim(e){return!!this.peekDelim(e)&&(this.consumeToken(),!0)}acceptRegexp(e){return!!e.test(this.token.text)&&(this.consumeToken(),!0)}_parseRegexp(e){let t=this.createNode(te.Identifier);do{}while(this.acceptRegexp(e));return this.finish(t)}acceptUnquotedString(){const e=this.scanner.pos();this.scanner.goBackTo(this.token.offset);const t=this.scanner.scanUnquotedString();return t?(this.token=t,this.consumeToken(),!0):(this.scanner.goBackTo(e),!1)}resync(e,t){for(;;){if(e&&-1!==e.indexOf(this.token.type))return this.consumeToken(),!0;if(t&&-1!==t.indexOf(this.token.type))return!0;if(this.token.type===r.EOF)return!1;this.token=this.scanner.scan()}}createNode(e){return new oe(this.token.offset,this.token.len,e)}create(e){return new e(this.token.offset,this.token.len)}finish(e,t,n,r){if(!(e instanceof se)&&(t&&this.markError(e,t,n,r),this.prevToken)){const t=this.prevToken.offset+this.prevToken.len;e.length=t>e.offset?t-e.offset:0}return e}markError(e,t,n,r){this.token!==this.lastErrorToken&&(e.addIssue(new kt(e,t,Ct.Error,void 0,this.token.offset,this.token.len)),this.lastErrorToken=this.token),(n||r)&&this.resync(n,r)}parseStylesheet(e){const t=e.version,n=e.getText();return this.internalParse(n,this._parseStylesheet,((r,i)=>{if(e.version!==t)throw new Error("Underlying model has changed, AST is no longer valid");return n.substr(r,i)}))}internalParse(e,t,n){this.scanner.setSource(e),this.token=this.scanner.scan();const r=t.bind(this)();return r&&(r.textProvider=n||((t,n)=>e.substr(t,n))),r}_parseStylesheet(){const e=this.create(le);for(;e.addChild(this._parseStylesheetStart()););let t=!1;do{let n=!1;do{n=!1;const i=this._parseStylesheetStatement();for(i&&(e.addChild(i),n=!0,t=!1,this.peek(r.EOF)||!this._needsSemicolonAfter(i)||this.accept(r.SemiColon)||this.markError(e,Rt.SemiColonExpected));this.accept(r.SemiColon)||this.accept(r.CDO)||this.accept(r.CDC);)n=!0,t=!1}while(n);if(this.peek(r.EOF))break;t||(this.peek(r.AtKeyword)?this.markError(e,Rt.UnknownAtRule):this.markError(e,Rt.RuleOrSelectorExpected),t=!0),this.consumeToken()}while(!this.peek(r.EOF));return this.finish(e)}_parseStylesheetStart(){return this._parseCharset()}_parseStylesheetStatement(e=!1){return this.peek(r.AtKeyword)?this._parseStylesheetAtStatement(e):this._parseRuleset(e)}_parseStylesheetAtStatement(e=!1){return this._parseImport()||this._parseMedia(e)||this._parsePage()||this._parseFontFace()||this._parseKeyframe()||this._parseSupports(e)||this._parseLayer(e)||this._parsePropertyAtRule()||this._parseViewPort()||this._parseNamespace()||this._parseDocument()||this._parseContainer()||this._parseUnknownAtRule()}_tryParseRuleset(e){const t=this.mark();if(this._parseSelector(e)){for(;this.accept(r.Comma)&&this._parseSelector(e););if(this.accept(r.CurlyL))return this.restoreAtMark(t),this._parseRuleset(e)}return this.restoreAtMark(t),null}_parseRuleset(e=!1){const t=this.create(pe),n=t.getSelectors();if(!n.addChild(this._parseSelector(e)))return null;for(;this.accept(r.Comma);)if(!n.addChild(this._parseSelector(e)))return this.finish(t,Rt.SelectorExpected);return this._parseBody(t,this._parseRuleSetDeclaration.bind(this))}_parseRuleSetDeclarationAtStatement(){return this._parseMedia(!0)||this._parseSupports(!0)||this._parseLayer(!0)||this._parseUnknownAtRule()}_parseRuleSetDeclaration(){return this.peek(r.AtKeyword)?this._parseRuleSetDeclarationAtStatement():this.peek(r.Ident)?this._tryParseRuleset(!0)||this._parseDeclaration():this._parseRuleset(!0)}_needsSemicolonAfter(e){switch(e.type){case te.Keyframe:case te.ViewPort:case te.Media:case te.Ruleset:case te.Namespace:case te.If:case te.For:case te.Each:case te.While:case te.MixinDeclaration:case te.FunctionDeclaration:case te.MixinContentDeclaration:return!1;case te.ExtendsReference:case te.MixinContentReference:case te.ReturnStatement:case te.MediaQuery:case te.Debug:case te.Import:case te.AtApplyRule:case te.CustomPropertyDeclaration:return!0;case te.VariableDeclaration:return e.needsSemicolon;case te.MixinReference:return!e.getContent();case te.Declaration:return!e.getNestedProperties()}return!1}_parseDeclarations(e){const t=this.create(de);if(!this.accept(r.CurlyL))return null;let n=e();for(;t.addChild(n)&&!this.peek(r.CurlyR);){if(this._needsSemicolonAfter(n)&&!this.accept(r.SemiColon))return this.finish(t,Rt.SemiColonExpected,[r.SemiColon,r.CurlyR]);for(n&&this.prevToken&&this.prevToken.type===r.SemiColon&&(n.semicolonPosition=this.prevToken.offset);this.accept(r.SemiColon););n=e()}return this.accept(r.CurlyR)?this.finish(t):this.finish(t,Rt.RightCurlyExpected,[r.CurlyR,r.SemiColon])}_parseBody(e,t){return e.setDeclarations(this._parseDeclarations(t))?this.finish(e):this.finish(e,Rt.LeftCurlyExpected,[r.CurlyR,r.SemiColon])}_parseSelector(e){const t=this.create(ue);let n=!1;for(e&&(n=t.addChild(this._parseCombinator()));t.addChild(this._parseSimpleSelector());)n=!0,t.addChild(this._parseCombinator());return n?this.finish(t):null}_parseDeclaration(e){const t=this._tryParseCustomPropertyDeclaration(e);if(t)return t;const n=this.create(be);return n.setProperty(this._parseProperty())?this.accept(r.Colon)?(this.prevToken&&(n.colonPosition=this.prevToken.offset),n.setValue(this._parseExpr())?(n.addChild(this._parsePrio()),this.peek(r.SemiColon)&&(n.semicolonPosition=this.token.offset),this.finish(n)):this.finish(n,Rt.PropertyValueExpected)):this.finish(n,Rt.ColonExpected,[r.Colon],e||[r.SemiColon]):null}_tryParseCustomPropertyDeclaration(e){if(!this.peekRegExp(r.Ident,/^--/))return null;const t=this.create(ye);if(!t.setProperty(this._parseProperty()))return null;if(!this.accept(r.Colon))return this.finish(t,Rt.ColonExpected,[r.Colon]);this.prevToken&&(t.colonPosition=this.prevToken.offset);const n=this.mark();if(this.peek(r.CurlyL)){const e=this.create(ge),i=this._parseDeclarations(this._parseRuleSetDeclaration.bind(this));if(e.setDeclarations(i)&&!i.isErroneous(!0)&&(e.addChild(this._parsePrio()),this.peek(r.SemiColon)))return this.finish(e),t.setPropertySet(e),t.semicolonPosition=this.token.offset,this.finish(t);this.restoreAtMark(n)}const i=this._parseExpr();return i&&!i.isErroneous(!0)&&(this._parsePrio(),this.peekOne(...e||[],r.SemiColon,r.EOF))?(t.setValue(i),this.peek(r.SemiColon)&&(t.semicolonPosition=this.token.offset),this.finish(t)):(this.restoreAtMark(n),t.addChild(this._parseCustomPropertyValue(e)),t.addChild(this._parsePrio()),Gr(t.colonPosition)&&this.token.offset===t.colonPosition+1?this.finish(t,Rt.PropertyValueExpected):this.finish(t))}_parseCustomPropertyValue(e=[r.CurlyR]){const t=this.create(oe),n=()=>-1!==e.indexOf(this.token.type);let i=0,o=0,s=0;e:for(;;){switch(this.token.type){case r.SemiColon:case r.Exclamation:if(0===i&&0===o&&0===s)break e;break;case r.CurlyL:i++;break;case r.CurlyR:if(i--,i<0){if(n()&&0===o&&0===s)break e;return this.finish(t,Rt.LeftCurlyExpected)}break;case r.ParenthesisL:o++;break;case r.ParenthesisR:if(o--,o<0){if(n()&&0===s&&0===i)break e;return this.finish(t,Rt.LeftParenthesisExpected)}break;case r.BracketL:s++;break;case r.BracketR:if(s--,s<0)return this.finish(t,Rt.LeftSquareBracketExpected);break;case r.BadString:break e;case r.EOF:let e=Rt.RightCurlyExpected;return s>0?e=Rt.RightSquareBracketExpected:o>0&&(e=Rt.RightParenthesisExpected),this.finish(t,e)}this.consumeToken()}return this.finish(t)}_tryToParseDeclaration(e){const t=this.mark();return this._parseProperty()&&this.accept(r.Colon)?(this.restoreAtMark(t),this._parseDeclaration(e)):(this.restoreAtMark(t),null)}_parseProperty(){const e=this.create(ve),t=this.mark();return(this.acceptDelim("*")||this.acceptDelim("_"))&&this.hasWhitespace()?(this.restoreAtMark(t),null):e.setIdentifier(this._parsePropertyIdentifier())?this.finish(e):null}_parsePropertyIdentifier(){return this._parseIdent()}_parseCharset(){if(!this.peek(r.Charset))return null;const e=this.create(oe);return this.consumeToken(),this.accept(r.String)?this.accept(r.SemiColon)?this.finish(e):this.finish(e,Rt.SemiColonExpected):this.finish(e,Rt.IdentifierExpected)}_parseImport(){if(!this.peekKeyword("@import"))return null;const e=this.create(Ne);return this.consumeToken(),e.addChild(this._parseURILiteral())||e.addChild(this._parseStringLiteral())?this._completeParseImport(e):this.finish(e,Rt.URIOrStringExpected)}_completeParseImport(e){if(this.acceptIdent("layer")&&this.accept(r.ParenthesisL)){if(!e.addChild(this._parseLayerName()))return this.finish(e,Rt.IdentifierExpected,[r.SemiColon]);if(!this.accept(r.ParenthesisR))return this.finish(e,Rt.RightParenthesisExpected,[r.ParenthesisR],[])}return this.acceptIdent("supports")&&this.accept(r.ParenthesisL)&&(e.addChild(this._tryToParseDeclaration()||this._parseSupportsCondition()),!this.accept(r.ParenthesisR))?this.finish(e,Rt.RightParenthesisExpected,[r.ParenthesisR],[]):(this.peek(r.SemiColon)||this.peek(r.EOF)||e.setMedialist(this._parseMediaQueryList()),this.finish(e))}_parseNamespace(){if(!this.peekKeyword("@namespace"))return null;const e=this.create(Le);return this.consumeToken(),e.addChild(this._parseURILiteral())||(e.addChild(this._parseIdent()),e.addChild(this._parseURILiteral())||e.addChild(this._parseStringLiteral()))?this.accept(r.SemiColon)?this.finish(e):this.finish(e,Rt.SemiColonExpected):this.finish(e,Rt.URIExpected,[r.SemiColon])}_parseFontFace(){if(!this.peekKeyword("@font-face"))return null;const e=this.create(Ie);return this.consumeToken(),this._parseBody(e,this._parseRuleSetDeclaration.bind(this))}_parseViewPort(){if(!this.peekKeyword("@-ms-viewport")&&!this.peekKeyword("@-o-viewport")&&!this.peekKeyword("@viewport"))return null;const e=this.create(Te);return this.consumeToken(),this._parseBody(e,this._parseRuleSetDeclaration.bind(this))}_parseKeyframe(){if(!this.peekRegExp(r.AtKeyword,this.keyframeRegex))return null;const e=this.create(Me),t=this.create(oe);return this.consumeToken(),e.setKeyword(this.finish(t)),t.matches("@-ms-keyframes")&&this.markError(t,Rt.UnknownKeyword),e.setIdentifier(this._parseKeyframeIdent())?this._parseBody(e,this._parseKeyframeSelector.bind(this)):this.finish(e,Rt.IdentifierExpected,[r.CurlyR])}_parseKeyframeIdent(){return this._parseIdent([ne.Keyframe])}_parseKeyframeSelector(){const e=this.create(Oe);let t=!1;if(e.addChild(this._parseIdent())&&(t=!0),this.accept(r.Percentage)&&(t=!0),!t)return null;for(;this.accept(r.Comma);)if(t=!1,e.addChild(this._parseIdent())&&(t=!0),this.accept(r.Percentage)&&(t=!0),!t)return this.finish(e,Rt.PercentageExpected);return this._parseBody(e,this._parseRuleSetDeclaration.bind(this))}_tryParseKeyframeSelector(){const e=this.create(Oe),t=this.mark();let n=!1;if(e.addChild(this._parseIdent())&&(n=!0),this.accept(r.Percentage)&&(n=!0),!n)return null;for(;this.accept(r.Comma);)if(n=!1,e.addChild(this._parseIdent())&&(n=!0),this.accept(r.Percentage)&&(n=!0),!n)return this.restoreAtMark(t),null;return this.peek(r.CurlyL)?this._parseBody(e,this._parseRuleSetDeclaration.bind(this)):(this.restoreAtMark(t),null)}_parsePropertyAtRule(){if(!this.peekKeyword("@property"))return null;const e=this.create(Ve);return this.consumeToken(),this.peekRegExp(r.Ident,/^--/)&&e.setName(this._parseIdent([ne.Property]))?this._parseBody(e,this._parseDeclaration.bind(this)):this.finish(e,Rt.IdentifierExpected)}_parseLayer(e=!1){if(!this.peekKeyword("@layer"))return null;const t=this.create(Ue);this.consumeToken();const n=this._parseLayerNameList();return n&&t.setNames(n),n&&1!==n.getChildren().length||!this.peek(r.CurlyL)?this.accept(r.SemiColon)?this.finish(t):this.finish(t,Rt.SemiColonExpected):this._parseBody(t,this._parseLayerDeclaration.bind(this,e))}_parseLayerDeclaration(e=!1){return e?this._tryParseRuleset(!0)||this._tryToParseDeclaration()||this._parseStylesheetStatement(!0):this._parseStylesheetStatement(!1)}_parseLayerNameList(){const e=this.createNode(te.LayerNameList);if(!e.addChild(this._parseLayerName()))return null;for(;this.accept(r.Comma);)if(!e.addChild(this._parseLayerName()))return this.finish(e,Rt.IdentifierExpected);return this.finish(e)}_parseLayerName(){const e=this.createNode(te.LayerName);if(!e.addChild(this._parseIdent()))return null;for(;!this.hasWhitespace()&&this.acceptDelim(".");)if(this.hasWhitespace()||!e.addChild(this._parseIdent()))return this.finish(e,Rt.IdentifierExpected);return this.finish(e)}_parseSupports(e=!1){if(!this.peekKeyword("@supports"))return null;const t=this.create($e);return this.consumeToken(),t.addChild(this._parseSupportsCondition()),this._parseBody(t,this._parseSupportsDeclaration.bind(this,e))}_parseSupportsDeclaration(e=!1){return e?this._tryParseRuleset(!0)||this._tryToParseDeclaration()||this._parseStylesheetStatement(!0):this._parseStylesheetStatement(!1)}_parseSupportsCondition(){const e=this.create(Ye);if(this.acceptIdent("not"))e.addChild(this._parseSupportsConditionInParens());else if(e.addChild(this._parseSupportsConditionInParens()),this.peekRegExp(r.Ident,/^(and|or)$/i)){const t=this.token.text.toLowerCase();for(;this.acceptIdent(t);)e.addChild(this._parseSupportsConditionInParens())}return this.finish(e)}_parseSupportsConditionInParens(){const e=this.create(Ye);if(this.accept(r.ParenthesisL))return this.prevToken&&(e.lParent=this.prevToken.offset),e.addChild(this._tryToParseDeclaration([r.ParenthesisR]))||this._parseSupportsCondition()?this.accept(r.ParenthesisR)?(this.prevToken&&(e.rParent=this.prevToken.offset),this.finish(e)):this.finish(e,Rt.RightParenthesisExpected,[r.ParenthesisR],[]):this.finish(e,Rt.ConditionExpected);if(this.peek(r.Ident)){const t=this.mark();if(this.consumeToken(),!this.hasWhitespace()&&this.accept(r.ParenthesisL)){let t=1;for(;this.token.type!==r.EOF&&0!==t;)this.token.type===r.ParenthesisL?t++:this.token.type===r.ParenthesisR&&t--,this.consumeToken();return this.finish(e)}this.restoreAtMark(t)}return this.finish(e,Rt.LeftParenthesisExpected,[],[r.ParenthesisL])}_parseMediaDeclaration(e=!1){return e?this._tryParseRuleset(!0)||this._tryToParseDeclaration()||this._parseStylesheetStatement(!0):this._parseStylesheetStatement(!1)}_parseMedia(e=!1){if(!this.peekKeyword("@media"))return null;const t=this.create(je);return this.consumeToken(),t.addChild(this._parseMediaQueryList())?this._parseBody(t,this._parseMediaDeclaration.bind(this,e)):this.finish(t,Rt.MediaQueryExpected)}_parseMediaQueryList(){const e=this.create(He);if(!e.addChild(this._parseMediaQuery()))return this.finish(e,Rt.MediaQueryExpected);for(;this.accept(r.Comma);)if(!e.addChild(this._parseMediaQuery()))return this.finish(e,Rt.MediaQueryExpected);return this.finish(e)}_parseMediaQuery(){const e=this.create(Ge),t=this.mark();if(this.acceptIdent("not"),this.peek(r.ParenthesisL))this.restoreAtMark(t),e.addChild(this._parseMediaCondition());else{if(this.acceptIdent("only"),!e.addChild(this._parseIdent()))return null;this.acceptIdent("and")&&e.addChild(this._parseMediaCondition())}return this.finish(e)}_parseRatio(){const e=this.mark(),t=this.create(ot);return this._parseNumeric()?this.acceptDelim("/")?this._parseNumeric()?this.finish(t):this.finish(t,Rt.NumberExpected):(this.restoreAtMark(e),null):null}_parseMediaCondition(){const e=this.create(Je);this.acceptIdent("not");let t=!0;for(;t;){if(!this.accept(r.ParenthesisL))return this.finish(e,Rt.LeftParenthesisExpected,[],[r.CurlyL]);if(this.peek(r.ParenthesisL)||this.peekIdent("not")?e.addChild(this._parseMediaCondition()):e.addChild(this._parseMediaFeature()),!this.accept(r.ParenthesisR))return this.finish(e,Rt.RightParenthesisExpected,[],[r.CurlyL]);t=this.acceptIdent("and")||this.acceptIdent("or")}return this.finish(e)}_parseMediaFeature(){const e=[r.ParenthesisR],t=this.create(Xe);if(t.addChild(this._parseMediaFeatureName())){if(this.accept(r.Colon)){if(!t.addChild(this._parseMediaFeatureValue()))return this.finish(t,Rt.TermExpected,[],e)}else if(this._parseMediaFeatureRangeOperator()){if(!t.addChild(this._parseMediaFeatureValue()))return this.finish(t,Rt.TermExpected,[],e);if(this._parseMediaFeatureRangeOperator()&&!t.addChild(this._parseMediaFeatureValue()))return this.finish(t,Rt.TermExpected,[],e)}}else{if(!t.addChild(this._parseMediaFeatureValue()))return this.finish(t,Rt.IdentifierExpected,[],e);if(!this._parseMediaFeatureRangeOperator())return this.finish(t,Rt.OperatorExpected,[],e);if(!t.addChild(this._parseMediaFeatureName()))return this.finish(t,Rt.IdentifierExpected,[],e);if(this._parseMediaFeatureRangeOperator()&&!t.addChild(this._parseMediaFeatureValue()))return this.finish(t,Rt.TermExpected,[],e)}return this.finish(t)}_parseMediaFeatureRangeOperator(){return this.acceptDelim("<")||this.acceptDelim(">")?(this.hasWhitespace()||this.acceptDelim("="),!0):!!this.acceptDelim("=")}_parseMediaFeatureName(){return this._parseIdent()}_parseMediaFeatureValue(){return this._parseRatio()||this._parseTermExpression()}_parseMedium(){const e=this.create(oe);return e.addChild(this._parseIdent())?this.finish(e):null}_parsePageDeclaration(){return this._parsePageMarginBox()||this._parseRuleSetDeclaration()}_parsePage(){if(!this.peekKeyword("@page"))return null;const e=this.create(Qe);if(this.consumeToken(),e.addChild(this._parsePageSelector()))for(;this.accept(r.Comma);)if(!e.addChild(this._parsePageSelector()))return this.finish(e,Rt.IdentifierExpected);return this._parseBody(e,this._parsePageDeclaration.bind(this))}_parsePageMarginBox(){if(!this.peek(r.AtKeyword))return null;const e=this.create(Ze);return this.acceptOneKeyword(Kr)||this.markError(e,Rt.UnknownAtRule,[],[r.CurlyL]),this._parseBody(e,this._parseRuleSetDeclaration.bind(this))}_parsePageSelector(){if(!this.peek(r.Ident)&&!this.peek(r.Colon))return null;const e=this.create(oe);return e.addChild(this._parseIdent()),this.accept(r.Colon)&&!e.addChild(this._parseIdent())?this.finish(e,Rt.IdentifierExpected):this.finish(e)}_parseDocument(){if(!this.peekKeyword("@-moz-document"))return null;const e=this.create(Be);return this.consumeToken(),this.resync([],[r.CurlyL]),this._parseBody(e,this._parseStylesheetStatement.bind(this))}_parseContainer(){if(!this.peekKeyword("@container"))return null;const e=this.create(Ke);return this.consumeToken(),e.addChild(this._parseIdent()),e.addChild(this._parseContainerQuery()),this._parseBody(e,this._parseStylesheetStatement.bind(this))}_parseContainerQuery(){const e=this.create(oe);if(this.acceptIdent("not"))e.addChild(this._parseContainerQueryInParens());else if(e.addChild(this._parseContainerQueryInParens()),this.peekIdent("and"))for(;this.acceptIdent("and");)e.addChild(this._parseContainerQueryInParens());else if(this.peekIdent("or"))for(;this.acceptIdent("or");)e.addChild(this._parseContainerQueryInParens());return this.finish(e)}_parseContainerQueryInParens(){const e=this.create(oe);if(this.accept(r.ParenthesisL)){if(this.peekIdent("not")||this.peek(r.ParenthesisL)?e.addChild(this._parseContainerQuery()):e.addChild(this._parseMediaFeature()),!this.accept(r.ParenthesisR))return this.finish(e,Rt.RightParenthesisExpected,[],[r.CurlyL])}else{if(!this.acceptIdent("style"))return this.finish(e,Rt.LeftParenthesisExpected,[],[r.CurlyL]);if(this.hasWhitespace()||!this.accept(r.ParenthesisL))return this.finish(e,Rt.LeftParenthesisExpected,[],[r.CurlyL]);if(e.addChild(this._parseStyleQuery()),!this.accept(r.ParenthesisR))return this.finish(e,Rt.RightParenthesisExpected,[],[r.CurlyL])}return this.finish(e)}_parseStyleQuery(){const e=this.create(oe);if(this.acceptIdent("not"))e.addChild(this._parseStyleInParens());else if(this.peek(r.ParenthesisL)){if(e.addChild(this._parseStyleInParens()),this.peekIdent("and"))for(;this.acceptIdent("and");)e.addChild(this._parseStyleInParens());else if(this.peekIdent("or"))for(;this.acceptIdent("or");)e.addChild(this._parseStyleInParens())}else e.addChild(this._parseDeclaration([r.ParenthesisR]));return this.finish(e)}_parseStyleInParens(){const e=this.create(oe);return this.accept(r.ParenthesisL)?(e.addChild(this._parseStyleQuery()),this.accept(r.ParenthesisR)?this.finish(e):this.finish(e,Rt.RightParenthesisExpected,[],[r.CurlyL])):this.finish(e,Rt.LeftParenthesisExpected,[],[r.CurlyL])}_parseUnknownAtRule(){if(!this.peek(r.AtKeyword))return null;const e=this.create(yt);e.addChild(this._parseUnknownAtRuleName());let t=0,n=0,i=0,o=0;e:for(;;){switch(this.token.type){case r.SemiColon:if(0===n&&0===i&&0===o)break e;break;case r.EOF:return n>0?this.finish(e,Rt.RightCurlyExpected):o>0?this.finish(e,Rt.RightSquareBracketExpected):i>0?this.finish(e,Rt.RightParenthesisExpected):this.finish(e);case r.CurlyL:t++,n++;break;case r.CurlyR:if(n--,t>0&&0===n){if(this.consumeToken(),o>0)return this.finish(e,Rt.RightSquareBracketExpected);if(i>0)return this.finish(e,Rt.RightParenthesisExpected);break e}if(n<0){if(0===i&&0===o)break e;return this.finish(e,Rt.LeftCurlyExpected)}break;case r.ParenthesisL:i++;break;case r.ParenthesisR:if(i--,i<0)return this.finish(e,Rt.LeftParenthesisExpected);break;case r.BracketL:o++;break;case r.BracketR:if(o--,o<0)return this.finish(e,Rt.LeftSquareBracketExpected)}this.consumeToken()}return e}_parseUnknownAtRuleName(){const e=this.create(oe);return this.accept(r.AtKeyword)?this.finish(e):e}_parseOperator(){if(this.peekDelim("/")||this.peekDelim("*")||this.peekDelim("+")||this.peekDelim("-")||this.peek(r.Dashmatch)||this.peek(r.Includes)||this.peek(r.SubstringOperator)||this.peek(r.PrefixOperator)||this.peek(r.SuffixOperator)||this.peekDelim("=")){const e=this.createNode(te.Operator);return this.consumeToken(),this.finish(e)}return null}_parseUnaryOperator(){if(!this.peekDelim("+")&&!this.peekDelim("-"))return null;const e=this.create(oe);return this.consumeToken(),this.finish(e)}_parseCombinator(){if(this.peekDelim(">")){const e=this.create(oe);this.consumeToken();const t=this.mark();if(!this.hasWhitespace()&&this.acceptDelim(">")){if(!this.hasWhitespace()&&this.acceptDelim(">"))return e.type=te.SelectorCombinatorShadowPiercingDescendant,this.finish(e);this.restoreAtMark(t)}return e.type=te.SelectorCombinatorParent,this.finish(e)}if(this.peekDelim("+")){const e=this.create(oe);return this.consumeToken(),e.type=te.SelectorCombinatorSibling,this.finish(e)}if(this.peekDelim("~")){const e=this.create(oe);return this.consumeToken(),e.type=te.SelectorCombinatorAllSiblings,this.finish(e)}if(this.peekDelim("/")){const e=this.create(oe);this.consumeToken();const t=this.mark();if(!this.hasWhitespace()&&this.acceptIdent("deep")&&!this.hasWhitespace()&&this.acceptDelim("/"))return e.type=te.SelectorCombinatorShadowPiercingDescendant,this.finish(e);this.restoreAtMark(t)}return null}_parseSimpleSelector(){const e=this.create(me);let t=0;for(e.addChild(this._parseElementName()||this._parseNestingSelector())&&t++;(0===t||!this.hasWhitespace())&&e.addChild(this._parseSimpleSelectorBody());)t++;return t>0?this.finish(e):null}_parseNestingSelector(){if(this.peekDelim("&")){const e=this.createNode(te.SelectorCombinator);return this.consumeToken(),this.finish(e)}return null}_parseSimpleSelectorBody(){return this._parsePseudo()||this._parseHash()||this._parseClass()||this._parseAttrib()}_parseSelectorIdent(){return this._parseIdent()}_parseHash(){if(!this.peek(r.Hash)&&!this.peekDelim("#"))return null;const e=this.createNode(te.IdentifierSelector);if(this.acceptDelim("#")){if(this.hasWhitespace()||!e.addChild(this._parseSelectorIdent()))return this.finish(e,Rt.IdentifierExpected)}else this.consumeToken();return this.finish(e)}_parseClass(){if(!this.peekDelim("."))return null;const e=this.createNode(te.ClassSelector);return this.consumeToken(),this.hasWhitespace()||!e.addChild(this._parseSelectorIdent())?this.finish(e,Rt.IdentifierExpected):this.finish(e)}_parseElementName(){const e=this.mark(),t=this.createNode(te.ElementNameSelector);return t.addChild(this._parseNamespacePrefix()),t.addChild(this._parseSelectorIdent())||this.acceptDelim("*")?this.finish(t):(this.restoreAtMark(e),null)}_parseNamespacePrefix(){const e=this.mark(),t=this.createNode(te.NamespacePrefix);return!t.addChild(this._parseIdent())&&this.acceptDelim("*"),this.acceptDelim("|")?this.finish(t):(this.restoreAtMark(e),null)}_parseAttrib(){if(!this.peek(r.BracketL))return null;const e=this.create(rt);return this.consumeToken(),e.setNamespacePrefix(this._parseNamespacePrefix()),e.setIdentifier(this._parseIdent())?(e.setOperator(this._parseOperator())&&(e.setValue(this._parseBinaryExpr()),this.acceptIdent("i"),this.acceptIdent("s")),this.accept(r.BracketR)?this.finish(e):this.finish(e,Rt.RightSquareBracketExpected)):this.finish(e,Rt.IdentifierExpected)}_parsePseudo(){const e=this._tryParsePseudoIdentifier();if(e){if(!this.hasWhitespace()&&this.accept(r.ParenthesisL)){const t=()=>{const e=this.create(oe);if(!e.addChild(this._parseSelector(!0)))return null;for(;this.accept(r.Comma)&&e.addChild(this._parseSelector(!0)););return this.peek(r.ParenthesisR)?this.finish(e):null};if(!e.addChild(this.try(t))&&e.addChild(this._parseBinaryExpr())&&this.acceptIdent("of")&&!e.addChild(this.try(t)))return this.finish(e,Rt.SelectorExpected);if(!this.accept(r.ParenthesisR))return this.finish(e,Rt.RightParenthesisExpected)}return this.finish(e)}return null}_tryParsePseudoIdentifier(){if(!this.peek(r.Colon))return null;const e=this.mark(),t=this.createNode(te.PseudoSelector);return this.consumeToken(),this.hasWhitespace()?(this.restoreAtMark(e),null):(this.accept(r.Colon),this.hasWhitespace()||!t.addChild(this._parseIdent())?this.finish(t,Rt.IdentifierExpected):this.finish(t))}_tryParsePrio(){const e=this.mark();return this._parsePrio()||(this.restoreAtMark(e),null)}_parsePrio(){if(!this.peek(r.Exclamation))return null;const e=this.createNode(te.Prio);return this.accept(r.Exclamation)&&this.acceptIdent("important")?this.finish(e):null}_parseExpr(e=!1){const t=this.create(et);if(!t.addChild(this._parseBinaryExpr()))return null;for(;;){if(this.peek(r.Comma)){if(e)return this.finish(t);this.consumeToken()}if(!t.addChild(this._parseBinaryExpr()))break}return this.finish(t)}_parseUnicodeRange(){if(!this.peekIdent("u"))return null;const e=this.create(ae);return this.acceptUnicodeRange()?this.finish(e):null}_parseNamedLine(){if(!this.peek(r.BracketL))return null;const e=this.createNode(te.GridLine);for(this.consumeToken();e.addChild(this._parseIdent()););return this.accept(r.BracketR)?this.finish(e):this.finish(e,Rt.RightSquareBracketExpected)}_parseBinaryExpr(e,t){let n=this.create(tt);if(!n.setLeft(e||this._parseTerm()))return null;if(!n.setOperator(t||this._parseOperator()))return this.finish(n);if(!n.setRight(this._parseTerm()))return this.finish(n,Rt.TermExpected);n=this.finish(n);const r=this._parseOperator();return r&&(n=this._parseBinaryExpr(n,r)),this.finish(n)}_parseTerm(){let e=this.create(nt);return e.setOperator(this._parseUnaryOperator()),e.setExpression(this._parseTermExpression())?this.finish(e):null}_parseTermExpression(){return this._parseURILiteral()||this._parseUnicodeRange()||this._parseFunction()||this._parseIdent()||this._parseStringLiteral()||this._parseNumeric()||this._parseHexColor()||this._parseOperation()||this._parseNamedLine()}_parseOperation(){if(!this.peek(r.ParenthesisL))return null;const e=this.create(oe);return this.consumeToken(),e.addChild(this._parseExpr()),this.accept(r.ParenthesisR)?this.finish(e):this.finish(e,Rt.RightParenthesisExpected)}_parseNumeric(){if(this.peek(r.Num)||this.peek(r.Percentage)||this.peek(r.Resolution)||this.peek(r.Length)||this.peek(r.EMS)||this.peek(r.EXS)||this.peek(r.Angle)||this.peek(r.Time)||this.peek(r.Dimension)||this.peek(r.ContainerQueryLength)||this.peek(r.Freq)){const e=this.create(lt);return this.consumeToken(),this.finish(e)}return null}_parseStringLiteral(){if(!this.peek(r.String)&&!this.peek(r.BadString))return null;const e=this.createNode(te.StringLiteral);return this.consumeToken(),this.finish(e)}_parseURILiteral(){if(!this.peekRegExp(r.Ident,/^url(-prefix)?$/i))return null;const e=this.mark(),t=this.createNode(te.URILiteral);return this.accept(r.Ident),this.hasWhitespace()||!this.peek(r.ParenthesisL)?(this.restoreAtMark(e),null):(this.scanner.inURL=!0,this.consumeToken(),t.addChild(this._parseURLArgument()),this.scanner.inURL=!1,this.accept(r.ParenthesisR)?this.finish(t):this.finish(t,Rt.RightParenthesisExpected))}_parseURLArgument(){const e=this.create(oe);return this.accept(r.String)||this.accept(r.BadString)||this.acceptUnquotedString()?this.finish(e):null}_parseIdent(e){if(!this.peek(r.Ident))return null;const t=this.create(ce);return e&&(t.referenceTypes=e),t.isCustomProperty=this.peekRegExp(r.Ident,/^--/),this.consumeToken(),this.finish(t)}_parseFunction(){const e=this.mark(),t=this.create(xe);if(!t.setIdentifier(this._parseFunctionIdentifier()))return null;if(this.hasWhitespace()||!this.accept(r.ParenthesisL))return this.restoreAtMark(e),null;if(t.getArguments().addChild(this._parseFunctionArgument()))for(;this.accept(r.Comma)&&!this.peek(r.ParenthesisR);)t.getArguments().addChild(this._parseFunctionArgument())||this.markError(t,Rt.ExpressionExpected);return this.accept(r.ParenthesisR)?this.finish(t):this.finish(t,Rt.RightParenthesisExpected)}_parseFunctionIdentifier(){if(!this.peek(r.Ident))return null;const e=this.create(ce);if(e.referenceTypes=[ne.Function],this.acceptIdent("progid")){if(this.accept(r.Colon))for(;this.accept(r.Ident)&&this.acceptDelim("."););return this.finish(e)}return this.consumeToken(),this.finish(e)}_parseFunctionArgument(){const e=this.create(Ce);return e.setValue(this._parseExpr(!0))?this.finish(e):null}_parseHexColor(){if(this.peekRegExp(r.Hash,/^#([A-Fa-f0-9]{3}|[A-Fa-f0-9]{4}|[A-Fa-f0-9]{6}|[A-Fa-f0-9]{8})$/g)){const e=this.create(it);return this.consumeToken(),this.finish(e)}return null}}function Xr(e,t){return-1!==e.indexOf(t)}function Yr(...e){const t=[];for(const n of e)for(const e of n)Xr(t,e)||t.push(e);return t}class Qr{constructor(e,t){this.offset=e,this.length=t,this.symbols=[],this.parent=null,this.children=[]}addChild(e){this.children.push(e),e.setParent(this)}setParent(e){this.parent=e}findScope(e,t=0){return this.offset<=e&&this.offset+this.length>e+t||this.offset===e&&this.length===t?this.findInScope(e,t):null}findInScope(e,t=0){const n=e+t,r=function(e,t){let r=0,i=e.length;if(0===i)return 0;for(;r<i;){let t=Math.floor((r+i)/2);e[t].offset>n?i=t:r=t+1}return r}(this.children);if(0===r)return this;const i=this.children[r-1];return i.offset<=e&&i.offset+i.length>=e+t?i.findInScope(e,t):this}addSymbol(e){this.symbols.push(e)}getSymbol(e,t){for(let n=0;n<this.symbols.length;n++){const r=this.symbols[n];if(r.name===e&&r.type===t)return r}return null}getSymbols(){return this.symbols}}class Zr extends Qr{constructor(){super(0,Number.MAX_VALUE)}}class ei{constructor(e,t,n,r){this.name=e,this.value=t,this.node=n,this.type=r}}class ti{constructor(e){this.scope=e}addSymbol(e,t,n,r){if(-1!==e.offset){const i=this.scope.findScope(e.offset,e.length);i&&i.addSymbol(new ei(t,n,e,r))}}addScope(e){if(-1!==e.offset){const t=this.scope.findScope(e.offset,e.length);if(t&&(t.offset!==e.offset||t.length!==e.length)){const n=new Qr(e.offset,e.length);return t.addChild(n),n}return t}return null}addSymbolToChildScope(e,t,n,r,i){if(e&&-1!==e.offset){const o=this.addScope(e);o&&o.addSymbol(new ei(n,r,t,i))}}visitNode(e){switch(e.type){case te.Keyframe:return this.addSymbol(e,e.getName(),void 0,ne.Keyframe),!0;case te.CustomPropertyDeclaration:return this.visitCustomPropertyDeclarationNode(e);case te.VariableDeclaration:return this.visitVariableDeclarationNode(e);case te.Ruleset:return this.visitRuleSet(e);case te.MixinDeclaration:return this.addSymbol(e,e.getName(),void 0,ne.Mixin),!0;case te.FunctionDeclaration:return this.addSymbol(e,e.getName(),void 0,ne.Function),!0;case te.FunctionParameter:return this.visitFunctionParameterNode(e);case te.Declarations:return this.addScope(e),!0;case te.For:const t=e,n=t.getDeclarations();return n&&t.variable&&this.addSymbolToChildScope(n,t.variable,t.variable.getName(),void 0,ne.Variable),!0;case te.Each:{const t=e,n=t.getDeclarations();if(n){const e=t.getVariables().getChildren();for(const t of e)this.addSymbolToChildScope(n,t,t.getName(),void 0,ne.Variable)}return!0}}return!0}visitRuleSet(e){const t=this.scope.findScope(e.offset,e.length);if(t)for(const n of e.getSelectors().getChildren())n instanceof ue&&1===n.getChildren().length&&t.addSymbol(new ei(n.getChild(0).getText(),void 0,n,ne.Rule));return!0}visitVariableDeclarationNode(e){const t=e.getValue()?e.getValue().getText():void 0;return this.addSymbol(e,e.getName(),t,ne.Variable),!0}visitFunctionParameterNode(e){const t=e.getParent().getDeclarations();if(t){const n=e.getDefaultValue(),r=n?n.getText():void 0;this.addSymbolToChildScope(t,e,e.getName(),r,ne.Variable)}return!0}visitCustomPropertyDeclarationNode(e){const t=e.getValue()?e.getValue().getText():"";return this.addCSSVariable(e.getProperty(),e.getProperty().getName(),t,ne.Variable),!0}addCSSVariable(e,t,n,r){-1!==e.offset&&this.scope.addSymbol(new ei(t,n,e,r))}}class ni{constructor(e){this.global=new Zr,e.acceptVisitor(new ti(this.global))}findSymbolsAtOffset(e,t){let n=this.global.findScope(e,0);const r=[],i={};for(;n;){const e=n.getSymbols();for(let n=0;n<e.length;n++){const o=e[n];o.type!==t||i[o.name]||(r.push(o),i[o.name]=!0)}n=n.parent}return r}internalFindSymbol(e,t){let n=e;if(e.parent instanceof Se&&e.parent.getParent()instanceof he&&(n=e.parent.getParent().getDeclarations()),e.parent instanceof Ce&&e.parent.getParent()instanceof xe){const t=e.parent.getParent().getIdentifier();if(t){const e=this.internalFindSymbol(t,[ne.Function]);e&&(n=e.node.getDeclarations())}}if(!n)return null;const r=e.getText();let i=this.global.findScope(n.offset,n.length);for(;i;){for(let e=0;e<t.length;e++){const n=t[e],o=i.getSymbol(r,n);if(o)return o}i=i.parent}return null}evaluateReferenceTypes(e){if(e instanceof ce){const t=e.referenceTypes;if(t)return t;{if(e.isCustomProperty)return[ne.Variable];const t=function(e){const t=e.findParent(te.Declaration),n=t&&t.getValue();return n&&n.encloses(e)?t:null}(e);if(t){const n=t.getNonPrefixedPropertyName();if(("animation"===n||"animation-name"===n)&&t.getValue()&&t.getValue().offset===e.offset)return[ne.Keyframe]}}}else if(e instanceof pt)return[ne.Variable];return e.findAParent(te.Selector,te.ExtendsReference)?[ne.Rule]:null}findSymbolFromNode(e){if(!e)return null;for(;e.type===te.Interpolation;)e=e.getParent();const t=this.evaluateReferenceTypes(e);return t?this.internalFindSymbol(e,t):null}matchesSymbol(e,t){if(!e)return!1;for(;e.type===te.Interpolation;)e=e.getParent();if(!e.matches(t.name))return!1;const n=this.evaluateReferenceTypes(e);return!(!n||-1===n.indexOf(t.type))&&this.internalFindSymbol(e,n)===t}findSymbol(e,t,n){let r=this.global.findScope(n);for(;r;){const n=r.getSymbol(e,t);if(n)return n;r=r.parent}return null}}var ri;(()=>{var e={470:e=>{function t(e){if("string"!=typeof e)throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}function n(e,t){for(var n,r="",i=0,o=-1,s=0,a=0;a<=e.length;++a){if(a<e.length)n=e.charCodeAt(a);else{if(47===n)break;n=47}if(47===n){if(o===a-1||1===s);else if(o!==a-1&&2===s){if(r.length<2||2!==i||46!==r.charCodeAt(r.length-1)||46!==r.charCodeAt(r.length-2))if(r.length>2){var c=r.lastIndexOf("/");if(c!==r.length-1){-1===c?(r="",i=0):i=(r=r.slice(0,c)).length-1-r.lastIndexOf("/"),o=a,s=0;continue}}else if(2===r.length||1===r.length){r="",i=0,o=a,s=0;continue}t&&(r.length>0?r+="/..":r="..",i=2)}else r.length>0?r+="/"+e.slice(o+1,a):r=e.slice(o+1,a),i=a-o-1;o=a,s=0}else 46===n&&-1!==s?++s:s=-1}return r}var r={resolve:function(){for(var e,r="",i=!1,o=arguments.length-1;o>=-1&&!i;o--){var s;o>=0?s=arguments[o]:(void 0===e&&(e=process.cwd()),s=e),t(s),0!==s.length&&(r=s+"/"+r,i=47===s.charCodeAt(0))}return r=n(r,!i),i?r.length>0?"/"+r:"/":r.length>0?r:"."},normalize:function(e){if(t(e),0===e.length)return".";var r=47===e.charCodeAt(0),i=47===e.charCodeAt(e.length-1);return 0!==(e=n(e,!r)).length||r||(e="."),e.length>0&&i&&(e+="/"),r?"/"+e:e},isAbsolute:function(e){return t(e),e.length>0&&47===e.charCodeAt(0)},join:function(){if(0===arguments.length)return".";for(var e,n=0;n<arguments.length;++n){var i=arguments[n];t(i),i.length>0&&(void 0===e?e=i:e+="/"+i)}return void 0===e?".":r.normalize(e)},relative:function(e,n){if(t(e),t(n),e===n)return"";if((e=r.resolve(e))===(n=r.resolve(n)))return"";for(var i=1;i<e.length&&47===e.charCodeAt(i);++i);for(var o=e.length,s=o-i,a=1;a<n.length&&47===n.charCodeAt(a);++a);for(var c=n.length-a,l=s<c?s:c,d=-1,h=0;h<=l;++h){if(h===l){if(c>l){if(47===n.charCodeAt(a+h))return n.slice(a+h+1);if(0===h)return n.slice(a+h)}else s>l&&(47===e.charCodeAt(i+h)?d=h:0===h&&(d=0));break}var p=e.charCodeAt(i+h);if(p!==n.charCodeAt(a+h))break;47===p&&(d=h)}var u="";for(h=i+d+1;h<=o;++h)h!==o&&47!==e.charCodeAt(h)||(0===u.length?u+="..":u+="/..");return u.length>0?u+n.slice(a+d):(a+=d,47===n.charCodeAt(a)&&++a,n.slice(a))},_makeLong:function(e){return e},dirname:function(e){if(t(e),0===e.length)return".";for(var n=e.charCodeAt(0),r=47===n,i=-1,o=!0,s=e.length-1;s>=1;--s)if(47===(n=e.charCodeAt(s))){if(!o){i=s;break}}else o=!1;return-1===i?r?"/":".":r&&1===i?"//":e.slice(0,i)},basename:function(e,n){if(void 0!==n&&"string"!=typeof n)throw new TypeError('"ext" argument must be a string');t(e);var r,i=0,o=-1,s=!0;if(void 0!==n&&n.length>0&&n.length<=e.length){if(n.length===e.length&&n===e)return"";var a=n.length-1,c=-1;for(r=e.length-1;r>=0;--r){var l=e.charCodeAt(r);if(47===l){if(!s){i=r+1;break}}else-1===c&&(s=!1,c=r+1),a>=0&&(l===n.charCodeAt(a)?-1==--a&&(o=r):(a=-1,o=c))}return i===o?o=c:-1===o&&(o=e.length),e.slice(i,o)}for(r=e.length-1;r>=0;--r)if(47===e.charCodeAt(r)){if(!s){i=r+1;break}}else-1===o&&(s=!1,o=r+1);return-1===o?"":e.slice(i,o)},extname:function(e){t(e);for(var n=-1,r=0,i=-1,o=!0,s=0,a=e.length-1;a>=0;--a){var c=e.charCodeAt(a);if(47!==c)-1===i&&(o=!1,i=a+1),46===c?-1===n?n=a:1!==s&&(s=1):-1!==n&&(s=-1);else if(!o){r=a+1;break}}return-1===n||-1===i||0===s||1===s&&n===i-1&&n===r+1?"":e.slice(n,i)},format:function(e){if(null===e||"object"!=typeof e)throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return function(e,t){var n=t.dir||t.root,r=t.base||(t.name||"")+(t.ext||"");return n?n===t.root?n+r:n+"/"+r:r}(0,e)},parse:function(e){t(e);var n={root:"",dir:"",base:"",ext:"",name:""};if(0===e.length)return n;var r,i=e.charCodeAt(0),o=47===i;o?(n.root="/",r=1):r=0;for(var s=-1,a=0,c=-1,l=!0,d=e.length-1,h=0;d>=r;--d)if(47!==(i=e.charCodeAt(d)))-1===c&&(l=!1,c=d+1),46===i?-1===s?s=d:1!==h&&(h=1):-1!==s&&(h=-1);else if(!l){a=d+1;break}return-1===s||-1===c||0===h||1===h&&s===c-1&&s===a+1?-1!==c&&(n.base=n.name=0===a&&o?e.slice(1,c):e.slice(a,c)):(0===a&&o?(n.name=e.slice(1,s),n.base=e.slice(1,c)):(n.name=e.slice(a,s),n.base=e.slice(a,c)),n.ext=e.slice(s,c)),a>0?n.dir=e.slice(0,a-1):o&&(n.dir="/"),n},sep:"/",delimiter:":",win32:null,posix:null};r.posix=r,e.exports=r}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};(()=>{let e;if(n.r(r),n.d(r,{URI:()=>d,Utils:()=>k}),"object"==typeof process)e=!1;else if("object"==typeof navigator){let t=navigator.userAgent;e=t.indexOf("Windows")>=0}const t=/^\w[\w\d+.-]*$/,i=/^\//,o=/^\/\//;function s(e,n){if(!e.scheme&&n)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${e.authority}", path: "${e.path}", query: "${e.query}", fragment: "${e.fragment}"}`);if(e.scheme&&!t.test(e.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(e.path)if(e.authority){if(!i.test(e.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(o.test(e.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}const a="",c="/",l=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class d{static isUri(e){return e instanceof d||!!e&&"string"==typeof e.authority&&"string"==typeof e.fragment&&"string"==typeof e.path&&"string"==typeof e.query&&"string"==typeof e.scheme&&"string"==typeof e.fsPath&&"function"==typeof e.with&&"function"==typeof e.toString}scheme;authority;path;query;fragment;constructor(e,t,n,r,i,o=!1){"object"==typeof e?(this.scheme=e.scheme||a,this.authority=e.authority||a,this.path=e.path||a,this.query=e.query||a,this.fragment=e.fragment||a):(this.scheme=function(e,t){return e||t?e:"file"}(e,o),this.authority=t||a,this.path=function(e,t){switch(e){case"https":case"http":case"file":t?t[0]!==c&&(t=c+t):t=c}return t}(this.scheme,n||a),this.query=r||a,this.fragment=i||a,s(this,o))}get fsPath(){return g(this,!1)}with(e){if(!e)return this;let{scheme:t,authority:n,path:r,query:i,fragment:o}=e;return void 0===t?t=this.scheme:null===t&&(t=a),void 0===n?n=this.authority:null===n&&(n=a),void 0===r?r=this.path:null===r&&(r=a),void 0===i?i=this.query:null===i&&(i=a),void 0===o?o=this.fragment:null===o&&(o=a),t===this.scheme&&n===this.authority&&r===this.path&&i===this.query&&o===this.fragment?this:new p(t,n,r,i,o)}static parse(e,t=!1){const n=l.exec(e);return n?new p(n[2]||a,w(n[4]||a),w(n[5]||a),w(n[7]||a),w(n[9]||a),t):new p(a,a,a,a,a)}static file(t){let n=a;if(e&&(t=t.replace(/\\/g,c)),t[0]===c&&t[1]===c){const e=t.indexOf(c,2);-1===e?(n=t.substring(2),t=c):(n=t.substring(2,e),t=t.substring(e)||c)}return new p("file",n,t,a,a)}static from(e){const t=new p(e.scheme,e.authority,e.path,e.query,e.fragment);return s(t,!0),t}toString(e=!1){return b(this,e)}toJSON(){return this}static revive(e){if(e){if(e instanceof d)return e;{const t=new p(e);return t._formatted=e.external,t._fsPath=e._sep===h?e.fsPath:null,t}}return e}}const h=e?1:void 0;class p extends d{_formatted=null;_fsPath=null;get fsPath(){return this._fsPath||(this._fsPath=g(this,!1)),this._fsPath}toString(e=!1){return e?b(this,!0):(this._formatted||(this._formatted=b(this,!1)),this._formatted)}toJSON(){const e={$mid:1};return this._fsPath&&(e.fsPath=this._fsPath,e._sep=h),this._formatted&&(e.external=this._formatted),this.path&&(e.path=this.path),this.scheme&&(e.scheme=this.scheme),this.authority&&(e.authority=this.authority),this.query&&(e.query=this.query),this.fragment&&(e.fragment=this.fragment),e}}const u={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function m(e,t,n){let r,i=-1;for(let o=0;o<e.length;o++){const s=e.charCodeAt(o);if(s>=97&&s<=122||s>=65&&s<=90||s>=48&&s<=57||45===s||46===s||95===s||126===s||t&&47===s||n&&91===s||n&&93===s||n&&58===s)-1!==i&&(r+=encodeURIComponent(e.substring(i,o)),i=-1),void 0!==r&&(r+=e.charAt(o));else{void 0===r&&(r=e.substr(0,o));const t=u[s];void 0!==t?(-1!==i&&(r+=encodeURIComponent(e.substring(i,o)),i=-1),r+=t):-1===i&&(i=o)}}return-1!==i&&(r+=encodeURIComponent(e.substring(i))),void 0!==r?r:e}function f(e){let t;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);35===r||63===r?(void 0===t&&(t=e.substr(0,n)),t+=u[r]):void 0!==t&&(t+=e[n])}return void 0!==t?t:e}function g(t,n){let r;return r=t.authority&&t.path.length>1&&"file"===t.scheme?`//${t.authority}${t.path}`:47===t.path.charCodeAt(0)&&(t.path.charCodeAt(1)>=65&&t.path.charCodeAt(1)<=90||t.path.charCodeAt(1)>=97&&t.path.charCodeAt(1)<=122)&&58===t.path.charCodeAt(2)?n?t.path.substr(1):t.path[1].toLowerCase()+t.path.substr(2):t.path,e&&(r=r.replace(/\//g,"\\")),r}function b(e,t){const n=t?f:m;let r="",{scheme:i,authority:o,path:s,query:a,fragment:l}=e;if(i&&(r+=i,r+=":"),(o||"file"===i)&&(r+=c,r+=c),o){let e=o.indexOf("@");if(-1!==e){const t=o.substr(0,e);o=o.substr(e+1),e=t.lastIndexOf(":"),-1===e?r+=n(t,!1,!1):(r+=n(t.substr(0,e),!1,!1),r+=":",r+=n(t.substr(e+1),!1,!0)),r+="@"}o=o.toLowerCase(),e=o.lastIndexOf(":"),-1===e?r+=n(o,!1,!0):(r+=n(o.substr(0,e),!1,!0),r+=o.substr(e))}if(s){if(s.length>=3&&47===s.charCodeAt(0)&&58===s.charCodeAt(2)){const e=s.charCodeAt(1);e>=65&&e<=90&&(s=`/${String.fromCharCode(e+32)}:${s.substr(3)}`)}else if(s.length>=2&&58===s.charCodeAt(1)){const e=s.charCodeAt(0);e>=65&&e<=90&&(s=`${String.fromCharCode(e+32)}:${s.substr(2)}`)}r+=n(s,!0,!1)}return a&&(r+="?",r+=n(a,!1,!1)),l&&(r+="#",r+=t?l:m(l,!1,!1)),r}function y(e){try{return decodeURIComponent(e)}catch{return e.length>3?e.substr(0,3)+y(e.substr(3)):e}}const v=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function w(e){return e.match(v)?e.replace(v,(e=>y(e))):e}var x=n(470);const S=x.posix||x,C="/";var k;!function(e){e.joinPath=function(e,...t){return e.with({path:S.join(e.path,...t)})},e.resolvePath=function(e,...t){let n=e.path,r=!1;n[0]!==C&&(n=C+n,r=!0);let i=S.resolve(n,...t);return r&&i[0]===C&&!e.authority&&(i=i.substring(1)),e.with({path:i})},e.dirname=function(e){if(0===e.path.length||e.path===C)return e;let t=S.dirname(e.path);return 1===t.length&&46===t.charCodeAt(0)&&(t=""),e.with({path:t})},e.basename=function(e){return S.basename(e.path)},e.extname=function(e){return S.extname(e.path)}}(k||(k={}))})(),ri=r})();const{URI:ii,Utils:oi}=ri;function si(e){return oi.dirname(ii.parse(e)).toString(!0)}function ai(e,...t){return oi.joinPath(ii.parse(e),...t).toString(!0)}class ci{constructor(e){this.readDirectory=e,this.literalCompletions=[],this.importCompletions=[]}onCssURILiteralValue(e){this.literalCompletions.push(e)}onCssImportPath(e){this.importCompletions.push(e)}async computeCompletions(e,t){const n={items:[],isIncomplete:!1};for(const r of this.literalCompletions){const i=r.uriValue,o=di(i);if("."===o||".."===o)n.isIncomplete=!0;else{const o=await this.providePathSuggestions(i,r.position,r.range,e,t);for(let e of o)n.items.push(e)}}for(const r of this.importCompletions){const i=r.pathValue,o=di(i);if("."===o||".."===o)n.isIncomplete=!0;else{let o=await this.providePathSuggestions(i,r.position,r.range,e,t);"scss"===e.languageId&&o.forEach((e=>{Y(e.label,"_")&&Q(e.label,".scss")&&(e.textEdit?e.textEdit.newText=e.label.slice(1,-5):e.label=e.label.slice(1,-5))}));for(let e of o)n.items.push(e)}}return n}async providePathSuggestions(e,t,n,r,i){const o=di(e),s=Y(e,"'")||Y(e,'"'),a=s?o.slice(0,t.character-(n.start.character+1)):o.slice(0,t.character-n.start.character),c=r.uri,l=function(e,t,n){let r;const i=e.lastIndexOf("/");if(-1===i)r=n;else{const e=t.slice(i+1),o=ui(n.end,-e.length),s=e.indexOf(" ");let a;a=-1!==s?ui(o,s):n.end,r=Ot.create(o,a)}return r}(a,o,s?function(e,t,n){const r=ui(e.start,1),i=ui(e.end,-1);return Ot.create(r,i)}(n):n),d=a.substring(0,a.lastIndexOf("/")+1);let h=i.resolveReference(d||".",c);if(h)try{const e=[],t=await this.readDirectory(h);for(const[n,r]of t)n.charCodeAt(0)===li||r!==ir.Directory&&ai(h,n)===c||e.push(hi(n,r===ir.Directory,l));return e}catch(e){}return[]}}const li=".".charCodeAt(0);function di(e){return Y(e,"'")||Y(e,'"')?e.slice(1,-1):e}function hi(e,t,n){return t?{label:pi(e+="/"),kind:dn.Folder,textEdit:Gt.replace(n,pi(e)),command:{title:"Suggest",command:"editor.action.triggerSuggest"}}:{label:pi(e),kind:dn.File,textEdit:Gt.replace(n,pi(e))}}function pi(e){return e.replace(/(\s|\(|\)|,|"|')/g,"\\$1")}function ui(e,t){return Mt.create(e.line,e.character+t)}const mi=hn.Snippet,fi={title:"Suggest",command:"editor.action.triggerSuggest"};var gi,bi;!function(e){e.Enums=" ",e.Normal="d",e.VendorPrefixed="x",e.Term="y",e.Variable="z"}(gi||(gi={}));class yi{constructor(e=null,t,n){this.variablePrefix=e,this.lsOptions=t,this.cssDataManager=n,this.completionParticipants=[]}configure(e){this.defaultSettings=e}getSymbolContext(){return this.symbolContext||(this.symbolContext=new ni(this.styleSheet)),this.symbolContext}setCompletionParticipants(e){this.completionParticipants=e||[]}async doComplete2(e,t,n,r,i=this.defaultSettings){if(!this.lsOptions.fileSystemProvider||!this.lsOptions.fileSystemProvider.readDirectory)return this.doComplete(e,t,n,i);const o=new ci(this.lsOptions.fileSystemProvider.readDirectory),s=this.completionParticipants;this.completionParticipants=[o].concat(s);const a=this.doComplete(e,t,n,i);try{const t=await o.computeCompletions(e,r);return{isIncomplete:a.isIncomplete||t.isIncomplete,itemDefaults:a.itemDefaults,items:t.items.concat(a.items)}}finally{this.completionParticipants=s}}doComplete(e,t,n,r){this.offset=e.offsetAt(t),this.position=t,this.currentWord=function(e,t){let n=t-1;const r=e.getText();for(;n>=0&&-1===' \t\n\r":{[()]},*>+'.indexOf(r.charAt(n));)n--;return r.substring(n+1,t)}(e,this.offset),this.defaultReplaceRange=Ot.create(Mt.create(this.position.line,this.position.character-this.currentWord.length),this.position),this.textDocument=e,this.styleSheet=n,this.documentSettings=r;try{const e={isIncomplete:!1,itemDefaults:{editRange:{start:{line:t.line,character:t.character-this.currentWord.length},end:t}},items:[]};this.nodePath=ie(this.styleSheet,this.offset);for(let t=this.nodePath.length-1;t>=0;t--){const n=this.nodePath[t];if(n instanceof ve)this.getCompletionsForDeclarationProperty(n.getParent(),e);else if(n instanceof et)n.parent instanceof ht?this.getVariableProposals(null,e):this.getCompletionsForExpression(n,e);else if(n instanceof me){const t=n.findAParent(te.ExtendsReference,te.Ruleset);if(t)if(t.type===te.ExtendsReference)this.getCompletionsForExtendsReference(t,n,e);else{const n=t;this.getCompletionsForSelector(n,n&&n.isNested(),e)}}else if(n instanceof Ce)this.getCompletionsForFunctionArgument(n,n.getParent(),e);else if(n instanceof de)this.getCompletionsForDeclarations(n,e);else if(n instanceof dt)this.getCompletionsForVariableDeclaration(n,e);else if(n instanceof pe)this.getCompletionsForRuleSet(n,e);else if(n instanceof ht)this.getCompletionsForInterpolation(n,e);else if(n instanceof De)this.getCompletionsForFunctionDeclaration(n,e);else if(n instanceof gt)this.getCompletionsForMixinReference(n,e);else if(n instanceof xe)this.getCompletionsForFunctionArgument(null,n,e);else if(n instanceof $e)this.getCompletionsForSupports(n,e);else if(n instanceof Ye)this.getCompletionsForSupportsCondition(n,e);else if(n instanceof ut)this.getCompletionsForExtendsReference(n,null,e);else if(n.type===te.URILiteral)this.getCompletionForUriLiteralValue(n,e);else if(null===n.parent)this.getCompletionForTopLevel(e);else{if(n.type!==te.StringLiteral||!this.isImportPathParent(n.parent.type))continue;this.getCompletionForImportPath(n,e)}if(e.items.length>0||this.offset>n.offset)return this.finalize(e)}return this.getCompletionsForStylesheet(e),0===e.items.length&&this.variablePrefix&&0===this.currentWord.indexOf(this.variablePrefix)&&this.getVariableProposals(null,e),this.finalize(e)}finally{this.position=null,this.currentWord=null,this.textDocument=null,this.styleSheet=null,this.symbolContext=null,this.defaultReplaceRange=null,this.nodePath=null}}isImportPathParent(e){return e===te.Import}finalize(e){return e}findInNodePath(...e){for(let t=this.nodePath.length-1;t>=0;t--){const n=this.nodePath[t];if(-1!==e.indexOf(n.type))return n}return null}getCompletionsForDeclarationProperty(e,t){return this.getPropertyProposals(e,t)}getPropertyProposals(e,t){const n=this.isTriggerPropertyValueCompletionEnabled,r=this.isCompletePropertyWithSemicolonEnabled;return this.cssDataManager.getProperties().forEach((i=>{let o,s,a=!1;e?(o=this.getCompletionRange(e.getProperty()),s=i.name,Gr(e.colonPosition)||(s+=": ",a=!0)):(o=this.getCompletionRange(null),s=i.name+": ",a=!0),!e&&r&&(s+="$0;"),e&&!e.semicolonPosition&&r&&this.offset>=this.textDocument.offsetAt(o.end)&&(s+="$0;");const c={label:i.name,documentation:ur(i,this.doesSupportMarkdown()),tags:vi(i)?[pn.Deprecated]:[],textEdit:Gt.replace(o,s),insertTextFormat:hn.Snippet,kind:dn.Property};i.restrictions||(a=!1),n&&a&&(c.command=fi);const l=(255-("number"==typeof i.relevance?Math.min(Math.max(i.relevance,0),99):50)).toString(16),d=Y(i.name,"-")?gi.VendorPrefixed:gi.Normal;c.sortText=d+"_"+l,t.items.push(c)})),this.completionParticipants.forEach((e=>{e.onCssProperty&&e.onCssProperty({propertyName:this.currentWord,range:this.defaultReplaceRange})})),t}get isTriggerPropertyValueCompletionEnabled(){return this.documentSettings?.triggerPropertyValueCompletion??!0}get isCompletePropertyWithSemicolonEnabled(){return this.documentSettings?.completePropertyWithSemicolon??!0}getCompletionsForDeclarationValue(e,t){const n=e.getFullPropertyName(),r=this.cssDataManager.getProperty(n);let i=e.getValue()||null;for(;i&&i.hasChildren();)i=i.findChildAtOffset(this.offset,!1);if(this.completionParticipants.forEach((e=>{e.onCssPropertyValue&&e.onCssPropertyValue({propertyName:n,propertyValue:this.currentWord,range:this.getCompletionRange(i)})})),r){if(r.restrictions)for(const e of r.restrictions)switch(e){case"color":this.getColorProposals(r,i,t);break;case"position":this.getPositionProposals(r,i,t);break;case"repeat":this.getRepeatStyleProposals(r,i,t);break;case"line-style":this.getLineStyleProposals(r,i,t);break;case"line-width":this.getLineWidthProposals(r,i,t);break;case"geometry-box":this.getGeometryBoxProposals(r,i,t);break;case"box":this.getBoxProposals(r,i,t);break;case"image":this.getImageProposals(r,i,t);break;case"timing-function":this.getTimingFunctionProposals(r,i,t);break;case"shape":this.getBasicShapeProposals(r,i,t)}this.getValueEnumProposals(r,i,t),this.getCSSWideKeywordProposals(r,i,t),this.getUnitProposals(r,i,t)}else{const n=function(e,t){const n=t.getFullPropertyName(),r=new wi;function i(e){return(e instanceof ce||e instanceof lt||e instanceof it)&&r.add(e.getText()),!0}return e.accept((function(e){if(e instanceof be&&e!==t&&function(e){const t=e.getFullPropertyName();return n===t}(e)){const t=e.getValue();t&&t.accept(i)}return!0})),r}(this.styleSheet,e);for(const e of n.getEntries())t.items.push({label:e,textEdit:Gt.replace(this.getCompletionRange(i),e),kind:dn.Value})}return this.getVariableProposals(i,t),this.getTermProposals(r,i,t),t}getValueEnumProposals(e,t,n){if(e.values)for(const r of e.values){let i,o=r.name;if(Q(o,")")){const e=o.lastIndexOf("(");-1!==e&&(o=o.substring(0,e+1)+"$1"+o.substring(e+1),i=mi)}let s=gi.Enums;Y(r.name,"-")&&(s+=gi.VendorPrefixed);const a={label:r.name,documentation:ur(r,this.doesSupportMarkdown()),tags:vi(e)?[pn.Deprecated]:[],textEdit:Gt.replace(this.getCompletionRange(t),o),sortText:s,kind:dn.Value,insertTextFormat:i};n.items.push(a)}return n}getCSSWideKeywordProposals(e,t,n){for(const e in Wr)n.items.push({label:e,documentation:Wr[e],textEdit:Gt.replace(this.getCompletionRange(t),e),kind:dn.Value});for(const e in qr){const r=xi(e);n.items.push({label:e,documentation:qr[e],textEdit:Gt.replace(this.getCompletionRange(t),r),kind:dn.Function,insertTextFormat:mi,command:Y(e,"var")?fi:void 0})}return n}getCompletionsForInterpolation(e,t){return this.offset>=e.offset+2&&this.getVariableProposals(null,t),t}getVariableProposals(e,t){const n=this.getSymbolContext().findSymbolsAtOffset(this.offset,ne.Variable);for(const r of n){const n=Y(r.name,"--")?`var(${r.name})`:r.name,i={label:r.name,documentation:r.value?Z(r.value):r.value,textEdit:Gt.replace(this.getCompletionRange(e),n),kind:dn.Variable,sortText:gi.Variable};if("string"==typeof i.documentation&&Fr(i.documentation)&&(i.kind=dn.Color),r.node.type===te.FunctionParameter){const e=r.node.getParent();e.type===te.MixinDeclaration&&(i.detail=Et.t("argument from '{0}'",e.getName()))}t.items.push(i)}return t}getVariableProposalsForCSSVarFunction(e){const t=new wi;this.styleSheet.acceptVisitor(new Ci(t,this.offset));let n=this.getSymbolContext().findSymbolsAtOffset(this.offset,ne.Variable);for(const r of n){if(Y(r.name,"--")){const t={label:r.name,documentation:r.value?Z(r.value):r.value,textEdit:Gt.replace(this.getCompletionRange(null),r.name),kind:dn.Variable};"string"==typeof t.documentation&&Fr(t.documentation)&&(t.kind=dn.Color),e.items.push(t)}t.remove(r.name)}for(const n of t.getEntries())if(Y(n,"--")){const t={label:n,textEdit:Gt.replace(this.getCompletionRange(null),n),kind:dn.Variable};e.items.push(t)}return e}getUnitProposals(e,t,n){let r="0";if(this.currentWord.length>0){const e=this.currentWord.match(/^-?\d[\.\d+]*/);e&&(r=e[0],n.isIncomplete=r.length===this.currentWord.length)}else 0===this.currentWord.length&&(n.isIncomplete=!0);if(t&&t.parent&&t.parent.type===te.Term&&(t=t.getParent()),e.restrictions)for(const i of e.restrictions){const e=Ur[i];if(e)for(const i of e){const e=r+i;n.items.push({label:e,textEdit:Gt.replace(this.getCompletionRange(t),e),kind:dn.Unit})}}return n}getCompletionRange(e){if(e&&e.offset<=this.offset&&this.offset<=e.end){const t=-1!==e.end?this.textDocument.positionAt(e.end):this.position,n=this.textDocument.positionAt(e.offset);if(n.line===t.line)return Ot.create(n,t)}return this.defaultReplaceRange}getColorProposals(e,t,n){for(const e in xr)n.items.push({label:e,documentation:xr[e],textEdit:Gt.replace(this.getCompletionRange(t),e),kind:dn.Color});for(const e in Cr)n.items.push({label:e,documentation:Cr[e],textEdit:Gt.replace(this.getCompletionRange(t),e),kind:dn.Value});const r=new wi;this.styleSheet.acceptVisitor(new Si(r,this.offset));for(const e of r.getEntries())n.items.push({label:e,textEdit:Gt.replace(this.getCompletionRange(t),e),kind:dn.Color});for(const e of vr)n.items.push({label:e.label,detail:e.func,documentation:e.desc,textEdit:Gt.replace(this.getCompletionRange(t),e.insertText),insertTextFormat:mi,kind:dn.Function});return n}getPositionProposals(e,t,n){for(const e in Pr)n.items.push({label:e,documentation:Pr[e],textEdit:Gt.replace(this.getCompletionRange(t),e),kind:dn.Value});return n}getRepeatStyleProposals(e,t,n){for(const e in Mr)n.items.push({label:e,documentation:Mr[e],textEdit:Gt.replace(this.getCompletionRange(t),e),kind:dn.Value});return n}getLineStyleProposals(e,t,n){for(const e in Or)n.items.push({label:e,documentation:Or[e],textEdit:Gt.replace(this.getCompletionRange(t),e),kind:dn.Value});return n}getLineWidthProposals(e,t,n){for(const e of Nr)n.items.push({label:e,textEdit:Gt.replace(this.getCompletionRange(t),e),kind:dn.Value});return n}getGeometryBoxProposals(e,t,n){for(const e in Ar)n.items.push({label:e,documentation:Ar[e],textEdit:Gt.replace(this.getCompletionRange(t),e),kind:dn.Value});return n}getBoxProposals(e,t,n){for(const e in zr)n.items.push({label:e,documentation:zr[e],textEdit:Gt.replace(this.getCompletionRange(t),e),kind:dn.Value});return n}getImageProposals(e,t,n){for(const e in Lr){const r=xi(e);n.items.push({label:e,documentation:Lr[e],textEdit:Gt.replace(this.getCompletionRange(t),r),kind:dn.Function,insertTextFormat:e!==r?mi:void 0})}return n}getTimingFunctionProposals(e,t,n){for(const e in jr){const r=xi(e);n.items.push({label:e,documentation:jr[e],textEdit:Gt.replace(this.getCompletionRange(t),r),kind:dn.Function,insertTextFormat:e!==r?mi:void 0})}return n}getBasicShapeProposals(e,t,n){for(const e in $r){const r=xi(e);n.items.push({label:e,documentation:$r[e],textEdit:Gt.replace(this.getCompletionRange(t),r),kind:dn.Function,insertTextFormat:e!==r?mi:void 0})}return n}getCompletionsForStylesheet(e){const t=this.styleSheet.findFirstChildBeforeOffset(this.offset);return t?t instanceof pe?this.getCompletionsForRuleSet(t,e):t instanceof $e?this.getCompletionsForSupports(t,e):e:this.getCompletionForTopLevel(e)}getCompletionForTopLevel(e){return this.cssDataManager.getAtDirectives().forEach((t=>{e.items.push({label:t.name,textEdit:Gt.replace(this.getCompletionRange(null),t.name),documentation:ur(t,this.doesSupportMarkdown()),tags:vi(t)?[pn.Deprecated]:[],kind:dn.Keyword})})),this.getCompletionsForSelector(null,!1,e),e}getCompletionsForRuleSet(e,t){const n=e.getDeclarations();return n&&n.endsWith("}")&&this.offset>=n.end?this.getCompletionForTopLevel(t):!n||this.offset<=n.offset?this.getCompletionsForSelector(e,e.isNested(),t):this.getCompletionsForDeclarations(e.getDeclarations(),t)}getCompletionsForSelector(e,t,n){const r=this.findInNodePath(te.PseudoSelector,te.IdentifierSelector,te.ClassSelector,te.ElementNameSelector);if(!r&&this.hasCharacterAtPosition(this.offset-this.currentWord.length-1,":")&&(this.currentWord=":"+this.currentWord,this.hasCharacterAtPosition(this.offset-this.currentWord.length-1,":")&&(this.currentWord=":"+this.currentWord),this.defaultReplaceRange=Ot.create(Mt.create(this.position.line,this.position.character-this.currentWord.length),this.position)),this.cssDataManager.getPseudoClasses().forEach((e=>{const t=xi(e.name),i={label:e.name,textEdit:Gt.replace(this.getCompletionRange(r),t),documentation:ur(e,this.doesSupportMarkdown()),tags:vi(e)?[pn.Deprecated]:[],kind:dn.Function,insertTextFormat:e.name!==t?mi:void 0};Y(e.name,":-")&&(i.sortText=gi.VendorPrefixed),n.items.push(i)})),this.cssDataManager.getPseudoElements().forEach((e=>{const t=xi(e.name),i={label:e.name,textEdit:Gt.replace(this.getCompletionRange(r),t),documentation:ur(e,this.doesSupportMarkdown()),tags:vi(e)?[pn.Deprecated]:[],kind:dn.Function,insertTextFormat:e.name!==t?mi:void 0};Y(e.name,"::-")&&(i.sortText=gi.VendorPrefixed),n.items.push(i)})),!t){for(const e of Vr)n.items.push({label:e,textEdit:Gt.replace(this.getCompletionRange(r),e),kind:dn.Keyword});for(const e of Br)n.items.push({label:e,textEdit:Gt.replace(this.getCompletionRange(r),e),kind:dn.Keyword})}const i={};i[this.currentWord]=!0;const o=this.textDocument.getText();if(this.styleSheet.accept((e=>{if(e.type===te.SimpleSelector&&e.length>0){const t=o.substr(e.offset,e.length);return"."!==t.charAt(0)||i[t]||(i[t]=!0,n.items.push({label:t,textEdit:Gt.replace(this.getCompletionRange(r),t),kind:dn.Keyword})),!1}return!0})),e&&e.isNested()){const t=e.getSelectors().findFirstChildBeforeOffset(this.offset);t&&0===e.getSelectors().getChildren().indexOf(t)&&this.getPropertyProposals(null,n)}return n}getCompletionsForDeclarations(e,t){if(!e||this.offset===e.offset)return t;const n=e.findFirstChildBeforeOffset(this.offset);if(!n)return this.getCompletionsForDeclarationProperty(null,t);if(n instanceof fe){const e=n;if(!Gr(e.colonPosition)||this.offset<=e.colonPosition)return this.getCompletionsForDeclarationProperty(e,t);if(Gr(e.semicolonPosition)&&e.semicolonPosition<this.offset)return this.offset===e.semicolonPosition+1?t:this.getCompletionsForDeclarationProperty(null,t);if(e instanceof be)return this.getCompletionsForDeclarationValue(e,t)}else n instanceof ut?this.getCompletionsForExtendsReference(n,null,t):(this.currentWord&&"@"===this.currentWord[0]||n instanceof pe)&&this.getCompletionsForDeclarationProperty(null,t);return t}getCompletionsForVariableDeclaration(e,t){return this.offset&&Gr(e.colonPosition)&&this.offset>e.colonPosition&&this.getVariableProposals(e.getValue()||null,t),t}getCompletionsForExpression(e,t){const n=e.getParent();if(n instanceof Ce)return this.getCompletionsForFunctionArgument(n,n.getParent(),t),t;const r=e.findParent(te.Declaration);if(!r)return this.getTermProposals(void 0,null,t),t;const i=e.findChildAtOffset(this.offset,!0);return i?i instanceof lt||i instanceof ce?this.getCompletionsForDeclarationValue(r,t):t:this.getCompletionsForDeclarationValue(r,t)}getCompletionsForFunctionArgument(e,t,n){const r=t.getIdentifier();return r&&r.matches("var")&&(t.getArguments().hasChildren()&&t.getArguments().getChild(0)!==e||this.getVariableProposalsForCSSVarFunction(n)),n}getCompletionsForFunctionDeclaration(e,t){const n=e.getDeclarations();return n&&this.offset>n.offset&&this.offset<n.end&&this.getTermProposals(void 0,null,t),t}getCompletionsForMixinReference(e,t){const n=this.getSymbolContext().findSymbolsAtOffset(this.offset,ne.Mixin);for(const e of n)e.node instanceof bt&&t.items.push(this.makeTermProposal(e,e.node.getParameters(),null));const r=e.getIdentifier()||null;return this.completionParticipants.forEach((e=>{e.onCssMixinReference&&e.onCssMixinReference({mixinName:this.currentWord,range:this.getCompletionRange(r)})})),t}getTermProposals(e,t,n){const r=this.getSymbolContext().findSymbolsAtOffset(this.offset,ne.Function);for(const e of r)e.node instanceof De&&n.items.push(this.makeTermProposal(e,e.node.getParameters(),t));return n}makeTermProposal(e,t,n){e.node;const r=t.getChildren().map((e=>e instanceof Se?e.getName():e.getText())),i=e.name+"("+r.map(((e,t)=>"${"+(t+1)+":"+e+"}")).join(", ")+")";return{label:e.name,detail:e.name+"("+r.join(", ")+")",textEdit:Gt.replace(this.getCompletionRange(n),i),insertTextFormat:mi,kind:dn.Function,sortText:gi.Term}}getCompletionsForSupportsCondition(e,t){const n=e.findFirstChildBeforeOffset(this.offset);if(n){if(n instanceof be)return!Gr(n.colonPosition)||this.offset<=n.colonPosition?this.getCompletionsForDeclarationProperty(n,t):this.getCompletionsForDeclarationValue(n,t);if(n instanceof Ye)return this.getCompletionsForSupportsCondition(n,t)}return Gr(e.lParent)&&this.offset>e.lParent&&(!Gr(e.rParent)||this.offset<=e.rParent)?this.getCompletionsForDeclarationProperty(null,t):t}getCompletionsForSupports(e,t){const n=e.getDeclarations();if(!n||this.offset<=n.offset){const n=e.findFirstChildBeforeOffset(this.offset);return n instanceof Ye?this.getCompletionsForSupportsCondition(n,t):t}return this.getCompletionForTopLevel(t)}getCompletionsForExtendsReference(e,t,n){return n}getCompletionForUriLiteralValue(e,t){let n,r,i;if(e.hasChildren()){const t=e.getChild(0);n=t.getText(),r=this.position,i=this.getCompletionRange(t)}else{n="",r=this.position;const t=this.textDocument.positionAt(e.offset+"url(".length);i=Ot.create(t,t)}return this.completionParticipants.forEach((e=>{e.onCssURILiteralValue&&e.onCssURILiteralValue({uriValue:n,position:r,range:i})})),t}getCompletionForImportPath(e,t){return this.completionParticipants.forEach((t=>{t.onCssImportPath&&t.onCssImportPath({pathValue:e.getText(),position:this.position,range:this.getCompletionRange(e)})})),t}hasCharacterAtPosition(e,t){const n=this.textDocument.getText();return e>=0&&e<n.length&&n.charAt(e)===t}doesSupportMarkdown(){if(!Gr(this.supportsMarkdown)){if(!Gr(this.lsOptions.clientCapabilities))return this.supportsMarkdown=!0,this.supportsMarkdown;const e=this.lsOptions.clientCapabilities.textDocument?.completion?.completionItem?.documentationFormat;this.supportsMarkdown=Array.isArray(e)&&-1!==e.indexOf(cn.Markdown)}return this.supportsMarkdown}}function vi(e){return!(!e.status||"nonstandard"!==e.status&&"obsolete"!==e.status)}class wi{constructor(){this.entries={}}add(e){this.entries[e]=!0}remove(e){delete this.entries[e]}getEntries(){return Object.keys(this.entries)}}function xi(e){return e.replace(/\(\)$/,"($1)")}class Si{constructor(e,t){this.entries=e,this.currentOffset=t}visitNode(e){return(e instanceof it||e instanceof xe&&function(e){const t=e.getName();return!!t&&wr.test(t)}(e))&&(this.currentOffset<e.offset||e.end<this.currentOffset)&&this.entries.add(e.getText()),!0}}class Ci{constructor(e,t){this.entries=e,this.currentOffset=t}visitNode(e){return e instanceof ce&&e.isCustomProperty&&(this.currentOffset<e.offset||e.end<this.currentOffset)&&this.entries.add(e.getText()),!0}}class ki{constructor(){this.parent=null,this.children=null,this.attributes=null}findAttribute(e){if(this.attributes)for(const t of this.attributes)if(t.name===e)return t.value;return null}addChild(e){e instanceof ki&&(e.parent=this),this.children||(this.children=[]),this.children.push(e)}append(e){if(this.attributes){const t=this.attributes[this.attributes.length-1];t.value=t.value+e}}prepend(e){if(this.attributes){const t=this.attributes[0];t.value=e+t.value}}findRoot(){let e=this;for(;e.parent&&!(e.parent instanceof _i);)e=e.parent;return e}removeChild(e){if(this.children){const t=this.children.indexOf(e);if(-1!==t)return this.children.splice(t,1),!0}return!1}addAttr(e,t){this.attributes||(this.attributes=[]);for(const n of this.attributes)if(n.name===e)return void(n.value+=" "+t);this.attributes.push({name:e,value:t})}clone(e=!0){const t=new ki;if(this.attributes){t.attributes=[];for(const e of this.attributes)t.addAttr(e.name,e.value)}if(e&&this.children){t.children=[];for(let e=0;e<this.children.length;e++)t.addChild(this.children[e].clone())}return t}cloneWithParent(){const e=this.clone(!1);return!this.parent||this.parent instanceof _i||this.parent.cloneWithParent().addChild(e),e}}class _i extends ki{}class Ei extends ki{constructor(e){super(),this.addAttr("name",e)}}class Fi{constructor(e){this.quote=e,this.result=[]}print(e){return this.result=[],e instanceof _i?e.children&&this.doPrint(e.children,0):this.doPrint([e],0),[{language:"html",value:this.result.join("\n")}]}doPrint(e,t){for(const n of e)this.doPrintElement(n,t),n.children&&this.doPrint(n.children,t+1)}writeLine(e,t){const n=new Array(e+1).join("  ");this.result.push(n+t)}doPrintElement(e,t){const n=e.findAttribute("name");if(e instanceof Ei||"â€¦"===n)return void this.writeLine(t,n);const r=["<"];if(n?r.push(n):r.push("element"),e.attributes)for(const t of e.attributes)if("name"!==t.name){r.push(" "),r.push(t.name);const e=t.value;e&&(r.push("="),r.push(bi.ensure(e,this.quote)))}r.push(">"),this.writeLine(t,r.join(""))}}!function(e){function t(e){const t=e.match(/^['"](.*)["']$/);return t?t[1]:e}e.ensure=function(e,n){return n+t(e)+n},e.remove=t}(bi||(bi={}));class Ri{constructor(){this.id=0,this.attr=0,this.tag=0}}function Di(e,t){let n=new ki;for(const r of e.getChildren())switch(r.type){case te.SelectorCombinator:if(t){const e=r.getText().split("&");if(1===e.length){n.addAttr("name",e[0]);break}n=t.cloneWithParent(),e[0]&&n.findRoot().prepend(e[0]);for(let r=1;r<e.length;r++){if(r>1){const e=t.cloneWithParent();n.addChild(e.findRoot()),n=e}n.append(e[r])}}break;case te.SelectorPlaceholder:if(r.matches("@at-root"))return n;case te.ElementNameSelector:const e=r.getText();n.addAttr("name","*"===e?"element":Ti(e));break;case te.ClassSelector:n.addAttr("class",Ti(r.getText().substring(1)));break;case te.IdentifierSelector:n.addAttr("id",Ti(r.getText().substring(1)));break;case te.MixinDeclaration:n.addAttr("class",r.getName());break;case te.PseudoSelector:n.addAttr(Ti(r.getText()),"");break;case te.AttributeSelector:const i=r,o=i.getIdentifier();if(o){const e=i.getValue(),t=i.getOperator();let r;if(e&&t)switch(Ti(t.getText())){case"|=":r=`${bi.remove(Ti(e.getText()))}-â€¦`;break;case"^=":r=`${bi.remove(Ti(e.getText()))}â€¦`;break;case"$=":r=`â€¦${bi.remove(Ti(e.getText()))}`;break;case"~=":r=` â€¦ ${bi.remove(Ti(e.getText()))} â€¦ `;break;case"*=":r=`â€¦${bi.remove(Ti(e.getText()))}â€¦`;break;default:r=bi.remove(Ti(e.getText()))}n.addAttr(Ti(o.getText()),r)}}return n}function Ti(e){const t=new X;t.setSource(e);const n=t.scanUnquotedString();return n?n.text:e}class Ii{constructor(e){this.cssDataManager=e}selectorToMarkedString(e){const t=function(e){if(e.matches("@at-root"))return null;const t=new _i,n=[],r=e.getParent();if(r instanceof pe){let e=r.getParent();for(;e&&!Mi(e);){if(e instanceof pe){if(e.getSelectors().matches("@at-root"))break;n.push(e)}e=e.getParent()}}const i=new Pi(t);for(let e=n.length-1;e>=0;e--){const t=n[e].getSelectors().getChild(0);t&&i.processSelector(t)}return i.processSelector(e),t}(e);if(t){const n=new Fi('"').print(t);return n.push(this.selectorToSpecificityMarkedString(e)),n}return[]}simpleSelectorToMarkedString(e){const t=Di(e),n=new Fi('"').print(t);return n.push(this.selectorToSpecificityMarkedString(e)),n}isPseudoElementIdentifier(e){const t=e.match(/^::?([\w-]+)/);return!!t&&!!this.cssDataManager.getPseudoElement("::"+t[1])}selectorToSpecificityMarkedString(e){const t=e=>{const t=new Ri;let r=new Ri;for(const t of e)for(const e of t.getChildren()){const t=n(e);t.id>r.id?r=t:t.id<r.id||(t.attr>r.attr?r=t:t.attr<r.attr||t.tag>r.tag&&(r=t))}return t.id+=r.id,t.attr+=r.attr,t.tag+=r.tag,t},n=e=>{const r=new Ri;e:for(const i of e.getChildren()){switch(i.type){case te.IdentifierSelector:r.id++;break;case te.ClassSelector:case te.AttributeSelector:r.attr++;break;case te.ElementNameSelector:if(i.matches("*"))break;r.tag++;break;case te.PseudoSelector:const e=i.getText(),n=i.getChildren();if(this.isPseudoElementIdentifier(e)){if(e.match(/^::slotted/i)&&n.length>0){r.tag++;let e=t(n);r.id+=e.id,r.attr+=e.attr,r.tag+=e.tag;continue e}r.tag++;continue e}if(e.match(/^:where/i))continue e;if(e.match(/^:(?:not|has|is)/i)&&n.length>0){let e=t(n);r.id+=e.id,r.attr+=e.attr,r.tag+=e.tag;continue e}if(e.match(/^:(?:host|host-context)/i)&&n.length>0){r.attr++;let e=t(n);r.id+=e.id,r.attr+=e.attr,r.tag+=e.tag;continue e}if(e.match(/^:(?:nth-child|nth-last-child)/i)&&n.length>0){if(r.attr++,3===n.length&&23===n[1].type){let e=t(n[2].getChildren());r.id+=e.id,r.attr+=e.attr,r.tag+=e.tag;continue e}const e=new Jr,i=n[1].getText();e.scanner.setSource(i);const o=e.scanner.scan(),s=e.scanner.scan();if("n"===o.text||"-n"===o.text&&"of"===s.text){const n=[],o=i.slice(s.offset+2).split(",");for(const t of o){const r=e.internalParse(t,e._parseSelector);r&&n.push(r)}let a=t(n);r.id+=a.id,r.attr+=a.attr,r.tag+=a.tag;continue e}continue e}r.attr++;continue e}if(i.getChildren().length>0){const e=n(i);r.id+=e.id,r.attr+=e.attr,r.tag+=e.tag}}return r},r=n(e);return`[${Et.t("Selector Specificity")}](https://developer.mozilla.org/docs/Web/CSS/Specificity): (${r.id}, ${r.attr}, ${r.tag})`}}class Pi{constructor(e){this.prev=null,this.element=e}processSelector(e){let t=null;if(!(this.element instanceof _i)&&e.getChildren().some((e=>e.hasChildren()&&e.getChild(0).type===te.SelectorCombinator))){const e=this.element.findRoot();e.parent instanceof _i&&(t=this.element,this.element=e.parent,this.element.removeChild(e),this.prev=null)}for(const n of e.getChildren()){if(n instanceof me){if(this.prev instanceof me){const e=new Ei("â€¦");this.element.addChild(e),this.element=e}else this.prev&&(this.prev.matches("+")||this.prev.matches("~"))&&this.element.parent&&(this.element=this.element.parent);this.prev&&this.prev.matches("~")&&this.element.addChild(new Ei("â‹®"));const e=Di(n,t),r=e.findRoot();this.element.addChild(r),this.element=e}(n instanceof me||n.type===te.SelectorCombinatorParent||n.type===te.SelectorCombinatorShadowPiercingDescendant||n.type===te.SelectorCombinatorSibling||n.type===te.SelectorCombinatorAllSiblings)&&(this.prev=n)}}}function Mi(e){switch(e.type){case te.MixinDeclaration:case te.Stylesheet:return!0}return!1}class Oi{constructor(e,t){this.clientCapabilities=e,this.cssDataManager=t,this.selectorPrinting=new Ii(t)}configure(e){this.defaultSettings=e}doHover(e,t,n,r=this.defaultSettings){function i(t){return Ot.create(e.positionAt(t.offset),e.positionAt(t.end))}const o=ie(n,e.offsetAt(t));let s=null;for(let e=0;e<o.length;e++){const t=o[e];if(t instanceof ue){s={contents:this.selectorPrinting.selectorToMarkedString(t),range:i(t)};break}if(t instanceof me){Y(t.getText(),"@")||(s={contents:this.selectorPrinting.simpleSelectorToMarkedString(t),range:i(t)});break}if(t instanceof be){const e=t.getFullPropertyName(),n=this.cssDataManager.getProperty(e);if(n){const e=ur(n,this.doesSupportMarkdown(),r);s=e?{contents:e,range:i(t)}:null}}else if(t instanceof yt){const e=t.getText(),n=this.cssDataManager.getAtDirective(e);if(n){const e=ur(n,this.doesSupportMarkdown(),r);s=e?{contents:e,range:i(t)}:null}}else if(t instanceof oe&&t.type===te.PseudoSelector){const e=t.getText(),n="::"===e.slice(0,2)?this.cssDataManager.getPseudoElement(e):this.cssDataManager.getPseudoClass(e);if(n){const e=ur(n,this.doesSupportMarkdown(),r);s=e?{contents:e,range:i(t)}:null}}}return s&&(s.contents=this.convertContents(s.contents)),s}convertContents(e){return this.doesSupportMarkdown()||"string"==typeof e?e:"kind"in e?{kind:"plaintext",value:e.value}:Array.isArray(e)?e.map((e=>"string"==typeof e?e:e.value)):e.value}doesSupportMarkdown(){if(!Gr(this.supportsMarkdown)){if(!Gr(this.clientCapabilities))return this.supportsMarkdown=!0,this.supportsMarkdown;const e=this.clientCapabilities.textDocument&&this.clientCapabilities.textDocument.hover;this.supportsMarkdown=e&&e.contentFormat&&Array.isArray(e.contentFormat)&&-1!==e.contentFormat.indexOf(cn.Markdown)}return this.supportsMarkdown}}const Ni=/^\w+:\/\//,zi=/^data:/;class Ai{constructor(e,t){this.fileSystemProvider=e,this.resolveModuleReferences=t}configure(e){this.defaultSettings=e}findDefinition(e,t,n){const r=new ni(n),i=re(n,e.offsetAt(t));if(!i)return null;const o=r.findSymbolFromNode(i);return o?{uri:e.uri,range:Wi(o.node,e)}:null}findReferences(e,t,n){return this.findDocumentHighlights(e,t,n).map((t=>({uri:e.uri,range:t.range})))}getHighlightNode(e,t,n){let r=re(n,e.offsetAt(t));if(r&&r.type!==te.Stylesheet&&r.type!==te.Declarations)return r.type===te.Identifier&&r.parent&&r.parent.type===te.ClassSelector&&(r=r.parent),r}findDocumentHighlights(e,t,n){const r=[],i=this.getHighlightNode(e,t,n);if(!i)return r;const o=new ni(n),s=o.findSymbolFromNode(i),a=i.getText();return n.accept((t=>{if(s){if(o.matchesSymbol(t,s))return r.push({kind:Li(t),range:Wi(t,e)}),!1}else i&&i.type===t.type&&t.matches(a)&&r.push({kind:Li(t),range:Wi(t,e)});return!0})),r}isRawStringDocumentLinkNode(e){return e.type===te.Import}findDocumentLinks(e,t,n){const r=this.findUnresolvedLinks(e,t),i=[];for(let t of r){const r=t.link,o=r.target;if(!o||zi.test(o));else if(Ni.test(o))i.push(r);else{const t=n.resolveReference(o,e.uri);t&&(r.target=t),i.push(r)}}return i}async findDocumentLinks2(e,t,n){const r=this.findUnresolvedLinks(e,t),i=[];for(let t of r){const r=t.link,o=r.target;if(!o||zi.test(o));else if(Ni.test(o))i.push(r);else{const s=await this.resolveReference(o,e.uri,n,t.isRawLink);void 0!==s&&(r.target=s,i.push(r))}}return i}findUnresolvedLinks(e,t){const n=[],r=t=>{let r=t.getText();const i=Wi(t,e);if(i.start.line===i.end.line&&i.start.character===i.end.character)return;(Y(r,"'")||Y(r,'"'))&&(r=r.slice(1,-1));const o=!!t.parent&&this.isRawStringDocumentLinkNode(t.parent);n.push({link:{target:r,range:i},isRawLink:o})};return t.accept((e=>{if(e.type===te.URILiteral){const t=e.getChild(0);return t&&r(t),!1}if(e.parent&&this.isRawStringDocumentLinkNode(e.parent)){const t=e.getText();return(Y(t,"'")||Y(t,'"'))&&r(e),!1}return!0})),n}findSymbolInformations(e,t){const n=[];return this.collectDocumentSymbols(e,t,((t,r,i)=>{const o=i instanceof oe?Wi(i,e):i,s={name:t||Et.t("<undefined>"),kind:r,location:Nt.create(e.uri,o)};n.push(s)})),n}findDocumentSymbols(e,t){const n=[],r=[];return this.collectDocumentSymbols(e,t,((t,i,o,s,a)=>{const c=o instanceof oe?Wi(o,e):o;let l=s instanceof oe?Wi(s,e):s;l&&qi(c,l)||(l=Ot.create(c.start,c.start));const d={name:t||Et.t("<undefined>"),kind:i,range:c,selectionRange:l};let h=r.pop();for(;h&&!qi(h[1],c);)h=r.pop();if(h){const e=h[0];e.children||(e.children=[]),e.children.push(d),r.push(h)}else n.push(d);a&&r.push([d,Wi(a,e)])})),n}collectDocumentSymbols(e,t,n){t.accept((t=>{if(t instanceof pe){for(const r of t.getSelectors().getChildren())if(r instanceof ue){const i=Ot.create(e.positionAt(r.offset),e.positionAt(t.end));n(r.getText(),kn.Class,i,r,t.getDeclarations())}}else if(t instanceof dt)n(t.getName(),kn.Variable,t,t.getVariable(),void 0);else if(t instanceof bt)n(t.getName(),kn.Method,t,t.getIdentifier(),t.getDeclarations());else if(t instanceof De)n(t.getName(),kn.Function,t,t.getIdentifier(),t.getDeclarations());else if(t instanceof Me){const e=Et.t("@keyframes {0}",t.getName());n(e,kn.Class,t,t.getIdentifier(),t.getDeclarations())}else if(t instanceof Ie){const e=Et.t("@font-face");n(e,kn.Class,t,void 0,t.getDeclarations())}else if(t instanceof je){const e=t.getChild(0);if(e instanceof He){const r="@media "+e.getText();n(r,kn.Module,t,e,t.getDeclarations())}}return!0}))}findDocumentColors(e,t){const n=[];return t.accept((t=>{const r=function(e,t){const n=function(e){if(e.type===te.HexColorValue)return Dr(e.getText());if(e.type===te.Function){const t=e,n=t.getName();let r=t.getArguments().getChildren();if(1===r.length){const e=r[0].getChildren();if(1===e.length&&e[0].type===te.Expression&&(r=e[0].getChildren(),3===r.length)){const e=r[2];if(e instanceof tt){const t=e.getLeft(),n=e.getRight(),i=e.getOperator();t&&n&&i&&i.matches("/")&&(r=[r[0],r[1],t,n])}}}if(!n||r.length<3||r.length>4)return null;try{const e=4===r.length?_r(r[3],1):1;if("rgb"===n||"rgba"===n)return{red:_r(r[0],255),green:_r(r[1],255),blue:_r(r[2],255),alpha:e};if("hsl"===n||"hsla"===n){return Tr(Er(r[0]),_r(r[1],100),_r(r[2],100),e)}if("hwb"===n){return function(e,t,n,r=1){if(t+n>=1){const e=t/(t+n);return{red:e,green:e,blue:e,alpha:r}}const i=Tr(e,1,.5,r);let o=i.red;o*=1-t-n,o+=t;let s=i.green;s*=1-t-n,s+=t;let a=i.blue;return a*=1-t-n,a+=t,{red:o,green:s,blue:a,alpha:r}}(Er(r[0]),_r(r[1],100),_r(r[2],100),e)}}catch(e){return null}}else if(e.type===te.Identifier){if(e.parent&&e.parent.type!==te.Term)return null;const t=e.parent;if(t&&t.parent&&t.parent.type===te.BinaryExpression){const e=t.parent;if(e.parent&&e.parent.type===te.ListEntry&&e.parent.key===e)return null}const n=e.getText().toLowerCase();if("none"===n)return null;const r=xr[n];if(r)return Dr(r)}return null}(e);return n?{color:n,range:Wi(e,t)}:null}(t,e);return r&&n.push(r),!0})),n}getColorPresentations(e,t,n,r){const i=[],o=Math.round(255*n.red),s=Math.round(255*n.green),a=Math.round(255*n.blue);let c;c=1===n.alpha?`rgb(${o}, ${s}, ${a})`:`rgba(${o}, ${s}, ${a}, ${n.alpha})`,i.push({label:c,textEdit:Gt.replace(r,c)}),c=1===n.alpha?`#${ji(o)}${ji(s)}${ji(a)}`:`#${ji(o)}${ji(s)}${ji(a)}${ji(Math.round(255*n.alpha))}`,i.push({label:c,textEdit:Gt.replace(r,c)});const l=Ir(n);c=1===l.a?`hsl(${l.h}, ${Math.round(100*l.s)}%, ${Math.round(100*l.l)}%)`:`hsla(${l.h}, ${Math.round(100*l.s)}%, ${Math.round(100*l.l)}%, ${l.a})`,i.push({label:c,textEdit:Gt.replace(r,c)});const d=function(e){const t=Ir(e),n=Math.min(e.red,e.green,e.blue),r=1-Math.max(e.red,e.green,e.blue);return{h:t.h,w:n,b:r,a:t.a}}(n);return c=1===d.a?`hwb(${d.h} ${Math.round(100*d.w)}% ${Math.round(100*d.b)}%)`:`hwb(${d.h} ${Math.round(100*d.w)}% ${Math.round(100*d.b)}% / ${d.a})`,i.push({label:c,textEdit:Gt.replace(r,c)}),i}prepareRename(e,t,n){const r=this.getHighlightNode(e,t,n);if(r)return Ot.create(e.positionAt(r.offset),e.positionAt(r.end))}doRename(e,t,n,r){const i=this.findDocumentHighlights(e,t,r).map((e=>Gt.replace(e.range,n)));return{changes:{[e.uri]:i}}}async resolveModuleReference(e,t,n){if(Y(t,"file://")){const r=function(e){const t=e.indexOf("/");if(-1===t)return"";if("@"===e[0]){const n=e.indexOf("/",t+1);return-1===n?e:e.substring(0,n)}return e.substring(0,t)}(e);if(r&&"."!==r&&".."!==r){const i=n.resolveReference("/",t),o=si(t),s=await this.resolvePathToModule(r,o,i);if(s)return ai(s,e.substring(r.length+1))}}}async mapReference(e,t){return e}async resolveReference(e,t,n,r=!1,i=this.defaultSettings){if("~"===e[0]&&"/"!==e[1]&&this.fileSystemProvider)return e=e.substring(1),this.mapReference(await this.resolveModuleReference(e,t,n),r);const o=await this.mapReference(n.resolveReference(e,t),r);if(this.resolveModuleReferences){if(o&&await this.fileExists(o))return o;const i=await this.mapReference(await this.resolveModuleReference(e,t,n),r);if(i)return i}if(o&&!await this.fileExists(o)){const o=n.resolveReference("/",t);if(i&&o){if(e in i)return this.mapReference(ai(o,i[e]),r);const t=e.indexOf("/"),n=`${e.substring(0,t)}/`;if(n in i){let t=ai(o,i[n].slice(0,-1));return this.mapReference(t=ai(t,e.substring(n.length-1)),r)}}}return o}async resolvePathToModule(e,t,n){const r=ai(t,"node_modules",e,"package.json");return await this.fileExists(r)?si(r):n&&t.startsWith(n)&&t.length!==n.length?this.resolvePathToModule(e,si(t),n):void 0}async fileExists(e){if(!this.fileSystemProvider)return!1;try{const t=await this.fileSystemProvider.stat(e);return t.type!==ir.Unknown||-1!==t.size}catch(e){return!1}}}function Wi(e,t){return Ot.create(t.positionAt(e.offset),t.positionAt(e.end))}function qi(e,t){const n=t.start.line,r=t.end.line,i=e.start.line,o=e.end.line;return!(n<i||r<i||n>o||r>o||n===i&&t.start.character<e.start.character||r===o&&t.end.character>e.end.character)}function Li(e){if(e.type===te.Selector)return Sn.Write;if(e instanceof ce&&e.parent&&e.parent instanceof ve&&e.isCustomProperty)return Sn.Write;if(e.parent)switch(e.parent.type){case te.FunctionDeclaration:case te.MixinDeclaration:case te.Keyframe:case te.VariableDeclaration:case te.FunctionParameter:return Sn.Write}return Sn.Read}function ji(e){const t=e.toString(16);return 2!==t.length?"0"+t:t}const $i=Ct.Warning,Ui=Ct.Error,Vi=Ct.Ignore;class Bi{constructor(e,t,n){this.id=e,this.message=t,this.defaultValue=n}}const Ki={AllVendorPrefixes:new Bi("compatibleVendorPrefixes",Et.t("When using a vendor-specific prefix make sure to also include all other vendor-specific properties"),Vi),IncludeStandardPropertyWhenUsingVendorPrefix:new Bi("vendorPrefix",Et.t("When using a vendor-specific prefix also include the standard property"),$i),DuplicateDeclarations:new Bi("duplicateProperties",Et.t("Do not use duplicate style definitions"),Vi),EmptyRuleSet:new Bi("emptyRules",Et.t("Do not use empty rulesets"),$i),ImportStatemement:new Bi("importStatement",Et.t("Import statements do not load in parallel"),Vi),BewareOfBoxModelSize:new Bi("boxModel",Et.t("Do not use width or height when using padding or border"),Vi),UniversalSelector:new Bi("universalSelector",Et.t("The universal selector (*) is known to be slow"),Vi),ZeroWithUnit:new Bi("zeroUnits",Et.t("No unit for zero needed"),Vi),RequiredPropertiesForFontFace:new Bi("fontFaceProperties",Et.t("@font-face rule must define 'src' and 'font-family' properties"),$i),HexColorLength:new Bi("hexColorLength",Et.t("Hex colors must consist of three, four, six or eight hex numbers"),Ui),ArgsInColorFunction:new Bi("argumentsInColorFunction",Et.t("Invalid number of parameters"),Ui),UnknownProperty:new Bi("unknownProperties",Et.t("Unknown property."),$i),UnknownAtRules:new Bi("unknownAtRules",Et.t("Unknown at-rule."),$i),IEStarHack:new Bi("ieHack",Et.t("IE hacks are only necessary when supporting IE7 and older"),Vi),UnknownVendorSpecificProperty:new Bi("unknownVendorSpecificProperties",Et.t("Unknown vendor specific property."),Vi),PropertyIgnoredDueToDisplay:new Bi("propertyIgnoredDueToDisplay",Et.t("Property is ignored due to the display."),$i),AvoidImportant:new Bi("important",Et.t("Avoid using !important. It is an indication that the specificity of the entire CSS has gotten out of control and needs to be refactored."),Vi),AvoidFloat:new Bi("float",Et.t("Avoid using 'float'. Floats lead to fragile CSS that is easy to break if one aspect of the layout changes."),Vi),AvoidIdSelector:new Bi("idSelector",Et.t("Selectors should not contain IDs because these rules are too tightly coupled with the HTML."),Vi)},Hi={ValidProperties:new class{constructor(e,t,n){this.id=e,this.message=t,this.defaultValue=n}}("validProperties",Et.t("A list of properties that are not validated against the `unknownProperties` rule."),[])};class Gi{constructor(e={}){this.conf=e}getRule(e){if(this.conf.hasOwnProperty(e.id)){const t=function(e){switch(e){case"ignore":return Ct.Ignore;case"warning":return Ct.Warning;case"error":return Ct.Error}return null}(this.conf[e.id]);if(t)return t}return e.defaultValue}getSetting(e){return this.conf[e.id]}}class Ji{constructor(e){this.cssDataManager=e}doCodeActions(e,t,n,r){return this.doCodeActions2(e,t,n,r).map((t=>{const n=t.edit&&t.edit.documentChanges&&t.edit.documentChanges[0];return Ht.create(t.title,"_css.applyCodeAction",e.uri,e.version,n&&n.edits)}))}doCodeActions2(e,t,n,r){const i=[];if(n.diagnostics)for(const t of n.diagnostics)this.appendFixesForMarker(e,r,t,i);return i}getFixesForUnknownProperty(e,t,n,r){const i=t.getName(),o=[];this.cssDataManager.getProperties().forEach((e=>{const t=function(e,t,n=4){let r=Math.abs(e.length-t.length);if(r>n)return 0;let i,o,s=[],a=[];for(i=0;i<t.length+1;++i)a.push(0);for(i=0;i<e.length+1;++i)s.push(a);for(i=1;i<e.length+1;++i)for(o=1;o<t.length+1;++o)e[i-1]===t[o-1]?s[i][o]=s[i-1][o-1]+1:s[i][o]=Math.max(s[i-1][o],s[i][o-1]);return s[e.length][t.length]-Math.sqrt(r)}(i,e.name);t>=i.length/2&&o.push({property:e.name,score:t})})),o.sort(((e,t)=>t.score-e.score||e.property.localeCompare(t.property)));let s=3;for(const t of o){const i=t.property,o=Et.t("Rename to '{0}'",i),a=Gt.replace(n.range,i),c=on.create(e.uri,e.version),l={documentChanges:[Qt.create(c,[a])]},d=Pn.create(o,l,Dn.QuickFix);if(d.diagnostics=[n],r.push(d),--s<=0)return}}appendFixesForMarker(e,t,n,r){if(n.code!==Ki.UnknownProperty.id)return;const i=e.offsetAt(n.range.start),o=e.offsetAt(n.range.end),s=ie(t,i);for(let t=s.length-1;t>=0;t--){const a=s[t];if(a instanceof be){const t=a.getProperty();if(t&&t.offset===i&&t.end===o)return void this.getFixesForUnknownProperty(e,t,n,r)}}}}class Xi{constructor(e){this.fullPropertyName=e.getFullPropertyName().toLowerCase(),this.node=e}}function Yi(e,t,n,r){const i=e[t];i.value=n,n&&(Xr(i.properties,r)||i.properties.push(r))}function Qi(e,t,n,r){"top"===t||"right"===t||"bottom"===t||"left"===t?Yi(e,t,n,r):function(e,t,n){Yi(e,"top",t,n),Yi(e,"right",t,n),Yi(e,"bottom",t,n),Yi(e,"left",t,n)}(e,n,r)}function Zi(e,t,n){switch(t.length){case 1:Qi(e,void 0,t[0],n);break;case 2:Qi(e,"top",t[0],n),Qi(e,"bottom",t[0],n),Qi(e,"right",t[1],n),Qi(e,"left",t[1],n);break;case 3:Qi(e,"top",t[0],n),Qi(e,"right",t[1],n),Qi(e,"left",t[1],n),Qi(e,"bottom",t[2],n);break;case 4:Qi(e,"top",t[0],n),Qi(e,"right",t[1],n),Qi(e,"bottom",t[2],n),Qi(e,"left",t[3],n)}}function eo(e,t){for(let n of t)if(e.matches(n))return!0;return!1}function to(e,t=!0){return!(t&&eo(e,["initial","unset"])||0===parseFloat(e.getText()))}function no(e,t=!0){return e.map((e=>to(e,t)))}function ro(e,t=!0){return!(eo(e,["none","hidden"])||t&&eo(e,["initial","unset"]))}function io(e,t=!0){return e.map((e=>ro(e,t)))}function oo(e){const t=e.getChildren();if(1===t.length){const e=t[0];return to(e)&&ro(e)}for(const e of t){const t=e;if(!to(t,!1)||!ro(t,!1))return!1}return!0}class so{constructor(){this.data={}}add(e,t,n){let r=this.data[e];r||(r={nodes:[],names:[]},this.data[e]=r),r.names.push(t),n&&r.nodes.push(n)}}class ao{static entries(e,t,n,r,i){const o=new ao(t,n,r);return e.acceptVisitor(o),o.completeValidations(),o.getEntries(i)}constructor(e,t,n){this.cssDataManager=n,this.warnings=[],this.settings=t,this.documentText=e.getText(),this.keyframes=new so,this.validProperties={};const r=t.getSetting(Hi.ValidProperties);Array.isArray(r)&&r.forEach((e=>{if("string"==typeof e){const t=e.trim().toLowerCase();t.length&&(this.validProperties[t]=!0)}}))}isValidPropertyDeclaration(e){const t=e.fullPropertyName;return this.validProperties[t]}fetch(e,t){const n=[];for(const r of e)r.fullPropertyName===t&&n.push(r);return n}fetchWithValue(e,t,n){const r=[];for(const i of e)if(i.fullPropertyName===t){const e=i.node.getValue();e&&this.findValueInExpression(e,n)&&r.push(i)}return r}findValueInExpression(e,t){let n=!1;return e.accept((e=>(e.type===te.Identifier&&e.matches(t)&&(n=!0),!n))),n}getEntries(e=Ct.Warning|Ct.Error){return this.warnings.filter((t=>0!=(t.getLevel()&e)))}addEntry(e,t,n){const r=new kt(e,t,this.settings.getRule(t),n);this.warnings.push(r)}getMissingNames(e,t){const n=e.slice(0);for(let e=0;e<t.length;e++){const r=n.indexOf(t[e]);-1!==r&&(n[r]=null)}let r=null;for(let e=0;e<n.length;e++){const t=n[e];t&&(r=null===r?Et.t("'{0}'",t):Et.t("{0}, '{1}'",r,t))}return r}visitNode(e){switch(e.type){case te.UnknownAtRule:return this.visitUnknownAtRule(e);case te.Keyframe:return this.visitKeyframe(e);case te.FontFace:return this.visitFontFace(e);case te.Ruleset:return this.visitRuleSet(e);case te.SimpleSelector:return this.visitSimpleSelector(e);case te.Function:return this.visitFunction(e);case te.NumericValue:return this.visitNumericValue(e);case te.Import:return this.visitImport(e);case te.HexColorValue:return this.visitHexColorValue(e);case te.Prio:return this.visitPrio(e);case te.IdentifierSelector:return this.visitIdentifierSelector(e)}return!0}completeValidations(){this.validateKeyframes()}visitUnknownAtRule(e){const t=e.getChild(0);return!!t&&(!this.cssDataManager.getAtDirective(t.getText())&&(this.addEntry(t,Ki.UnknownAtRules,`Unknown at rule ${t.getText()}`),!0))}visitKeyframe(e){const t=e.getKeyword();if(!t)return!1;const n=t.getText();return this.keyframes.add(e.getName(),n,"@keyframes"!==n?t:null),!0}validateKeyframes(){const e=["@-webkit-keyframes","@-moz-keyframes","@-o-keyframes"];for(const t in this.keyframes.data){const n=this.keyframes.data[t].names,r=-1===n.indexOf("@keyframes");if(!r&&1===n.length)continue;const i=this.getMissingNames(e,n);if(i||r)for(const e of this.keyframes.data[t].nodes){if(r){const t=Et.t("Always define standard rule '@keyframes' when defining keyframes.");this.addEntry(e,Ki.IncludeStandardPropertyWhenUsingVendorPrefix,t)}if(i){const t=Et.t("Always include all vendor specific rules: Missing: {0}",i);this.addEntry(e,Ki.AllVendorPrefixes,t)}}}return!0}visitSimpleSelector(e){const t=this.documentText.charAt(e.offset);return 1===e.length&&"*"===t&&this.addEntry(e,Ki.UniversalSelector),!0}visitIdentifierSelector(e){return this.addEntry(e,Ki.AvoidIdSelector),!0}visitImport(e){return this.addEntry(e,Ki.ImportStatemement),!0}visitRuleSet(e){const t=e.getDeclarations();if(!t)return!1;t.hasChildren()||this.addEntry(e.getSelectors(),Ki.EmptyRuleSet);const n=[];for(const e of t.getChildren())e instanceof be&&n.push(new Xi(e));const r=function(e){const t={top:{value:!1,properties:[]},right:{value:!1,properties:[]},bottom:{value:!1,properties:[]},left:{value:!1,properties:[]}};for(const n of e){const e=n.node.value;if(void 0!==e)switch(n.fullPropertyName){case"box-sizing":return{top:{value:!1,properties:[]},right:{value:!1,properties:[]},bottom:{value:!1,properties:[]},left:{value:!1,properties:[]}};case"width":t.width=n;break;case"height":t.height=n;break;default:const r=n.fullPropertyName.split("-");switch(r[0]){case"border":switch(r[1]){case void 0:case"top":case"right":case"bottom":case"left":switch(r[2]){case void 0:Qi(t,r[1],oo(e),n);break;case"width":Qi(t,r[1],to(e,!1),n);break;case"style":Qi(t,r[1],ro(e,!0),n)}break;case"width":Zi(t,no(e.getChildren(),!1),n);break;case"style":Zi(t,io(e.getChildren(),!0),n)}break;case"padding":1===r.length?Zi(t,no(e.getChildren(),!0),n):Qi(t,r[1],to(e,!0),n)}}}return t}(n);if(r.width){let e=[];if(r.right.value&&(e=Yr(e,r.right.properties)),r.left.value&&(e=Yr(e,r.left.properties)),0!==e.length){for(const t of e)this.addEntry(t.node,Ki.BewareOfBoxModelSize);this.addEntry(r.width.node,Ki.BewareOfBoxModelSize)}}if(r.height){let e=[];if(r.top.value&&(e=Yr(e,r.top.properties)),r.bottom.value&&(e=Yr(e,r.bottom.properties)),0!==e.length){for(const t of e)this.addEntry(t.node,Ki.BewareOfBoxModelSize);this.addEntry(r.height.node,Ki.BewareOfBoxModelSize)}}let i=this.fetchWithValue(n,"display","inline-block");if(i.length>0){const e=this.fetch(n,"float");for(let t=0;t<e.length;t++){const n=e[t].node,r=n.getValue();r&&!r.matches("none")&&this.addEntry(n,Ki.PropertyIgnoredDueToDisplay,Et.t("inline-block is ignored due to the float. If 'float' has a value other than 'none', the box is floated and 'display' is treated as 'block'"))}}if(i=this.fetchWithValue(n,"display","block"),i.length>0){const e=this.fetch(n,"vertical-align");for(let t=0;t<e.length;t++)this.addEntry(e[t].node,Ki.PropertyIgnoredDueToDisplay,Et.t("Property is ignored due to the display. With 'display: block', vertical-align should not be used."))}const o=this.fetch(n,"float");for(let e=0;e<o.length;e++){const t=o[e];this.isValidPropertyDeclaration(t)||this.addEntry(t.node,Ki.AvoidFloat)}for(let e=0;e<n.length;e++){const t=n[e];if("background"!==t.fullPropertyName&&!this.validProperties[t.fullPropertyName]){const e=t.node.getValue();if(e&&"-"!==this.documentText.charAt(e.offset)){const e=this.fetch(n,t.fullPropertyName);if(e.length>1)for(let n=0;n<e.length;n++){const r=e[n].node.getValue();r&&"-"!==this.documentText.charAt(r.offset)&&e[n]!==t&&this.addEntry(t.node,Ki.DuplicateDeclarations)}}}}if(!e.getSelectors().matches(":export")){const t=new so;let r=!1;for(const e of n){const n=e.node;if(this.isCSSDeclaration(n)){let r=e.fullPropertyName;const i=r.charAt(0);if("-"===i){if("-"!==r.charAt(1)){this.cssDataManager.isKnownProperty(r)||this.validProperties[r]||this.addEntry(n.getProperty(),Ki.UnknownVendorSpecificProperty);const e=n.getNonPrefixedPropertyName();t.add(e,r,n.getProperty())}}else{const e=r;"*"!==i&&"_"!==i||(this.addEntry(n.getProperty(),Ki.IEStarHack),r=r.substr(1)),this.cssDataManager.isKnownProperty(e)||this.cssDataManager.isKnownProperty(r)||this.validProperties[r]||this.addEntry(n.getProperty(),Ki.UnknownProperty,Et.t("Unknown property: '{0}'",n.getFullPropertyName())),t.add(r,r,null)}}else r=!0}if(!r)for(const n in t.data){const r=t.data[n],i=r.names,o=this.cssDataManager.isStandardProperty(n)&&-1===i.indexOf(n);if(!o&&1===i.length)continue;const s=new Set(o?r.nodes:[]);if(o){const t=this.getContextualVendorSpecificPseudoElements(e);for(const e of r.nodes){const r=e.getName(),i=r.substring(0,r.length-n.length);t.some((e=>e.startsWith(i)))&&s.delete(e)}}const a=[];for(let e=0,t=ao.prefixes.length;e<t;e++){const t=ao.prefixes[e];this.cssDataManager.isStandardProperty(t+n)&&a.push(t+n)}const c=this.getMissingNames(a,i);if(c||o)for(const e of r.nodes){if(o&&s.has(e)){const t=Et.t("Also define the standard property '{0}' for compatibility",n);this.addEntry(e,Ki.IncludeStandardPropertyWhenUsingVendorPrefix,t)}if(c){const t=Et.t("Always include all vendor specific properties: Missing: {0}",c);this.addEntry(e,Ki.AllVendorPrefixes,t)}}}}return!0}getContextualVendorSpecificPseudoElements(e){function t(e,n){for(const r of n.getChildren()){if(r.type===te.PseudoSelector){const t=r.getChildren()[0]?.getText();t&&e.add(t)}t(e,r)}}const n=new Set;return function e(n,r){if(r.type===te.Ruleset)for(const e of r.getSelectors().getChildren())t(n,e);return r.parent?e(n,r.parent):void 0}(n,e),Array.from(n)}visitPrio(e){return this.addEntry(e,Ki.AvoidImportant),!0}visitNumericValue(e){const t=e.findParent(te.Function);if(t&&"calc"===t.getName())return!0;const n=e.findParent(te.Declaration);if(n&&n.getValue()){const t=e.getValue();if(!t.unit||-1===Ur.length.indexOf(t.unit.toLowerCase()))return!0;0===parseFloat(t.value)&&t.unit&&!this.validProperties[n.getFullPropertyName()]&&this.addEntry(e,Ki.ZeroWithUnit)}return!0}visitFontFace(e){const t=e.getDeclarations();if(!t)return!1;let n=!1,r=!1,i=!1;for(const e of t.getChildren())if(this.isCSSDeclaration(e)){const t=e.getProperty().getName().toLowerCase();"src"===t&&(n=!0),"font-family"===t&&(r=!0)}else i=!0;return i||n&&r||this.addEntry(e,Ki.RequiredPropertiesForFontFace),!0}isCSSDeclaration(e){if(e instanceof be){if(!e.getValue())return!1;const t=e.getProperty();if(!t)return!1;const n=t.getIdentifier();return!(!n||n.containsInterpolation())}return!1}visitHexColorValue(e){const t=e.length;return 9!==t&&7!==t&&5!==t&&4!==t&&this.addEntry(e,Ki.HexColorLength),!1}visitFunction(e){const t=e.getName().toLowerCase();let n=-1,r=0;switch(t){case"rgb(":case"hsl(":n=3;break;case"rgba(":case"hsla(":n=4}return-1!==n&&(e.getArguments().accept((e=>!(e instanceof tt&&(r+=1,1)))),r!==n&&this.addEntry(e,Ki.ArgsInColorFunction)),!0}}ao.prefixes=["-ms-","-moz-","-o-","-webkit-"];class co{constructor(e){this.cssDataManager=e}configure(e){this.settings=e}doValidation(e,t,n=this.settings){if(n&&!1===n.validate)return[];const r=[];r.push.apply(r,_t.entries(t)),r.push.apply(r,ao.entries(t,e,new Gi(n&&n.lint),this.cssDataManager));const i=[];for(const e in Ki)i.push(Ki[e].id);return r.filter((e=>e.getLevel()!==Ct.Ignore)).map((function(t){const n=Ot.create(e.positionAt(t.getOffset()),e.positionAt(t.getOffset()+t.getLength())),r=e.languageId;return{code:t.getRule().id,source:r,message:t.getMessage(),severity:t.getLevel()===Ct.Warning?Ut.Warning:Ut.Error,range:n}}))}}const lo="/".charCodeAt(0),ho="\n".charCodeAt(0),po="\r".charCodeAt(0),uo="\f".charCodeAt(0),mo="$".charCodeAt(0),fo="#".charCodeAt(0),go="{".charCodeAt(0),bo="=".charCodeAt(0),yo="!".charCodeAt(0),vo="<".charCodeAt(0),wo=">".charCodeAt(0),xo=".".charCodeAt(0);"@".charCodeAt(0);let So=r.CustomToken;const Co=So++,ko=So++,_o=(So++,So++),Eo=So++,Fo=So++,Ro=So++,Do=So++;So++;class To extends X{scanNext(e){if(this.stream.advanceIfChar(mo)){const t=["$"];if(this.ident(t))return this.finishToken(e,Co,t.join(""));this.stream.goBackTo(e)}return this.stream.advanceIfChars([fo,go])?this.finishToken(e,ko):this.stream.advanceIfChars([bo,bo])?this.finishToken(e,_o):this.stream.advanceIfChars([yo,bo])?this.finishToken(e,Eo):this.stream.advanceIfChar(vo)?this.stream.advanceIfChar(bo)?this.finishToken(e,Ro):this.finishToken(e,r.Delim):this.stream.advanceIfChar(wo)?this.stream.advanceIfChar(bo)?this.finishToken(e,Fo):this.finishToken(e,r.Delim):this.stream.advanceIfChars([xo,xo,xo])?this.finishToken(e,Do):super.scanNext(e)}comment(){return!!super.comment()||!(this.inURL||!this.stream.advanceIfChars([lo,lo]))&&(this.stream.advanceWhileChar((e=>{switch(e){case ho:case po:case uo:return!1;default:return!0}})),!0)}}class Io{constructor(e,t){this.id=e,this.message=t}}const Po={FromExpected:new Io("scss-fromexpected",Et.t("'from' expected")),ThroughOrToExpected:new Io("scss-throughexpected",Et.t("'through' or 'to' expected")),InExpected:new Io("scss-fromexpected",Et.t("'in' expected"))};class Mo extends Jr{constructor(){super(new To)}_parseStylesheetStatement(e=!1){return this.peek(r.AtKeyword)?this._parseWarnAndDebug()||this._parseControlStatement()||this._parseMixinDeclaration()||this._parseMixinContent()||this._parseMixinReference()||this._parseFunctionDeclaration()||this._parseForward()||this._parseUse()||this._parseRuleset(e)||super._parseStylesheetAtStatement(e):this._parseRuleset(!0)||this._parseVariableDeclaration()}_parseImport(){if(!this.peekKeyword("@import"))return null;const e=this.create(Ne);if(this.consumeToken(),!e.addChild(this._parseURILiteral())&&!e.addChild(this._parseStringLiteral()))return this.finish(e,Rt.URIOrStringExpected);for(;this.accept(r.Comma);)if(!e.addChild(this._parseURILiteral())&&!e.addChild(this._parseStringLiteral()))return this.finish(e,Rt.URIOrStringExpected);return this._completeParseImport(e)}_parseVariableDeclaration(e=[]){if(!this.peek(Co))return null;const t=this.create(dt);if(!t.setVariable(this._parseVariable()))return null;if(!this.accept(r.Colon))return this.finish(t,Rt.ColonExpected);if(this.prevToken&&(t.colonPosition=this.prevToken.offset),!t.setValue(this._parseExpr()))return this.finish(t,Rt.VariableValueExpected,[],e);for(;this.peek(r.Exclamation);)if(t.addChild(this._tryParsePrio()));else{if(this.consumeToken(),!this.peekRegExp(r.Ident,/^(default|global)$/))return this.finish(t,Rt.UnknownKeyword);this.consumeToken()}return this.peek(r.SemiColon)&&(t.semicolonPosition=this.token.offset),this.finish(t)}_parseMediaCondition(){return this._parseInterpolation()||super._parseMediaCondition()}_parseMediaFeatureRangeOperator(){return this.accept(Ro)||this.accept(Fo)||super._parseMediaFeatureRangeOperator()}_parseMediaFeatureName(){return this._parseModuleMember()||this._parseFunction()||this._parseIdent()||this._parseVariable()}_parseKeyframeSelector(){return this._tryParseKeyframeSelector()||this._parseControlStatement(this._parseKeyframeSelector.bind(this))||this._parseWarnAndDebug()||this._parseMixinReference()||this._parseFunctionDeclaration()||this._parseVariableDeclaration()||this._parseMixinContent()}_parseVariable(){if(!this.peek(Co))return null;const e=this.create(pt);return this.consumeToken(),e}_parseModuleMember(){const e=this.mark(),t=this.create(St);return t.setIdentifier(this._parseIdent([ne.Module]))?this.hasWhitespace()||!this.acceptDelim(".")||this.hasWhitespace()?(this.restoreAtMark(e),null):t.addChild(this._parseVariable()||this._parseFunction())?t:this.finish(t,Rt.IdentifierOrVariableExpected):null}_parseIdent(e){if(!this.peek(r.Ident)&&!this.peek(ko)&&!this.peekDelim("-"))return null;const t=this.create(ce);t.referenceTypes=e,t.isCustomProperty=this.peekRegExp(r.Ident,/^--/);let n=!1;const i=()=>{const e=this.mark();return this.acceptDelim("-")&&(this.hasWhitespace()||this.acceptDelim("-"),this.hasWhitespace())?(this.restoreAtMark(e),null):this._parseInterpolation()};for(;(this.accept(r.Ident)||t.addChild(i())||n&&this.acceptRegexp(/^[\w-]/))&&(n=!0,!this.hasWhitespace()););return n?this.finish(t):null}_parseTermExpression(){return this._parseModuleMember()||this._parseVariable()||this._parseNestingSelector()||super._parseTermExpression()}_parseInterpolation(){if(this.peek(ko)){const e=this.create(ht);return this.consumeToken(),e.addChild(this._parseExpr())||this._parseNestingSelector()?this.accept(r.CurlyR)?this.finish(e):this.finish(e,Rt.RightCurlyExpected):this.accept(r.CurlyR)?this.finish(e):this.finish(e,Rt.ExpressionExpected)}return null}_parseOperator(){if(this.peek(_o)||this.peek(Eo)||this.peek(Fo)||this.peek(Ro)||this.peekDelim(">")||this.peekDelim("<")||this.peekIdent("and")||this.peekIdent("or")||this.peekDelim("%")){const e=this.createNode(te.Operator);return this.consumeToken(),this.finish(e)}return super._parseOperator()}_parseUnaryOperator(){if(this.peekIdent("not")){const e=this.create(oe);return this.consumeToken(),this.finish(e)}return super._parseUnaryOperator()}_parseRuleSetDeclaration(){return this.peek(r.AtKeyword)?this._parseKeyframe()||this._parseImport()||this._parseMedia(!0)||this._parseFontFace()||this._parseWarnAndDebug()||this._parseControlStatement()||this._parseFunctionDeclaration()||this._parseExtends()||this._parseMixinReference()||this._parseMixinContent()||this._parseMixinDeclaration()||this._parseRuleset(!0)||this._parseSupports(!0)||this._parseLayer()||this._parsePropertyAtRule()||this._parseRuleSetDeclarationAtStatement():this._parseVariableDeclaration()||this._tryParseRuleset(!0)||this._parseDeclaration()}_parseDeclaration(e){const t=this._tryParseCustomPropertyDeclaration(e);if(t)return t;const n=this.create(be);if(!n.setProperty(this._parseProperty()))return null;if(!this.accept(r.Colon))return this.finish(n,Rt.ColonExpected,[r.Colon],e||[r.SemiColon]);this.prevToken&&(n.colonPosition=this.prevToken.offset);let i=!1;if(n.setValue(this._parseExpr())&&(i=!0,n.addChild(this._parsePrio())),this.peek(r.CurlyL))n.setNestedProperties(this._parseNestedProperties());else if(!i)return this.finish(n,Rt.PropertyValueExpected);return this.peek(r.SemiColon)&&(n.semicolonPosition=this.token.offset),this.finish(n)}_parseNestedProperties(){const e=this.create(Pe);return this._parseBody(e,this._parseDeclaration.bind(this))}_parseExtends(){if(this.peekKeyword("@extend")){const e=this.create(ut);if(this.consumeToken(),!e.getSelectors().addChild(this._parseSimpleSelector()))return this.finish(e,Rt.SelectorExpected);for(;this.accept(r.Comma);)e.getSelectors().addChild(this._parseSimpleSelector());return this.accept(r.Exclamation)&&!this.acceptIdent("optional")?this.finish(e,Rt.UnknownKeyword):this.finish(e)}return null}_parseSimpleSelectorBody(){return this._parseSelectorPlaceholder()||super._parseSimpleSelectorBody()}_parseNestingSelector(){if(this.peekDelim("&")){const e=this.createNode(te.SelectorCombinator);for(this.consumeToken();!this.hasWhitespace()&&(this.acceptDelim("-")||this.accept(r.Num)||this.accept(r.Dimension)||e.addChild(this._parseIdent())||this.acceptDelim("&")););return this.finish(e)}return null}_parseSelectorPlaceholder(){if(this.peekDelim("%")){const e=this.createNode(te.SelectorPlaceholder);return this.consumeToken(),this._parseIdent(),this.finish(e)}if(this.peekKeyword("@at-root")){const e=this.createNode(te.SelectorPlaceholder);if(this.consumeToken(),this.accept(r.ParenthesisL)){if(!this.acceptIdent("with")&&!this.acceptIdent("without"))return this.finish(e,Rt.IdentifierExpected);if(!this.accept(r.Colon))return this.finish(e,Rt.ColonExpected);if(!e.addChild(this._parseIdent()))return this.finish(e,Rt.IdentifierExpected);if(!this.accept(r.ParenthesisR))return this.finish(e,Rt.RightParenthesisExpected,[r.CurlyR])}return this.finish(e)}return null}_parseElementName(){const e=this.mark(),t=super._parseElementName();return t&&!this.hasWhitespace()&&this.peek(r.ParenthesisL)?(this.restoreAtMark(e),null):t}_tryParsePseudoIdentifier(){return this._parseInterpolation()||super._tryParsePseudoIdentifier()}_parseWarnAndDebug(){if(!this.peekKeyword("@debug")&&!this.peekKeyword("@warn")&&!this.peekKeyword("@error"))return null;const e=this.createNode(te.Debug);return this.consumeToken(),e.addChild(this._parseExpr()),this.finish(e)}_parseControlStatement(e=this._parseRuleSetDeclaration.bind(this)){return this.peek(r.AtKeyword)?this._parseIfStatement(e)||this._parseForStatement(e)||this._parseEachStatement(e)||this._parseWhileStatement(e):null}_parseIfStatement(e){return this.peekKeyword("@if")?this._internalParseIfStatement(e):null}_internalParseIfStatement(e){const t=this.create(ke);if(this.consumeToken(),!t.setExpression(this._parseExpr(!0)))return this.finish(t,Rt.ExpressionExpected);if(this._parseBody(t,e),this.acceptKeyword("@else"))if(this.peekIdent("if"))t.setElseClause(this._internalParseIfStatement(e));else if(this.peek(r.CurlyL)){const n=this.create(Re);this._parseBody(n,e),t.setElseClause(n)}return this.finish(t)}_parseForStatement(e){if(!this.peekKeyword("@for"))return null;const t=this.create(_e);return this.consumeToken(),t.setVariable(this._parseVariable())?this.acceptIdent("from")?t.addChild(this._parseBinaryExpr())?this.acceptIdent("to")||this.acceptIdent("through")?t.addChild(this._parseBinaryExpr())?this._parseBody(t,e):this.finish(t,Rt.ExpressionExpected,[r.CurlyR]):this.finish(t,Po.ThroughOrToExpected,[r.CurlyR]):this.finish(t,Rt.ExpressionExpected,[r.CurlyR]):this.finish(t,Po.FromExpected,[r.CurlyR]):this.finish(t,Rt.VariableNameExpected,[r.CurlyR])}_parseEachStatement(e){if(!this.peekKeyword("@each"))return null;const t=this.create(Ee);this.consumeToken();const n=t.getVariables();if(!n.addChild(this._parseVariable()))return this.finish(t,Rt.VariableNameExpected,[r.CurlyR]);for(;this.accept(r.Comma);)if(!n.addChild(this._parseVariable()))return this.finish(t,Rt.VariableNameExpected,[r.CurlyR]);return this.finish(n),this.acceptIdent("in")?t.addChild(this._parseExpr())?this._parseBody(t,e):this.finish(t,Rt.ExpressionExpected,[r.CurlyR]):this.finish(t,Po.InExpected,[r.CurlyR])}_parseWhileStatement(e){if(!this.peekKeyword("@while"))return null;const t=this.create(Fe);return this.consumeToken(),t.addChild(this._parseBinaryExpr())?this._parseBody(t,e):this.finish(t,Rt.ExpressionExpected,[r.CurlyR])}_parseFunctionBodyDeclaration(){return this._parseVariableDeclaration()||this._parseReturnStatement()||this._parseWarnAndDebug()||this._parseControlStatement(this._parseFunctionBodyDeclaration.bind(this))}_parseFunctionDeclaration(){if(!this.peekKeyword("@function"))return null;const e=this.create(De);if(this.consumeToken(),!e.setIdentifier(this._parseIdent([ne.Function])))return this.finish(e,Rt.IdentifierExpected,[r.CurlyR]);if(!this.accept(r.ParenthesisL))return this.finish(e,Rt.LeftParenthesisExpected,[r.CurlyR]);if(e.getParameters().addChild(this._parseParameterDeclaration()))for(;this.accept(r.Comma)&&!this.peek(r.ParenthesisR);)if(!e.getParameters().addChild(this._parseParameterDeclaration()))return this.finish(e,Rt.VariableNameExpected);return this.accept(r.ParenthesisR)?this._parseBody(e,this._parseFunctionBodyDeclaration.bind(this)):this.finish(e,Rt.RightParenthesisExpected,[r.CurlyR])}_parseReturnStatement(){if(!this.peekKeyword("@return"))return null;const e=this.createNode(te.ReturnStatement);return this.consumeToken(),e.addChild(this._parseExpr())?this.finish(e):this.finish(e,Rt.ExpressionExpected)}_parseMixinDeclaration(){if(!this.peekKeyword("@mixin"))return null;const e=this.create(bt);if(this.consumeToken(),!e.setIdentifier(this._parseIdent([ne.Mixin])))return this.finish(e,Rt.IdentifierExpected,[r.CurlyR]);if(this.accept(r.ParenthesisL)){if(e.getParameters().addChild(this._parseParameterDeclaration()))for(;this.accept(r.Comma)&&!this.peek(r.ParenthesisR);)if(!e.getParameters().addChild(this._parseParameterDeclaration()))return this.finish(e,Rt.VariableNameExpected);if(!this.accept(r.ParenthesisR))return this.finish(e,Rt.RightParenthesisExpected,[r.CurlyR])}return this._parseBody(e,this._parseRuleSetDeclaration.bind(this))}_parseParameterDeclaration(){const e=this.create(Se);return e.setIdentifier(this._parseVariable())?(this.accept(Do),this.accept(r.Colon)&&!e.setDefaultValue(this._parseExpr(!0))?this.finish(e,Rt.VariableValueExpected,[],[r.Comma,r.ParenthesisR]):this.finish(e)):null}_parseMixinContent(){if(!this.peekKeyword("@content"))return null;const e=this.create(mt);if(this.consumeToken(),this.accept(r.ParenthesisL)){if(e.getArguments().addChild(this._parseFunctionArgument()))for(;this.accept(r.Comma)&&!this.peek(r.ParenthesisR);)if(!e.getArguments().addChild(this._parseFunctionArgument()))return this.finish(e,Rt.ExpressionExpected);if(!this.accept(r.ParenthesisR))return this.finish(e,Rt.RightParenthesisExpected)}return this.finish(e)}_parseMixinReference(){if(!this.peekKeyword("@include"))return null;const e=this.create(gt);this.consumeToken();const t=this._parseIdent([ne.Mixin]);if(!e.setIdentifier(t))return this.finish(e,Rt.IdentifierExpected,[r.CurlyR]);if(!this.hasWhitespace()&&this.acceptDelim(".")&&!this.hasWhitespace()){const n=this._parseIdent([ne.Mixin]);if(!n)return this.finish(e,Rt.IdentifierExpected,[r.CurlyR]);const i=this.create(St);t.referenceTypes=[ne.Module],i.setIdentifier(t),e.setIdentifier(n),e.addChild(i)}if(this.accept(r.ParenthesisL)){if(e.getArguments().addChild(this._parseFunctionArgument()))for(;this.accept(r.Comma)&&!this.peek(r.ParenthesisR);)if(!e.getArguments().addChild(this._parseFunctionArgument()))return this.finish(e,Rt.ExpressionExpected);if(!this.accept(r.ParenthesisR))return this.finish(e,Rt.RightParenthesisExpected)}return(this.peekIdent("using")||this.peek(r.CurlyL))&&e.setContent(this._parseMixinContentDeclaration()),this.finish(e)}_parseMixinContentDeclaration(){const e=this.create(ft);if(this.acceptIdent("using")){if(!this.accept(r.ParenthesisL))return this.finish(e,Rt.LeftParenthesisExpected,[r.CurlyL]);if(e.getParameters().addChild(this._parseParameterDeclaration()))for(;this.accept(r.Comma)&&!this.peek(r.ParenthesisR);)if(!e.getParameters().addChild(this._parseParameterDeclaration()))return this.finish(e,Rt.VariableNameExpected);if(!this.accept(r.ParenthesisR))return this.finish(e,Rt.RightParenthesisExpected,[r.CurlyL])}return this.peek(r.CurlyL)&&this._parseBody(e,this._parseMixinReferenceBodyStatement.bind(this)),this.finish(e)}_parseMixinReferenceBodyStatement(){return this._tryParseKeyframeSelector()||this._parseRuleSetDeclaration()}_parseFunctionArgument(){const e=this.create(Ce),t=this.mark(),n=this._parseVariable();if(n)if(this.accept(r.Colon))e.setIdentifier(n);else{if(this.accept(Do))return e.setValue(n),this.finish(e);this.restoreAtMark(t)}return e.setValue(this._parseExpr(!0))?(this.accept(Do),e.addChild(this._parsePrio()),this.finish(e)):e.setValue(this._tryParsePrio())?this.finish(e):null}_parseURLArgument(){const e=this.mark(),t=super._parseURLArgument();if(!t||!this.peek(r.ParenthesisR)){this.restoreAtMark(e);const t=this.create(oe);return t.addChild(this._parseBinaryExpr()),this.finish(t)}return t}_parseOperation(){if(!this.peek(r.ParenthesisL))return null;const e=this.create(oe);for(this.consumeToken();e.addChild(this._parseListElement());)this.accept(r.Comma);return this.accept(r.ParenthesisR)?this.finish(e):this.finish(e,Rt.RightParenthesisExpected)}_parseListElement(){const e=this.create(vt),t=this._parseBinaryExpr();if(!t)return null;if(this.accept(r.Colon)){if(e.setKey(t),!e.setValue(this._parseBinaryExpr()))return this.finish(e,Rt.ExpressionExpected)}else e.setValue(t);return this.finish(e)}_parseUse(){if(!this.peekKeyword("@use"))return null;const e=this.create(ze);if(this.consumeToken(),!e.addChild(this._parseStringLiteral()))return this.finish(e,Rt.StringLiteralExpected);if(!this.peek(r.SemiColon)&&!this.peek(r.EOF)){if(!this.peekRegExp(r.Ident,/as|with/))return this.finish(e,Rt.UnknownKeyword);if(this.acceptIdent("as")&&!e.setIdentifier(this._parseIdent([ne.Module]))&&!this.acceptDelim("*"))return this.finish(e,Rt.IdentifierOrWildcardExpected);if(this.acceptIdent("with")){if(!this.accept(r.ParenthesisL))return this.finish(e,Rt.LeftParenthesisExpected,[r.ParenthesisR]);if(!e.getParameters().addChild(this._parseModuleConfigDeclaration()))return this.finish(e,Rt.VariableNameExpected);for(;this.accept(r.Comma)&&!this.peek(r.ParenthesisR);)if(!e.getParameters().addChild(this._parseModuleConfigDeclaration()))return this.finish(e,Rt.VariableNameExpected);if(!this.accept(r.ParenthesisR))return this.finish(e,Rt.RightParenthesisExpected)}}return this.accept(r.SemiColon)||this.accept(r.EOF)?this.finish(e):this.finish(e,Rt.SemiColonExpected)}_parseModuleConfigDeclaration(){const e=this.create(Ae);return e.setIdentifier(this._parseVariable())?this.accept(r.Colon)&&e.setValue(this._parseExpr(!0))?!this.accept(r.Exclamation)||!this.hasWhitespace()&&this.acceptIdent("default")?this.finish(e):this.finish(e,Rt.UnknownKeyword):this.finish(e,Rt.VariableValueExpected,[],[r.Comma,r.ParenthesisR]):null}_parseForward(){if(!this.peekKeyword("@forward"))return null;const e=this.create(We);if(this.consumeToken(),!e.addChild(this._parseStringLiteral()))return this.finish(e,Rt.StringLiteralExpected);if(this.acceptIdent("as")){const t=this._parseIdent([ne.Forward]);if(!e.setIdentifier(t))return this.finish(e,Rt.IdentifierExpected);if(this.hasWhitespace()||!this.acceptDelim("*"))return this.finish(e,Rt.WildcardExpected)}if(this.acceptIdent("with")){if(!this.accept(r.ParenthesisL))return this.finish(e,Rt.LeftParenthesisExpected,[r.ParenthesisR]);if(!e.getParameters().addChild(this._parseModuleConfigDeclaration()))return this.finish(e,Rt.VariableNameExpected);for(;this.accept(r.Comma)&&!this.peek(r.ParenthesisR);)if(!e.getParameters().addChild(this._parseModuleConfigDeclaration()))return this.finish(e,Rt.VariableNameExpected);if(!this.accept(r.ParenthesisR))return this.finish(e,Rt.RightParenthesisExpected)}else if((this.peekIdent("hide")||this.peekIdent("show"))&&!e.addChild(this._parseForwardVisibility()))return this.finish(e,Rt.IdentifierOrVariableExpected);return this.accept(r.SemiColon)||this.accept(r.EOF)?this.finish(e):this.finish(e,Rt.SemiColonExpected)}_parseForwardVisibility(){const e=this.create(qe);for(e.setIdentifier(this._parseIdent());e.addChild(this._parseVariable()||this._parseIdent());)this.accept(r.Comma);return e.getChildren().length>1?e:null}_parseSupportsCondition(){return this._parseInterpolation()||super._parseSupportsCondition()}}const Oo=Et.t("Sass documentation");class No extends yi{constructor(e,t){super("$",e,t),zo(No.scssModuleLoaders),zo(No.scssModuleBuiltIns)}isImportPathParent(e){return e===te.Forward||e===te.Use||super.isImportPathParent(e)}getCompletionForImportPath(e,t){const n=e.getParent().type;if(n===te.Forward||n===te.Use)for(let n of No.scssModuleBuiltIns){const r={label:n.label,documentation:n.documentation,textEdit:Gt.replace(this.getCompletionRange(e),`'${n.label}'`),kind:dn.Module};t.items.push(r)}return super.getCompletionForImportPath(e,t)}createReplaceFunction(){let e=1;return(t,n)=>"\\"+n+": ${"+e+++":"+(No.variableDefaults[n]||"")+"}"}createFunctionProposals(e,t,n,r){for(const i of e){const e=i.func.replace(/\[?(\$\w+)\]?/g,this.createReplaceFunction()),o={label:i.func.substr(0,i.func.indexOf("(")),detail:i.func,documentation:i.desc,textEdit:Gt.replace(this.getCompletionRange(t),e),insertTextFormat:hn.Snippet,kind:dn.Function};n&&(o.sortText="z"),r.items.push(o)}return r}getCompletionsForSelector(e,t,n){return this.createFunctionProposals(No.selectorFuncs,null,!0,n),super.getCompletionsForSelector(e,t,n)}getTermProposals(e,t,n){let r=No.builtInFuncs;return e&&(r=r.filter((t=>!t.type||!e.restrictions||-1!==e.restrictions.indexOf(t.type)))),this.createFunctionProposals(r,t,!0,n),super.getTermProposals(e,t,n)}getColorProposals(e,t,n){return this.createFunctionProposals(No.colorProposals,t,!1,n),super.getColorProposals(e,t,n)}getCompletionsForDeclarationProperty(e,t){return this.getCompletionForAtDirectives(t),this.getCompletionsForSelector(null,!0,t),super.getCompletionsForDeclarationProperty(e,t)}getCompletionsForExtendsReference(e,t,n){const r=this.getSymbolContext().findSymbolsAtOffset(this.offset,ne.Rule);for(const e of r){const r={label:e.name,textEdit:Gt.replace(this.getCompletionRange(t),e.name),kind:dn.Function};n.items.push(r)}return n}getCompletionForAtDirectives(e){return e.items.push(...No.scssAtDirectives),e}getCompletionForTopLevel(e){return this.getCompletionForAtDirectives(e),this.getCompletionForModuleLoaders(e),super.getCompletionForTopLevel(e),e}getCompletionForModuleLoaders(e){return e.items.push(...No.scssModuleLoaders),e}}function zo(e){e.forEach((e=>{if(e.documentation&&e.references&&e.references.length>0){const t="string"==typeof e.documentation?{kind:"markdown",value:e.documentation}:{kind:"markdown",value:e.documentation.value};t.value+="\n\n",t.value+=e.references.map((e=>`[${e.name}](${e.url})`)).join(" | "),e.documentation=t}}))}No.variableDefaults={$red:"1",$green:"2",$blue:"3",$alpha:"1.0",$color:"#000000",$weight:"0.5",$hue:"0",$saturation:"0%",$lightness:"0%",$degrees:"0",$amount:"0",$string:'""',$substring:'"s"',$number:"0",$limit:"1"},No.colorProposals=[{func:"red($color)",desc:Et.t("Gets the red component of a color.")},{func:"green($color)",desc:Et.t("Gets the green component of a color.")},{func:"blue($color)",desc:Et.t("Gets the blue component of a color.")},{func:"mix($color, $color, [$weight])",desc:Et.t("Mixes two colors together.")},{func:"hue($color)",desc:Et.t("Gets the hue component of a color.")},{func:"saturation($color)",desc:Et.t("Gets the saturation component of a color.")},{func:"lightness($color)",desc:Et.t("Gets the lightness component of a color.")},{func:"adjust-hue($color, $degrees)",desc:Et.t("Changes the hue of a color.")},{func:"lighten($color, $amount)",desc:Et.t("Makes a color lighter.")},{func:"darken($color, $amount)",desc:Et.t("Makes a color darker.")},{func:"saturate($color, $amount)",desc:Et.t("Makes a color more saturated.")},{func:"desaturate($color, $amount)",desc:Et.t("Makes a color less saturated.")},{func:"grayscale($color)",desc:Et.t("Converts a color to grayscale.")},{func:"complement($color)",desc:Et.t("Returns the complement of a color.")},{func:"invert($color)",desc:Et.t("Returns the inverse of a color.")},{func:"alpha($color)",desc:Et.t("Gets the opacity component of a color.")},{func:"opacity($color)",desc:"Gets the alpha component (opacity) of a color."},{func:"rgba($color, $alpha)",desc:Et.t("Changes the alpha component for a color.")},{func:"opacify($color, $amount)",desc:Et.t("Makes a color more opaque.")},{func:"fade-in($color, $amount)",desc:Et.t("Makes a color more opaque.")},{func:"transparentize($color, $amount)",desc:Et.t("Makes a color more transparent.")},{func:"fade-out($color, $amount)",desc:Et.t("Makes a color more transparent.")},{func:"adjust-color($color, [$red], [$green], [$blue], [$hue], [$saturation], [$lightness], [$alpha])",desc:Et.t("Increases or decreases one or more components of a color.")},{func:"scale-color($color, [$red], [$green], [$blue], [$saturation], [$lightness], [$alpha])",desc:Et.t("Fluidly scales one or more properties of a color.")},{func:"change-color($color, [$red], [$green], [$blue], [$hue], [$saturation], [$lightness], [$alpha])",desc:Et.t("Changes one or more properties of a color.")},{func:"ie-hex-str($color)",desc:Et.t("Converts a color into the format understood by IE filters.")}],No.selectorFuncs=[{func:"selector-nest($selectorsâ€¦)",desc:Et.t("Nests selector beneath one another like they would be nested in the stylesheet.")},{func:"selector-append($selectorsâ€¦)",desc:Et.t("Appends selectors to one another without spaces in between.")},{func:"selector-extend($selector, $extendee, $extender)",desc:Et.t("Extends $extendee with $extender within $selector.")},{func:"selector-replace($selector, $original, $replacement)",desc:Et.t("Replaces $original with $replacement within $selector.")},{func:"selector-unify($selector1, $selector2)",desc:Et.t("Unifies two selectors to produce a selector that matches elements matched by both.")},{func:"is-superselector($super, $sub)",desc:Et.t("Returns whether $super matches all the elements $sub does, and possibly more.")},{func:"simple-selectors($selector)",desc:Et.t("Returns the simple selectors that comprise a compound selector.")},{func:"selector-parse($selector)",desc:Et.t("Parses a selector into the format returned by &.")}],No.builtInFuncs=[{func:"unquote($string)",desc:Et.t("Removes quotes from a string.")},{func:"quote($string)",desc:Et.t("Adds quotes to a string.")},{func:"str-length($string)",desc:Et.t("Returns the number of characters in a string.")},{func:"str-insert($string, $insert, $index)",desc:Et.t("Inserts $insert into $string at $index.")},{func:"str-index($string, $substring)",desc:Et.t("Returns the index of the first occurance of $substring in $string.")},{func:"str-slice($string, $start-at, [$end-at])",desc:Et.t("Extracts a substring from $string.")},{func:"to-upper-case($string)",desc:Et.t("Converts a string to upper case.")},{func:"to-lower-case($string)",desc:Et.t("Converts a string to lower case.")},{func:"percentage($number)",desc:Et.t("Converts a unitless number to a percentage."),type:"percentage"},{func:"round($number)",desc:Et.t("Rounds a number to the nearest whole number.")},{func:"ceil($number)",desc:Et.t("Rounds a number up to the next whole number.")},{func:"floor($number)",desc:Et.t("Rounds a number down to the previous whole number.")},{func:"abs($number)",desc:Et.t("Returns the absolute value of a number.")},{func:"min($numbers)",desc:Et.t("Finds the minimum of several numbers.")},{func:"max($numbers)",desc:Et.t("Finds the maximum of several numbers.")},{func:"random([$limit])",desc:Et.t("Returns a random number.")},{func:"length($list)",desc:Et.t("Returns the length of a list.")},{func:"nth($list, $n)",desc:Et.t("Returns a specific item in a list.")},{func:"set-nth($list, $n, $value)",desc:Et.t("Replaces the nth item in a list.")},{func:"join($list1, $list2, [$separator])",desc:Et.t("Joins together two lists into one.")},{func:"append($list1, $val, [$separator])",desc:Et.t("Appends a single value onto the end of a list.")},{func:"zip($lists)",desc:Et.t("Combines several lists into a single multidimensional list.")},{func:"index($list, $value)",desc:Et.t("Returns the position of a value within a list.")},{func:"list-separator(#list)",desc:Et.t("Returns the separator of a list.")},{func:"map-get($map, $key)",desc:Et.t("Returns the value in a map associated with a given key.")},{func:"map-merge($map1, $map2)",desc:Et.t("Merges two maps together into a new map.")},{func:"map-remove($map, $keys)",desc:Et.t("Returns a new map with keys removed.")},{func:"map-keys($map)",desc:Et.t("Returns a list of all keys in a map.")},{func:"map-values($map)",desc:Et.t("Returns a list of all values in a map.")},{func:"map-has-key($map, $key)",desc:Et.t("Returns whether a map has a value associated with a given key.")},{func:"keywords($args)",desc:Et.t("Returns the keywords passed to a function that takes variable arguments.")},{func:"feature-exists($feature)",desc:Et.t("Returns whether a feature exists in the current Sass runtime.")},{func:"variable-exists($name)",desc:Et.t("Returns whether a variable with the given name exists in the current scope.")},{func:"global-variable-exists($name)",desc:Et.t("Returns whether a variable with the given name exists in the global scope.")},{func:"function-exists($name)",desc:Et.t("Returns whether a function with the given name exists.")},{func:"mixin-exists($name)",desc:Et.t("Returns whether a mixin with the given name exists.")},{func:"inspect($value)",desc:Et.t("Returns the string representation of a value as it would be represented in Sass.")},{func:"type-of($value)",desc:Et.t("Returns the type of a value.")},{func:"unit($number)",desc:Et.t("Returns the unit(s) associated with a number.")},{func:"unitless($number)",desc:Et.t("Returns whether a number has units.")},{func:"comparable($number1, $number2)",desc:Et.t("Returns whether two numbers can be added, subtracted, or compared.")},{func:"call($name, $argsâ€¦)",desc:Et.t("Dynamically calls a Sass function.")}],No.scssAtDirectives=[{label:"@extend",documentation:Et.t("Inherits the styles of another selector."),kind:dn.Keyword},{label:"@at-root",documentation:Et.t("Causes one or more rules to be emitted at the root of the document."),kind:dn.Keyword},{label:"@debug",documentation:Et.t("Prints the value of an expression to the standard error output stream. Useful for debugging complicated Sass files."),kind:dn.Keyword},{label:"@warn",documentation:Et.t("Prints the value of an expression to the standard error output stream. Useful for libraries that need to warn users of deprecations or recovering from minor mixin usage mistakes. Warnings can be turned off with the `--quiet` command-line option or the `:quiet` Sass option."),kind:dn.Keyword},{label:"@error",documentation:Et.t("Throws the value of an expression as a fatal error with stack trace. Useful for validating arguments to mixins and functions."),kind:dn.Keyword},{label:"@if",documentation:Et.t("Includes the body if the expression does not evaluate to `false` or `null`."),insertText:"@if ${1:expr} {\n\t$0\n}",insertTextFormat:hn.Snippet,kind:dn.Keyword},{label:"@for",documentation:Et.t("For loop that repeatedly outputs a set of styles for each `$var` in the `from/through` or `from/to` clause."),insertText:"@for \\$${1:var} from ${2:start} ${3|to,through|} ${4:end} {\n\t$0\n}",insertTextFormat:hn.Snippet,kind:dn.Keyword},{label:"@each",documentation:Et.t("Each loop that sets `$var` to each item in the list or map, then outputs the styles it contains using that value of `$var`."),insertText:"@each \\$${1:var} in ${2:list} {\n\t$0\n}",insertTextFormat:hn.Snippet,kind:dn.Keyword},{label:"@while",documentation:Et.t("While loop that takes an expression and repeatedly outputs the nested styles until the statement evaluates to `false`."),insertText:"@while ${1:condition} {\n\t$0\n}",insertTextFormat:hn.Snippet,kind:dn.Keyword},{label:"@mixin",documentation:Et.t("Defines styles that can be re-used throughout the stylesheet with `@include`."),insertText:"@mixin ${1:name} {\n\t$0\n}",insertTextFormat:hn.Snippet,kind:dn.Keyword},{label:"@include",documentation:Et.t("Includes the styles defined by another mixin into the current rule."),kind:dn.Keyword},{label:"@function",documentation:Et.t("Defines complex operations that can be re-used throughout stylesheets."),kind:dn.Keyword}],No.scssModuleLoaders=[{label:"@use",documentation:Et.t("Loads mixins, functions, and variables from other Sass stylesheets as 'modules', and combines CSS from multiple stylesheets together."),references:[{name:Oo,url:"https://sass-lang.com/documentation/at-rules/use"}],insertText:"@use $0;",insertTextFormat:hn.Snippet,kind:dn.Keyword},{label:"@forward",documentation:Et.t("Loads a Sass stylesheet and makes its mixins, functions, and variables available when this stylesheet is loaded with the @use rule."),references:[{name:Oo,url:"https://sass-lang.com/documentation/at-rules/forward"}],insertText:"@forward $0;",insertTextFormat:hn.Snippet,kind:dn.Keyword}],No.scssModuleBuiltIns=[{label:"sass:math",documentation:Et.t("Provides functions that operate on numbers."),references:[{name:Oo,url:"https://sass-lang.com/documentation/modules/math"}]},{label:"sass:string",documentation:Et.t("Makes it easy to combine, search, or split apart strings."),references:[{name:Oo,url:"https://sass-lang.com/documentation/modules/string"}]},{label:"sass:color",documentation:Et.t("Generates new colors based on existing ones, making it easy to build color themes."),references:[{name:Oo,url:"https://sass-lang.com/documentation/modules/color"}]},{label:"sass:list",documentation:Et.t("Lets you access and modify values in lists."),references:[{name:Oo,url:"https://sass-lang.com/documentation/modules/list"}]},{label:"sass:map",documentation:Et.t("Makes it possible to look up the value associated with a key in a map, and much more."),references:[{name:Oo,url:"https://sass-lang.com/documentation/modules/map"}]},{label:"sass:selector",documentation:Et.t("Provides access to Sassâ€™s powerful selector engine."),references:[{name:Oo,url:"https://sass-lang.com/documentation/modules/selector"}]},{label:"sass:meta",documentation:Et.t("Exposes the details of Sassâ€™s inner workings."),references:[{name:Oo,url:"https://sass-lang.com/documentation/modules/meta"}]}];const Ao="/".charCodeAt(0),Wo="\n".charCodeAt(0),qo="\r".charCodeAt(0),Lo="\f".charCodeAt(0),jo="`".charCodeAt(0),$o=".".charCodeAt(0);let Uo=r.CustomToken;const Vo=Uo++;class Bo extends X{scanNext(e){const t=this.escapedJavaScript();return null!==t?this.finishToken(e,t):this.stream.advanceIfChars([$o,$o,$o])?this.finishToken(e,Vo):super.scanNext(e)}comment(){return!!super.comment()||!(this.inURL||!this.stream.advanceIfChars([Ao,Ao]))&&(this.stream.advanceWhileChar((e=>{switch(e){case Wo:case qo:case Lo:return!1;default:return!0}})),!0)}escapedJavaScript(){return this.stream.peekChar()===jo?(this.stream.advance(1),this.stream.advanceWhileChar((e=>e!==jo)),this.stream.advanceIfChar(jo)?r.EscapedJavaScript:r.BadEscapedJavaScript):null}}class Ko extends Jr{constructor(){super(new Bo)}_parseStylesheetStatement(e=!1){return this.peek(r.AtKeyword)?this._parseVariableDeclaration()||this._parsePlugin()||super._parseStylesheetAtStatement(e):this._tryParseMixinDeclaration()||this._tryParseMixinReference()||this._parseFunction()||this._parseRuleset(!0)}_parseImport(){if(!this.peekKeyword("@import")&&!this.peekKeyword("@import-once"))return null;const e=this.create(Ne);if(this.consumeToken(),this.accept(r.ParenthesisL)){if(!this.accept(r.Ident))return this.finish(e,Rt.IdentifierExpected,[r.SemiColon]);do{if(!this.accept(r.Comma))break}while(this.accept(r.Ident));if(!this.accept(r.ParenthesisR))return this.finish(e,Rt.RightParenthesisExpected,[r.SemiColon])}return e.addChild(this._parseURILiteral())||e.addChild(this._parseStringLiteral())?(this.peek(r.SemiColon)||this.peek(r.EOF)||e.setMedialist(this._parseMediaQueryList()),this._completeParseImport(e)):this.finish(e,Rt.URIOrStringExpected,[r.SemiColon])}_parsePlugin(){if(!this.peekKeyword("@plugin"))return null;const e=this.createNode(te.Plugin);return this.consumeToken(),e.addChild(this._parseStringLiteral())?this.accept(r.SemiColon)?this.finish(e):this.finish(e,Rt.SemiColonExpected):this.finish(e,Rt.StringLiteralExpected)}_parseMediaQuery(){const e=super._parseMediaQuery();if(!e){const e=this.create(Ge);return e.addChild(this._parseVariable())?this.finish(e):null}return e}_parseMediaDeclaration(e=!1){return this._tryParseRuleset(e)||this._tryToParseDeclaration()||this._tryParseMixinDeclaration()||this._tryParseMixinReference()||this._parseDetachedRuleSetMixin()||this._parseStylesheetStatement(e)}_parseMediaFeatureName(){return this._parseIdent()||this._parseVariable()}_parseVariableDeclaration(e=[]){const t=this.create(dt),n=this.mark();if(!t.setVariable(this._parseVariable(!0)))return null;if(!this.accept(r.Colon))return this.restoreAtMark(n),null;if(this.prevToken&&(t.colonPosition=this.prevToken.offset),t.setValue(this._parseDetachedRuleSet()))t.needsSemicolon=!1;else if(!t.setValue(this._parseExpr()))return this.finish(t,Rt.VariableValueExpected,[],e);return t.addChild(this._parsePrio()),this.peek(r.SemiColon)&&(t.semicolonPosition=this.token.offset),this.finish(t)}_parseDetachedRuleSet(){let e=this.mark();if(this.peekDelim("#")||this.peekDelim(".")){if(this.consumeToken(),this.hasWhitespace()||!this.accept(r.ParenthesisL))return this.restoreAtMark(e),null;{let t=this.create(bt);if(t.getParameters().addChild(this._parseMixinParameter()))for(;(this.accept(r.Comma)||this.accept(r.SemiColon))&&!this.peek(r.ParenthesisR);)t.getParameters().addChild(this._parseMixinParameter())||this.markError(t,Rt.IdentifierExpected,[],[r.ParenthesisR]);if(!this.accept(r.ParenthesisR))return this.restoreAtMark(e),null}}if(!this.peek(r.CurlyL))return null;const t=this.create(he);return this._parseBody(t,this._parseDetachedRuleSetBody.bind(this)),this.finish(t)}_parseDetachedRuleSetBody(){return this._tryParseKeyframeSelector()||this._parseRuleSetDeclaration()}_addLookupChildren(e){if(!e.addChild(this._parseLookupValue()))return!1;let t=!1;for(;this.peek(r.BracketL)&&(t=!0),e.addChild(this._parseLookupValue());)t=!1;return!t}_parseLookupValue(){const e=this.create(oe),t=this.mark();return this.accept(r.BracketL)&&((e.addChild(this._parseVariable(!1,!0))||e.addChild(this._parsePropertyIdentifier()))&&this.accept(r.BracketR)||this.accept(r.BracketR))?e:(this.restoreAtMark(t),null)}_parseVariable(e=!1,t=!1){const n=!e&&this.peekDelim("$");if(!this.peekDelim("@")&&!n&&!this.peek(r.AtKeyword))return null;const i=this.create(pt),o=this.mark();for(;this.acceptDelim("@")||!e&&this.acceptDelim("$");)if(this.hasWhitespace())return this.restoreAtMark(o),null;return!this.accept(r.AtKeyword)&&!this.accept(r.Ident)||!t&&this.peek(r.BracketL)&&!this._addLookupChildren(i)?(this.restoreAtMark(o),null):i}_parseTermExpression(){return this._parseVariable()||this._parseEscaped()||super._parseTermExpression()||this._tryParseMixinReference(!1)}_parseEscaped(){if(this.peek(r.EscapedJavaScript)||this.peek(r.BadEscapedJavaScript)){const e=this.createNode(te.EscapedValue);return this.consumeToken(),this.finish(e)}if(this.peekDelim("~")){const e=this.createNode(te.EscapedValue);return this.consumeToken(),this.accept(r.String)||this.accept(r.EscapedJavaScript)?this.finish(e):this.finish(e,Rt.TermExpected)}return null}_parseOperator(){return this._parseGuardOperator()||super._parseOperator()}_parseGuardOperator(){if(this.peekDelim(">")){const e=this.createNode(te.Operator);return this.consumeToken(),this.acceptDelim("="),e}if(this.peekDelim("=")){const e=this.createNode(te.Operator);return this.consumeToken(),this.acceptDelim("<"),e}if(this.peekDelim("<")){const e=this.createNode(te.Operator);return this.consumeToken(),this.acceptDelim("="),e}return null}_parseRuleSetDeclaration(){return this.peek(r.AtKeyword)?this._parseKeyframe()||this._parseMedia(!0)||this._parseImport()||this._parseSupports(!0)||this._parseLayer()||this._parsePropertyAtRule()||this._parseDetachedRuleSetMixin()||this._parseVariableDeclaration()||this._parseRuleSetDeclarationAtStatement():this._tryParseMixinDeclaration()||this._tryParseRuleset(!0)||this._tryParseMixinReference()||this._parseFunction()||this._parseExtend()||this._parseDeclaration()}_parseKeyframeIdent(){return this._parseIdent([ne.Keyframe])||this._parseVariable()}_parseKeyframeSelector(){return this._parseDetachedRuleSetMixin()||super._parseKeyframeSelector()}_parseSelector(e){const t=this.create(ue);let n=!1;for(e&&(n=t.addChild(this._parseCombinator()));t.addChild(this._parseSimpleSelector());){n=!0;const e=this.mark();if(t.addChild(this._parseGuard())&&this.peek(r.CurlyL))break;this.restoreAtMark(e),t.addChild(this._parseCombinator())}return n?this.finish(t):null}_parseNestingSelector(){if(this.peekDelim("&")){const e=this.createNode(te.SelectorCombinator);for(this.consumeToken();!this.hasWhitespace()&&(this.acceptDelim("-")||this.accept(r.Num)||this.accept(r.Dimension)||e.addChild(this._parseIdent())||this.acceptDelim("&")););return this.finish(e)}return null}_parseSelectorIdent(){if(!this.peekInterpolatedIdent())return null;const e=this.createNode(te.SelectorInterpolation);return this._acceptInterpolatedIdent(e)?this.finish(e):null}_parsePropertyIdentifier(e=!1){const t=/^[\w-]+/;if(!this.peekInterpolatedIdent()&&!this.peekRegExp(this.token.type,t))return null;const n=this.mark(),r=this.create(ce);r.isCustomProperty=this.acceptDelim("-")&&this.acceptDelim("-");let i=!1;return i=e?r.isCustomProperty?r.addChild(this._parseIdent()):r.addChild(this._parseRegexp(t)):r.isCustomProperty?this._acceptInterpolatedIdent(r):this._acceptInterpolatedIdent(r,t),i?(e||this.hasWhitespace()||(this.acceptDelim("+"),this.hasWhitespace()||this.acceptIdent("_")),this.finish(r)):(this.restoreAtMark(n),null)}peekInterpolatedIdent(){return this.peek(r.Ident)||this.peekDelim("@")||this.peekDelim("$")||this.peekDelim("-")}_acceptInterpolatedIdent(e,t){let n=!1;const i=()=>{const e=this.mark();return this.acceptDelim("-")&&(this.hasWhitespace()||this.acceptDelim("-"),this.hasWhitespace())?(this.restoreAtMark(e),null):this._parseInterpolation()},o=t?()=>this.acceptRegexp(t):()=>this.accept(r.Ident);for(;(o()||e.addChild(this._parseInterpolation()||this.try(i)))&&(n=!0,!this.hasWhitespace()););return n}_parseInterpolation(){const e=this.mark();if(this.peekDelim("@")||this.peekDelim("$")){const t=this.createNode(te.Interpolation);return this.consumeToken(),this.hasWhitespace()||!this.accept(r.CurlyL)?(this.restoreAtMark(e),null):t.addChild(this._parseIdent())?this.accept(r.CurlyR)?this.finish(t):this.finish(t,Rt.RightCurlyExpected):this.finish(t,Rt.IdentifierExpected)}return null}_tryParseMixinDeclaration(){const e=this.mark(),t=this.create(bt);if(!t.setIdentifier(this._parseMixinDeclarationIdentifier())||!this.accept(r.ParenthesisL))return this.restoreAtMark(e),null;if(t.getParameters().addChild(this._parseMixinParameter()))for(;(this.accept(r.Comma)||this.accept(r.SemiColon))&&!this.peek(r.ParenthesisR);)t.getParameters().addChild(this._parseMixinParameter())||this.markError(t,Rt.IdentifierExpected,[],[r.ParenthesisR]);return this.accept(r.ParenthesisR)?(t.setGuard(this._parseGuard()),this.peek(r.CurlyL)?this._parseBody(t,this._parseMixInBodyDeclaration.bind(this)):(this.restoreAtMark(e),null)):(this.restoreAtMark(e),null)}_parseMixInBodyDeclaration(){return this._parseFontFace()||this._parseRuleSetDeclaration()}_parseMixinDeclarationIdentifier(){let e;if(this.peekDelim("#")||this.peekDelim(".")){if(e=this.create(ce),this.consumeToken(),this.hasWhitespace()||!e.addChild(this._parseIdent()))return null}else{if(!this.peek(r.Hash))return null;e=this.create(ce),this.consumeToken()}return e.referenceTypes=[ne.Mixin],this.finish(e)}_parsePseudo(){if(!this.peek(r.Colon))return null;const e=this.mark(),t=this.create(ut);return this.consumeToken(),this.acceptIdent("extend")?this._completeExtends(t):(this.restoreAtMark(e),super._parsePseudo())}_parseExtend(){if(!this.peekDelim("&"))return null;const e=this.mark(),t=this.create(ut);return this.consumeToken(),!this.hasWhitespace()&&this.accept(r.Colon)&&this.acceptIdent("extend")?this._completeExtends(t):(this.restoreAtMark(e),null)}_completeExtends(e){if(!this.accept(r.ParenthesisL))return this.finish(e,Rt.LeftParenthesisExpected);const t=e.getSelectors();if(!t.addChild(this._parseSelector(!0)))return this.finish(e,Rt.SelectorExpected);for(;this.accept(r.Comma);)if(!t.addChild(this._parseSelector(!0)))return this.finish(e,Rt.SelectorExpected);return this.accept(r.ParenthesisR)?this.finish(e):this.finish(e,Rt.RightParenthesisExpected)}_parseDetachedRuleSetMixin(){if(!this.peek(r.AtKeyword))return null;const e=this.mark(),t=this.create(gt);return!t.addChild(this._parseVariable(!0))||!this.hasWhitespace()&&this.accept(r.ParenthesisL)?this.accept(r.ParenthesisR)?this.finish(t):this.finish(t,Rt.RightParenthesisExpected):(this.restoreAtMark(e),null)}_tryParseMixinReference(e=!0){const t=this.mark(),n=this.create(gt);let i=this._parseMixinDeclarationIdentifier();for(;i;){this.acceptDelim(">");const e=this._parseMixinDeclarationIdentifier();if(!e)break;n.getNamespaces().addChild(i),i=e}if(!n.setIdentifier(i))return this.restoreAtMark(t),null;let o=!1;if(this.accept(r.ParenthesisL)){if(o=!0,n.getArguments().addChild(this._parseMixinArgument()))for(;(this.accept(r.Comma)||this.accept(r.SemiColon))&&!this.peek(r.ParenthesisR);)if(!n.getArguments().addChild(this._parseMixinArgument()))return this.finish(n,Rt.ExpressionExpected);if(!this.accept(r.ParenthesisR))return this.finish(n,Rt.RightParenthesisExpected);i.referenceTypes=[ne.Mixin]}else i.referenceTypes=[ne.Mixin,ne.Rule];return this.peek(r.BracketL)?e||this._addLookupChildren(n):n.addChild(this._parsePrio()),o||this.peek(r.SemiColon)||this.peek(r.CurlyR)||this.peek(r.EOF)?this.finish(n):(this.restoreAtMark(t),null)}_parseMixinArgument(){const e=this.create(Ce),t=this.mark(),n=this._parseVariable();return n&&(this.accept(r.Colon)?e.setIdentifier(n):this.restoreAtMark(t)),e.setValue(this._parseDetachedRuleSet()||this._parseExpr(!0))?this.finish(e):(this.restoreAtMark(t),null)}_parseMixinParameter(){const e=this.create(Se);if(this.peekKeyword("@rest")){const t=this.create(oe);return this.consumeToken(),this.accept(Vo)?(e.setIdentifier(this.finish(t)),this.finish(e)):this.finish(e,Rt.DotExpected,[],[r.Comma,r.ParenthesisR])}if(this.peek(Vo)){const t=this.create(oe);return this.consumeToken(),e.setIdentifier(this.finish(t)),this.finish(e)}let t=!1;return e.setIdentifier(this._parseVariable())&&(this.accept(r.Colon),t=!0),e.setDefaultValue(this._parseDetachedRuleSet()||this._parseExpr(!0))||t?this.finish(e):null}_parseGuard(){if(!this.peekIdent("when"))return null;const e=this.create(wt);if(this.consumeToken(),!e.getConditions().addChild(this._parseGuardCondition()))return this.finish(e,Rt.ConditionExpected);for(;this.acceptIdent("and")||this.accept(r.Comma);)if(!e.getConditions().addChild(this._parseGuardCondition()))return this.finish(e,Rt.ConditionExpected);return this.finish(e)}_parseGuardCondition(){const e=this.create(xt);return e.isNegated=this.acceptIdent("not"),this.accept(r.ParenthesisL)?(e.addChild(this._parseExpr()),this.accept(r.ParenthesisR)?this.finish(e):this.finish(e,Rt.RightParenthesisExpected)):e.isNegated?this.finish(e,Rt.LeftParenthesisExpected):null}_parseFunction(){const e=this.mark(),t=this.create(xe);if(!t.setIdentifier(this._parseFunctionIdentifier()))return null;if(this.hasWhitespace()||!this.accept(r.ParenthesisL))return this.restoreAtMark(e),null;if(t.getArguments().addChild(this._parseMixinArgument()))for(;(this.accept(r.Comma)||this.accept(r.SemiColon))&&!this.peek(r.ParenthesisR);)if(!t.getArguments().addChild(this._parseMixinArgument()))return this.finish(t,Rt.ExpressionExpected);return this.accept(r.ParenthesisR)?this.finish(t):this.finish(t,Rt.RightParenthesisExpected)}_parseFunctionIdentifier(){if(this.peekDelim("%")){const e=this.create(ce);return e.referenceTypes=[ne.Function],this.consumeToken(),this.finish(e)}return super._parseFunctionIdentifier()}_parseURLArgument(){const e=this.mark(),t=super._parseURLArgument();if(!t||!this.peek(r.ParenthesisR)){this.restoreAtMark(e);const t=this.create(oe);return t.addChild(this._parseBinaryExpr()),this.finish(t)}return t}}class Ho extends yi{constructor(e,t){super("@",e,t)}createFunctionProposals(e,t,n,r){for(const i of e){const e={label:i.name,detail:i.example,documentation:i.description,textEdit:Gt.replace(this.getCompletionRange(t),i.name+"($0)"),insertTextFormat:hn.Snippet,kind:dn.Function};n&&(e.sortText="z"),r.items.push(e)}return r}getTermProposals(e,t,n){let r=Ho.builtInProposals;return e&&(r=r.filter((t=>!t.type||!e.restrictions||-1!==e.restrictions.indexOf(t.type)))),this.createFunctionProposals(r,t,!0,n),super.getTermProposals(e,t,n)}getColorProposals(e,t,n){return this.createFunctionProposals(Ho.colorProposals,t,!1,n),super.getColorProposals(e,t,n)}getCompletionsForDeclarationProperty(e,t){return this.getCompletionsForSelector(null,!0,t),super.getCompletionsForDeclarationProperty(e,t)}}function Go(e,t){return function(e,t){const n=t&&t.rangeLimit||Number.MAX_VALUE,r=e.sort(((e,t)=>{let n=e.startLine-t.startLine;return 0===n&&(n=e.endLine-t.endLine),n})),i=[];let o=-1;return r.forEach((e=>{e.startLine<o&&o<e.endLine||(i.push(e),o=e.endLine)})),i.length<n?i:i.slice(0,n)}(function(e){function t(t){return e.positionAt(t.offset).line}function n(t){return e.positionAt(t.offset+t.len).line}function i(e,r){const i=t(e),o=n(e);return i!==o?{startLine:i,endLine:o,kind:r}:null}const o=[],s=[],a=function(){switch(e.languageId){case"scss":return new To;case"less":return new Bo;default:return new X}}();a.ignoreComment=!1,a.setSource(e.getText());let c=a.scan(),l=null;for(;c.type!==r.EOF;){switch(c.type){case r.CurlyL:case ko:s.push({line:t(c),type:"brace",isStart:!0});break;case r.CurlyR:if(0!==s.length){const e=Jo(s,"brace");if(!e)break;let t=n(c);"brace"===e.type&&(l&&n(l)!==t&&t--,e.line!==t&&o.push({startLine:e.line,endLine:t,kind:void 0}))}break;case r.Comment:{const r=e=>"#region"===e?{line:t(c),type:"comment",isStart:!0}:{line:n(c),type:"comment",isStart:!1},a=(t=>{const n=t.text.match(/^\s*\/\*\s*(#region|#endregion)\b\s*(.*?)\s*\*\//);if(n)return r(n[1]);if("scss"===e.languageId||"less"===e.languageId){const e=t.text.match(/^\s*\/\/\s*(#region|#endregion)\b\s*(.*?)\s*/);if(e)return r(e[1])}return null})(c);if(a)if(a.isStart)s.push(a);else{const e=Jo(s,"comment");if(!e)break;"comment"===e.type&&e.line!==a.line&&o.push({startLine:e.line,endLine:a.line,kind:"region"})}else{const e=i(c,"comment");e&&o.push(e)}break}}l=c,c=a.scan()}return o}(e),t)}function Jo(e,t){if(0===e.length)return null;for(let n=e.length-1;n>=0;n--)if(e[n].type===t&&e[n].isStart)return e.splice(n,1)[0];return null}var Xo;Ho.builtInProposals=[{name:"if",example:"if(condition, trueValue [, falseValue]);",description:Et.t("returns one of two values depending on a condition.")},{name:"boolean",example:"boolean(condition);",description:Et.t('"store" a boolean test for later evaluation in a guard or if().')},{name:"length",example:"length(@list);",description:Et.t("returns the number of elements in a value list")},{name:"extract",example:"extract(@list, index);",description:Et.t("returns a value at the specified position in the list")},{name:"range",example:"range([start, ] end [, step]);",description:Et.t("generate a list spanning a range of values")},{name:"each",example:"each(@list, ruleset);",description:Et.t("bind the evaluation of a ruleset to each member of a list.")},{name:"escape",example:"escape(@string);",description:Et.t("URL encodes a string")},{name:"e",example:"e(@string);",description:Et.t("escape string content")},{name:"replace",example:"replace(@string, @pattern, @replacement[, @flags]);",description:Et.t("string replace")},{name:"unit",example:"unit(@dimension, [@unit: '']);",description:Et.t("remove or change the unit of a dimension")},{name:"color",example:"color(@string);",description:Et.t("parses a string to a color"),type:"color"},{name:"convert",example:"convert(@value, unit);",description:Et.t("converts numbers from one type into another")},{name:"data-uri",example:"data-uri([mimetype,] url);",description:Et.t("inlines a resource and falls back to `url()`"),type:"url"},{name:"abs",description:Et.t("absolute value of a number"),example:"abs(number);"},{name:"acos",description:Et.t("arccosine - inverse of cosine function"),example:"acos(number);"},{name:"asin",description:Et.t("arcsine - inverse of sine function"),example:"asin(number);"},{name:"ceil",example:"ceil(@number);",description:Et.t("rounds up to an integer")},{name:"cos",description:Et.t("cosine function"),example:"cos(number);"},{name:"floor",description:Et.t("rounds down to an integer"),example:"floor(@number);"},{name:"percentage",description:Et.t("converts to a %, e.g. 0.5 > 50%"),example:"percentage(@number);",type:"percentage"},{name:"round",description:Et.t("rounds a number to a number of places"),example:"round(number, [places: 0]);"},{name:"sqrt",description:Et.t("calculates square root of a number"),example:"sqrt(number);"},{name:"sin",description:Et.t("sine function"),example:"sin(number);"},{name:"tan",description:Et.t("tangent function"),example:"tan(number);"},{name:"atan",description:Et.t("arctangent - inverse of tangent function"),example:"atan(number);"},{name:"pi",description:Et.t("returns pi"),example:"pi();"},{name:"pow",description:Et.t("first argument raised to the power of the second argument"),example:"pow(@base, @exponent);"},{name:"mod",description:Et.t("first argument modulus second argument"),example:"mod(number, number);"},{name:"min",description:Et.t("returns the lowest of one or more values"),example:"min(@x, @y);"},{name:"max",description:Et.t("returns the lowest of one or more values"),example:"max(@x, @y);"}],Ho.colorProposals=[{name:"argb",example:"argb(@color);",description:Et.t("creates a #AARRGGBB")},{name:"hsl",example:"hsl(@hue, @saturation, @lightness);",description:Et.t("creates a color")},{name:"hsla",example:"hsla(@hue, @saturation, @lightness, @alpha);",description:Et.t("creates a color")},{name:"hsv",example:"hsv(@hue, @saturation, @value);",description:Et.t("creates a color")},{name:"hsva",example:"hsva(@hue, @saturation, @value, @alpha);",description:Et.t("creates a color")},{name:"hue",example:"hue(@color);",description:Et.t("returns the `hue` channel of `@color` in the HSL space")},{name:"saturation",example:"saturation(@color);",description:Et.t("returns the `saturation` channel of `@color` in the HSL space")},{name:"lightness",example:"lightness(@color);",description:Et.t("returns the `lightness` channel of `@color` in the HSL space")},{name:"hsvhue",example:"hsvhue(@color);",description:Et.t("returns the `hue` channel of `@color` in the HSV space")},{name:"hsvsaturation",example:"hsvsaturation(@color);",description:Et.t("returns the `saturation` channel of `@color` in the HSV space")},{name:"hsvvalue",example:"hsvvalue(@color);",description:Et.t("returns the `value` channel of `@color` in the HSV space")},{name:"red",example:"red(@color);",description:Et.t("returns the `red` channel of `@color`")},{name:"green",example:"green(@color);",description:Et.t("returns the `green` channel of `@color`")},{name:"blue",example:"blue(@color);",description:Et.t("returns the `blue` channel of `@color`")},{name:"alpha",example:"alpha(@color);",description:Et.t("returns the `alpha` channel of `@color`")},{name:"luma",example:"luma(@color);",description:Et.t("returns the `luma` value (perceptual brightness) of `@color`")},{name:"saturate",example:"saturate(@color, 10%);",description:Et.t("return `@color` 10% points more saturated")},{name:"desaturate",example:"desaturate(@color, 10%);",description:Et.t("return `@color` 10% points less saturated")},{name:"lighten",example:"lighten(@color, 10%);",description:Et.t("return `@color` 10% points lighter")},{name:"darken",example:"darken(@color, 10%);",description:Et.t("return `@color` 10% points darker")},{name:"fadein",example:"fadein(@color, 10%);",description:Et.t("return `@color` 10% points less transparent")},{name:"fadeout",example:"fadeout(@color, 10%);",description:Et.t("return `@color` 10% points more transparent")},{name:"fade",example:"fade(@color, 50%);",description:Et.t("return `@color` with 50% transparency")},{name:"spin",example:"spin(@color, 10);",description:Et.t("return `@color` with a 10 degree larger in hue")},{name:"mix",example:"mix(@color1, @color2, [@weight: 50%]);",description:Et.t("return a mix of `@color1` and `@color2`")},{name:"greyscale",example:"greyscale(@color);",description:Et.t("returns a grey, 100% desaturated color")},{name:"contrast",example:"contrast(@color1, [@darkcolor: black], [@lightcolor: white], [@threshold: 43%]);",description:Et.t("return `@darkcolor` if `@color1 is> 43% luma` otherwise return `@lightcolor`, see notes")},{name:"multiply",example:"multiply(@color1, @color2);"},{name:"screen",example:"screen(@color1, @color2);"},{name:"overlay",example:"overlay(@color1, @color2);"},{name:"softlight",example:"softlight(@color1, @color2);"},{name:"hardlight",example:"hardlight(@color1, @color2);"},{name:"difference",example:"difference(@color1, @color2);"},{name:"exclusion",example:"exclusion(@color1, @color2);"},{name:"average",example:"average(@color1, @color2);"},{name:"negation",example:"negation(@color1, @color2);"}],function(){var e=[,,function(e){function t(e){this.__parent=e,this.__character_count=0,this.__indent_count=-1,this.__alignment_count=0,this.__wrap_point_index=0,this.__wrap_point_character_count=0,this.__wrap_point_indent_count=-1,this.__wrap_point_alignment_count=0,this.__items=[]}function n(e,t){this.__cache=[""],this.__indent_size=e.indent_size,this.__indent_string=e.indent_char,e.indent_with_tabs||(this.__indent_string=new Array(e.indent_size+1).join(e.indent_char)),t=t||"",e.indent_level>0&&(t=new Array(e.indent_level+1).join(this.__indent_string)),this.__base_string=t,this.__base_string_length=t.length}function r(e,r){this.__indent_cache=new n(e,r),this.raw=!1,this._end_with_newline=e.end_with_newline,this.indent_size=e.indent_size,this.wrap_line_length=e.wrap_line_length,this.indent_empty_lines=e.indent_empty_lines,this.__lines=[],this.previous_line=null,this.current_line=null,this.next_line=new t(this),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1,this.__add_outputline()}t.prototype.clone_empty=function(){var e=new t(this.__parent);return e.set_indent(this.__indent_count,this.__alignment_count),e},t.prototype.item=function(e){return e<0?this.__items[this.__items.length+e]:this.__items[e]},t.prototype.has_match=function(e){for(var t=this.__items.length-1;t>=0;t--)if(this.__items[t].match(e))return!0;return!1},t.prototype.set_indent=function(e,t){this.is_empty()&&(this.__indent_count=e||0,this.__alignment_count=t||0,this.__character_count=this.__parent.get_indent_size(this.__indent_count,this.__alignment_count))},t.prototype._set_wrap_point=function(){this.__parent.wrap_line_length&&(this.__wrap_point_index=this.__items.length,this.__wrap_point_character_count=this.__character_count,this.__wrap_point_indent_count=this.__parent.next_line.__indent_count,this.__wrap_point_alignment_count=this.__parent.next_line.__alignment_count)},t.prototype._should_wrap=function(){return this.__wrap_point_index&&this.__character_count>this.__parent.wrap_line_length&&this.__wrap_point_character_count>this.__parent.next_line.__character_count},t.prototype._allow_wrap=function(){if(this._should_wrap()){this.__parent.add_new_line();var e=this.__parent.current_line;return e.set_indent(this.__wrap_point_indent_count,this.__wrap_point_alignment_count),e.__items=this.__items.slice(this.__wrap_point_index),this.__items=this.__items.slice(0,this.__wrap_point_index),e.__character_count+=this.__character_count-this.__wrap_point_character_count,this.__character_count=this.__wrap_point_character_count," "===e.__items[0]&&(e.__items.splice(0,1),e.__character_count-=1),!0}return!1},t.prototype.is_empty=function(){return 0===this.__items.length},t.prototype.last=function(){return this.is_empty()?null:this.__items[this.__items.length-1]},t.prototype.push=function(e){this.__items.push(e);var t=e.lastIndexOf("\n");-1!==t?this.__character_count=e.length-t:this.__character_count+=e.length},t.prototype.pop=function(){var e=null;return this.is_empty()||(e=this.__items.pop(),this.__character_count-=e.length),e},t.prototype._remove_indent=function(){this.__indent_count>0&&(this.__indent_count-=1,this.__character_count-=this.__parent.indent_size)},t.prototype._remove_wrap_indent=function(){this.__wrap_point_indent_count>0&&(this.__wrap_point_indent_count-=1)},t.prototype.trim=function(){for(;" "===this.last();)this.__items.pop(),this.__character_count-=1},t.prototype.toString=function(){var e="";return this.is_empty()?this.__parent.indent_empty_lines&&(e=this.__parent.get_indent_string(this.__indent_count)):(e=this.__parent.get_indent_string(this.__indent_count,this.__alignment_count),e+=this.__items.join("")),e},n.prototype.get_indent_size=function(e,t){var n=this.__base_string_length;return t=t||0,e<0&&(n=0),(n+=e*this.__indent_size)+t},n.prototype.get_indent_string=function(e,t){var n=this.__base_string;return t=t||0,e<0&&(e=0,n=""),t+=e*this.__indent_size,this.__ensure_cache(t),n+this.__cache[t]},n.prototype.__ensure_cache=function(e){for(;e>=this.__cache.length;)this.__add_column()},n.prototype.__add_column=function(){var e=this.__cache.length,t=0,n="";this.__indent_size&&e>=this.__indent_size&&(e-=(t=Math.floor(e/this.__indent_size))*this.__indent_size,n=new Array(t+1).join(this.__indent_string)),e&&(n+=new Array(e+1).join(" ")),this.__cache.push(n)},r.prototype.__add_outputline=function(){this.previous_line=this.current_line,this.current_line=this.next_line.clone_empty(),this.__lines.push(this.current_line)},r.prototype.get_line_number=function(){return this.__lines.length},r.prototype.get_indent_string=function(e,t){return this.__indent_cache.get_indent_string(e,t)},r.prototype.get_indent_size=function(e,t){return this.__indent_cache.get_indent_size(e,t)},r.prototype.is_empty=function(){return!this.previous_line&&this.current_line.is_empty()},r.prototype.add_new_line=function(e){return!(this.is_empty()||!e&&this.just_added_newline()||(this.raw||this.__add_outputline(),0))},r.prototype.get_code=function(e){this.trim(!0);var t=this.current_line.pop();t&&("\n"===t[t.length-1]&&(t=t.replace(/\n+$/g,"")),this.current_line.push(t)),this._end_with_newline&&this.__add_outputline();var n=this.__lines.join("\n");return"\n"!==e&&(n=n.replace(/[\n]/g,e)),n},r.prototype.set_wrap_point=function(){this.current_line._set_wrap_point()},r.prototype.set_indent=function(e,t){return e=e||0,t=t||0,this.next_line.set_indent(e,t),this.__lines.length>1?(this.current_line.set_indent(e,t),!0):(this.current_line.set_indent(),!1)},r.prototype.add_raw_token=function(e){for(var t=0;t<e.newlines;t++)this.__add_outputline();this.current_line.set_indent(-1),this.current_line.push(e.whitespace_before),this.current_line.push(e.text),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1},r.prototype.add_token=function(e){this.__add_space_before_token(),this.current_line.push(e),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=this.current_line._allow_wrap()},r.prototype.__add_space_before_token=function(){this.space_before_token&&!this.just_added_newline()&&(this.non_breaking_space||this.set_wrap_point(),this.current_line.push(" "))},r.prototype.remove_indent=function(e){for(var t=this.__lines.length;e<t;)this.__lines[e]._remove_indent(),e++;this.current_line._remove_wrap_indent()},r.prototype.trim=function(e){for(e=void 0!==e&&e,this.current_line.trim();e&&this.__lines.length>1&&this.current_line.is_empty();)this.__lines.pop(),this.current_line=this.__lines[this.__lines.length-1],this.current_line.trim();this.previous_line=this.__lines.length>1?this.__lines[this.__lines.length-2]:null},r.prototype.just_added_newline=function(){return this.current_line.is_empty()},r.prototype.just_added_blankline=function(){return this.is_empty()||this.current_line.is_empty()&&this.previous_line.is_empty()},r.prototype.ensure_empty_line_above=function(e,n){for(var r=this.__lines.length-2;r>=0;){var i=this.__lines[r];if(i.is_empty())break;if(0!==i.item(0).indexOf(e)&&i.item(-1)!==n){this.__lines.splice(r+1,0,new t(this)),this.previous_line=this.__lines[this.__lines.length-2];break}r--}},e.exports.Output=r},,,,function(e){function t(e,t){this.raw_options=n(e,t),this.disabled=this._get_boolean("disabled"),this.eol=this._get_characters("eol","auto"),this.end_with_newline=this._get_boolean("end_with_newline"),this.indent_size=this._get_number("indent_size",4),this.indent_char=this._get_characters("indent_char"," "),this.indent_level=this._get_number("indent_level"),this.preserve_newlines=this._get_boolean("preserve_newlines",!0),this.max_preserve_newlines=this._get_number("max_preserve_newlines",32786),this.preserve_newlines||(this.max_preserve_newlines=0),this.indent_with_tabs=this._get_boolean("indent_with_tabs","\t"===this.indent_char),this.indent_with_tabs&&(this.indent_char="\t",1===this.indent_size&&(this.indent_size=4)),this.wrap_line_length=this._get_number("wrap_line_length",this._get_number("max_char")),this.indent_empty_lines=this._get_boolean("indent_empty_lines"),this.templating=this._get_selection_list("templating",["auto","none","django","erb","handlebars","php","smarty"],["auto"])}function n(e,t){var n,i={};for(n in e=r(e))n!==t&&(i[n]=e[n]);if(t&&e[t])for(n in e[t])i[n]=e[t][n];return i}function r(e){var t,n={};for(t in e)n[t.replace(/-/g,"_")]=e[t];return n}t.prototype._get_array=function(e,t){var n=this.raw_options[e],r=t||[];return"object"==typeof n?null!==n&&"function"==typeof n.concat&&(r=n.concat()):"string"==typeof n&&(r=n.split(/[^a-zA-Z0-9_\/\-]+/)),r},t.prototype._get_boolean=function(e,t){var n=this.raw_options[e];return void 0===n?!!t:!!n},t.prototype._get_characters=function(e,t){var n=this.raw_options[e],r=t||"";return"string"==typeof n&&(r=n.replace(/\\r/,"\r").replace(/\\n/,"\n").replace(/\\t/,"\t")),r},t.prototype._get_number=function(e,t){var n=this.raw_options[e];t=parseInt(t,10),isNaN(t)&&(t=0);var r=parseInt(n,10);return isNaN(r)&&(r=t),r},t.prototype._get_selection=function(e,t,n){var r=this._get_selection_list(e,t,n);if(1!==r.length)throw new Error("Invalid Option Value: The option '"+e+"' can only be one of the following values:\n"+t+"\nYou passed in: '"+this.raw_options[e]+"'");return r[0]},t.prototype._get_selection_list=function(e,t,n){if(!t||0===t.length)throw new Error("Selection list cannot be empty.");if(n=n||[t[0]],!this._is_valid_selection(n,t))throw new Error("Invalid Default Value!");var r=this._get_array(e,n);if(!this._is_valid_selection(r,t))throw new Error("Invalid Option Value: The option '"+e+"' can contain only the following values:\n"+t+"\nYou passed in: '"+this.raw_options[e]+"'");return r},t.prototype._is_valid_selection=function(e,t){return e.length&&t.length&&!e.some((function(e){return-1===t.indexOf(e)}))},e.exports.Options=t,e.exports.normalizeOpts=r,e.exports.mergeOpts=n},,function(e){var t=RegExp.prototype.hasOwnProperty("sticky");function n(e){this.__input=e||"",this.__input_length=this.__input.length,this.__position=0}n.prototype.restart=function(){this.__position=0},n.prototype.back=function(){this.__position>0&&(this.__position-=1)},n.prototype.hasNext=function(){return this.__position<this.__input_length},n.prototype.next=function(){var e=null;return this.hasNext()&&(e=this.__input.charAt(this.__position),this.__position+=1),e},n.prototype.peek=function(e){var t=null;return e=e||0,(e+=this.__position)>=0&&e<this.__input_length&&(t=this.__input.charAt(e)),t},n.prototype.__match=function(e,n){e.lastIndex=n;var r=e.exec(this.__input);return!r||t&&e.sticky||r.index!==n&&(r=null),r},n.prototype.test=function(e,t){return t=t||0,(t+=this.__position)>=0&&t<this.__input_length&&!!this.__match(e,t)},n.prototype.testChar=function(e,t){var n=this.peek(t);return e.lastIndex=0,null!==n&&e.test(n)},n.prototype.match=function(e){var t=this.__match(e,this.__position);return t?this.__position+=t[0].length:t=null,t},n.prototype.read=function(e,t,n){var r,i="";return e&&(r=this.match(e))&&(i+=r[0]),!t||!r&&e||(i+=this.readUntil(t,n)),i},n.prototype.readUntil=function(e,t){var n,r=this.__position;e.lastIndex=this.__position;var i=e.exec(this.__input);return i?(r=i.index,t&&(r+=i[0].length)):r=this.__input_length,n=this.__input.substring(this.__position,r),this.__position=r,n},n.prototype.readUntilAfter=function(e){return this.readUntil(e,!0)},n.prototype.get_regexp=function(e,n){var r=null,i="g";return n&&t&&(i="y"),"string"==typeof e&&""!==e?r=new RegExp(e,i):e&&(r=new RegExp(e.source,i)),r},n.prototype.get_literal_regexp=function(e){return RegExp(e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"))},n.prototype.peekUntilAfter=function(e){var t=this.__position,n=this.readUntilAfter(e);return this.__position=t,n},n.prototype.lookBack=function(e){var t=this.__position-1;return t>=e.length&&this.__input.substring(t-e.length,t).toLowerCase()===e},e.exports.InputScanner=n},,,,,function(e){function t(e,t){e="string"==typeof e?e:e.source,t="string"==typeof t?t:t.source,this.__directives_block_pattern=new RegExp(e+/ beautify( \w+[:]\w+)+ /.source+t,"g"),this.__directive_pattern=/ (\w+)[:](\w+)/g,this.__directives_end_ignore_pattern=new RegExp(e+/\sbeautify\signore:end\s/.source+t,"g")}t.prototype.get_directives=function(e){if(!e.match(this.__directives_block_pattern))return null;var t={};this.__directive_pattern.lastIndex=0;for(var n=this.__directive_pattern.exec(e);n;)t[n[1]]=n[2],n=this.__directive_pattern.exec(e);return t},t.prototype.readIgnored=function(e){return e.readUntilAfter(this.__directives_end_ignore_pattern)},e.exports.Directives=t},,function(e,t,n){var r=n(16).Beautifier,i=n(17).Options;e.exports=function(e,t){return new r(e,t).beautify()},e.exports.defaultOptions=function(){return new i}},function(e,t,n){var r=n(17).Options,i=n(2).Output,o=n(8).InputScanner,s=new(0,n(13).Directives)(/\/\*/,/\*\//),a=/\r\n|[\r\n]/,c=/\r\n|[\r\n]/g,l=/\s/,d=/(?:\s|\n)+/g,h=/\/\*(?:[\s\S]*?)((?:\*\/)|$)/g,p=/\/\/(?:[^\n\r\u2028\u2029]*)/g;function u(e,t){this._source_text=e||"",this._options=new r(t),this._ch=null,this._input=null,this.NESTED_AT_RULE={page:!0,"font-face":!0,keyframes:!0,media:!0,supports:!0,document:!0},this.CONDITIONAL_GROUP_RULE={media:!0,supports:!0,document:!0},this.NON_SEMICOLON_NEWLINE_PROPERTY=["grid-template-areas","grid-template"]}u.prototype.eatString=function(e){var t="";for(this._ch=this._input.next();this._ch;){if(t+=this._ch,"\\"===this._ch)t+=this._input.next();else if(-1!==e.indexOf(this._ch)||"\n"===this._ch)break;this._ch=this._input.next()}return t},u.prototype.eatWhitespace=function(e){for(var t=l.test(this._input.peek()),n=0;l.test(this._input.peek());)this._ch=this._input.next(),e&&"\n"===this._ch&&(0===n||n<this._options.max_preserve_newlines)&&(n++,this._output.add_new_line(!0));return t},u.prototype.foundNestedPseudoClass=function(){for(var e=0,t=1,n=this._input.peek(t);n;){if("{"===n)return!0;if("("===n)e+=1;else if(")"===n){if(0===e)return!1;e-=1}else if(";"===n||"}"===n)return!1;t++,n=this._input.peek(t)}return!1},u.prototype.print_string=function(e){this._output.set_indent(this._indentLevel),this._output.non_breaking_space=!0,this._output.add_token(e)},u.prototype.preserveSingleSpace=function(e){e&&(this._output.space_before_token=!0)},u.prototype.indent=function(){this._indentLevel++},u.prototype.outdent=function(){this._indentLevel>0&&this._indentLevel--},u.prototype.beautify=function(){if(this._options.disabled)return this._source_text;var e=this._source_text,t=this._options.eol;"auto"===t&&(t="\n",e&&a.test(e||"")&&(t=e.match(a)[0]));var n=(e=e.replace(c,"\n")).match(/^[\t ]*/)[0];this._output=new i(this._options,n),this._input=new o(e),this._indentLevel=0,this._nestedLevel=0,this._ch=null;for(var r,u,m=0,f=!1,g=!1,b=!1,y=!1,v=!1,w=this._ch,x=!1;r=""!==this._input.read(d),u=w,this._ch=this._input.next(),"\\"===this._ch&&this._input.hasNext()&&(this._ch+=this._input.next()),w=this._ch,this._ch;)if("/"===this._ch&&"*"===this._input.peek()){this._output.add_new_line(),this._input.back();var S=this._input.read(h),C=s.get_directives(S);C&&"start"===C.ignore&&(S+=s.readIgnored(this._input)),this.print_string(S),this.eatWhitespace(!0),this._output.add_new_line()}else if("/"===this._ch&&"/"===this._input.peek())this._output.space_before_token=!0,this._input.back(),this.print_string(this._input.read(p)),this.eatWhitespace(!0);else if("$"===this._ch){this.preserveSingleSpace(r),this.print_string(this._ch);var k=this._input.peekUntilAfter(/[: ,;{}()[\]\/='"]/g);k.match(/[ :]$/)&&(k=this.eatString(": ").replace(/\s+$/,""),this.print_string(k),this._output.space_before_token=!0),0===m&&-1!==k.indexOf(":")&&(g=!0,this.indent())}else if("@"===this._ch)if(this.preserveSingleSpace(r),"{"===this._input.peek())this.print_string(this._ch+this.eatString("}"));else{this.print_string(this._ch);var _=this._input.peekUntilAfter(/[: ,;{}()[\]\/='"]/g);_.match(/[ :]$/)&&(_=this.eatString(": ").replace(/\s+$/,""),this.print_string(_),this._output.space_before_token=!0),0===m&&-1!==_.indexOf(":")?(g=!0,this.indent()):_ in this.NESTED_AT_RULE?(this._nestedLevel+=1,_ in this.CONDITIONAL_GROUP_RULE&&(b=!0)):0!==m||g||(y=!0)}else if("#"===this._ch&&"{"===this._input.peek())this.preserveSingleSpace(r),this.print_string(this._ch+this.eatString("}"));else if("{"===this._ch)g&&(g=!1,this.outdent()),y=!1,b?(b=!1,f=this._indentLevel>=this._nestedLevel):f=this._indentLevel>=this._nestedLevel-1,this._options.newline_between_rules&&f&&this._output.previous_line&&"{"!==this._output.previous_line.item(-1)&&this._output.ensure_empty_line_above("/",","),this._output.space_before_token=!0,"expand"===this._options.brace_style?(this._output.add_new_line(),this.print_string(this._ch),this.indent(),this._output.set_indent(this._indentLevel)):("("===u?this._output.space_before_token=!1:","!==u&&this.indent(),this.print_string(this._ch)),this.eatWhitespace(!0),this._output.add_new_line();else if("}"===this._ch)this.outdent(),this._output.add_new_line(),"{"===u&&this._output.trim(!0),g&&(this.outdent(),g=!1),this.print_string(this._ch),f=!1,this._nestedLevel&&this._nestedLevel--,this.eatWhitespace(!0),this._output.add_new_line(),this._options.newline_between_rules&&!this._output.just_added_blankline()&&"}"!==this._input.peek()&&this._output.add_new_line(!0),")"===this._input.peek()&&(this._output.trim(!0),"expand"===this._options.brace_style&&this._output.add_new_line(!0));else if(":"===this._ch){for(var E=0;E<this.NON_SEMICOLON_NEWLINE_PROPERTY.length;E++)if(this._input.lookBack(this.NON_SEMICOLON_NEWLINE_PROPERTY[E])){x=!0;break}!f&&!b||this._input.lookBack("&")||this.foundNestedPseudoClass()||this._input.lookBack("(")||y||0!==m?(this._input.lookBack(" ")&&(this._output.space_before_token=!0),":"===this._input.peek()?(this._ch=this._input.next(),this.print_string("::")):this.print_string(":")):(this.print_string(":"),g||(g=!0,this._output.space_before_token=!0,this.eatWhitespace(!0),this.indent()))}else if('"'===this._ch||"'"===this._ch){var F='"'===u||"'"===u;this.preserveSingleSpace(F||r),this.print_string(this._ch+this.eatString(this._ch)),this.eatWhitespace(!0)}else if(";"===this._ch)x=!1,0===m?(g&&(this.outdent(),g=!1),y=!1,this.print_string(this._ch),this.eatWhitespace(!0),"/"!==this._input.peek()&&this._output.add_new_line()):(this.print_string(this._ch),this.eatWhitespace(!0),this._output.space_before_token=!0);else if("("===this._ch)if(this._input.lookBack("url"))this.print_string(this._ch),this.eatWhitespace(),m++,this.indent(),this._ch=this._input.next(),")"===this._ch||'"'===this._ch||"'"===this._ch?this._input.back():this._ch&&(this.print_string(this._ch+this.eatString(")")),m&&(m--,this.outdent()));else{var R=!1;this._input.lookBack("with")&&(R=!0),this.preserveSingleSpace(r||R),this.print_string(this._ch),g&&"$"===u&&this._options.selector_separator_newline?(this._output.add_new_line(),v=!0):(this.eatWhitespace(),m++,this.indent())}else if(")"===this._ch)m&&(m--,this.outdent()),v&&";"===this._input.peek()&&this._options.selector_separator_newline&&(v=!1,this.outdent(),this._output.add_new_line()),this.print_string(this._ch);else if(","===this._ch)this.print_string(this._ch),this.eatWhitespace(!0),!this._options.selector_separator_newline||g&&!v||0!==m||y?this._output.space_before_token=!0:this._output.add_new_line();else if(">"!==this._ch&&"+"!==this._ch&&"~"!==this._ch||g||0!==m)if("]"===this._ch)this.print_string(this._ch);else if("["===this._ch)this.preserveSingleSpace(r),this.print_string(this._ch);else if("="===this._ch)this.eatWhitespace(),this.print_string("="),l.test(this._ch)&&(this._ch="");else if("!"!==this._ch||this._input.lookBack("\\")){var D='"'===u||"'"===u;this.preserveSingleSpace(D||r),this.print_string(this._ch),!this._output.just_added_newline()&&"\n"===this._input.peek()&&x&&this._output.add_new_line()}else this._output.space_before_token=!0,this.print_string(this._ch);else this._options.space_around_combinator?(this._output.space_before_token=!0,this.print_string(this._ch),this._output.space_before_token=!0):(this.print_string(this._ch),this.eatWhitespace(),this._ch&&l.test(this._ch)&&(this._ch=""));return this._output.get_code(t)},e.exports.Beautifier=u},function(e,t,n){var r=n(6).Options;function i(e){r.call(this,e,"css"),this.selector_separator_newline=this._get_boolean("selector_separator_newline",!0),this.newline_between_rules=this._get_boolean("newline_between_rules",!0);var t=this._get_boolean("space_around_selector_separator");this.space_around_combinator=this._get_boolean("space_around_combinator")||t;var n=this._get_selection_list("brace_style",["collapse","expand","end-expand","none","preserve-inline"]);this.brace_style="collapse";for(var i=0;i<n.length;i++)"expand"!==n[i]?this.brace_style="collapse":this.brace_style=n[i]}i.prototype=new r,e.exports.Options=i}],t={},n=function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}(15);Xo=n}();var Yo=Xo;function Qo(e,t,n){let r=e.getText(),i=!0,o=0,s=!1;const a=n.tabSize||4;if(t){let a=e.offsetAt(t.start),c=a;for(;c>0&&is(r,c-1);)c--;0===c||rs(r,c-1)?a=c:c<a&&(a=c+1);let l=e.offsetAt(t.end),d=l;for(;d<r.length&&is(r,d);)d++;if((d===r.length||rs(r,d))&&(l=d),t=Ot.create(e.positionAt(a),e.positionAt(l)),s=function(e,t){for(;t>=0;){const n=e.charCodeAt(t);if(n===es)return!0;if(n===ts)return!1;t--}return!1}(r,a),i=l===r.length,r=r.substring(a,l),0!==a){const r=e.offsetAt(Mt.create(t.start.line,0));o=function(e,t,n){let r=t,i=0;const o=n.tabSize||4;for(;r<e.length;){const t=e.charAt(r);if(" "===t)i++;else{if("\t"!==t)break;i+=o}r++}return Math.floor(i/o)}(e.getText(),r,n)}s&&(r=`{\n${Zo(r)}`)}else t=Ot.create(Mt.create(0,0),e.positionAt(r.length));const c={indent_size:a,indent_char:n.insertSpaces?" ":"\t",end_with_newline:i&&ns(n,"insertFinalNewline",!1),selector_separator_newline:ns(n,"newlineBetweenSelectors",!0),newline_between_rules:ns(n,"newlineBetweenRules",!0),space_around_selector_separator:ns(n,"spaceAroundSelectorSeparator",!1),brace_style:ns(n,"braceStyle","collapse"),indent_empty_lines:ns(n,"indentEmptyLines",!1),max_preserve_newlines:ns(n,"maxPreserveNewLines",void 0),preserve_newlines:ns(n,"preserveNewLines",!0),wrap_line_length:ns(n,"wrapLineLength",void 0),eol:"\n"};let l=Yo(r,c);if(s&&(l=Zo(l.substring(2))),o>0){const e=n.insertSpaces?ee(" ",a*o):ee("\t",o);l=l.split("\n").join("\n"+e),0===t.start.character&&(l=e+l)}return[{range:t,newText:l}]}function Zo(e){return e.replace(/^\s+/,"")}const es="{".charCodeAt(0),ts="}".charCodeAt(0);function ns(e,t,n){if(e&&e.hasOwnProperty(t)){const n=e[t];if(null!==n)return n}return n}function rs(e,t){return-1!=="\r\n".indexOf(e.charAt(t))}function is(e,t){return-1!==" \t".indexOf(e.charAt(t))}const os={version:1.1,properties:[{name:"additive-symbols",browsers:["FF33"],atRule:"@counter-style",syntax:"[ <integer> && <symbol> ]#",relevance:50,description:"@counter-style descriptor. Specifies the symbols used by the marker-construction algorithm specified by the system descriptor. Needs to be specified if the counter system is 'additive'.",restrictions:["integer","string","image","identifier"]},{name:"align-content",browsers:["E12","FF28","S9","C29","IE11","O16"],values:[{name:"center",description:"Lines are packed toward the center of the flex container."},{name:"flex-end",description:"Lines are packed toward the end of the flex container."},{name:"flex-start",description:"Lines are packed toward the start of the flex container."},{name:"space-around",description:"Lines are evenly distributed in the flex container, with half-size spaces on either end."},{name:"space-between",description:"Lines are evenly distributed in the flex container."},{name:"stretch",description:"Lines stretch to take up the remaining space."},{name:"start"},{name:"end"},{name:"normal"},{name:"baseline"},{name:"first baseline"},{name:"last baseline"},{name:"space-around"},{name:"space-between"},{name:"space-evenly"},{name:"stretch"},{name:"safe"},{name:"unsafe"}],syntax:"normal | <baseline-position> | <content-distribution> | <overflow-position>? <content-position>",relevance:66,references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/CSS/align-content"}],description:"Aligns a flex container's lines within the flex container when there is extra space in the cross-axis, similar to how 'justify-content' aligns individual items within the main-axis.",restrictions:["enum"]},{name:"align-items",browsers:["E12","FF20","S9","C29","IE11","O16"],values:[{name:"baseline",description:"If the flex item's inline axis is the same as the cross axis, this value is identical to 'flex-start'. Otherwise, it participates in baseline alignment."},{name:"center",description:"The flex item's margin box is centered in the cross axis within the line."},{name:"flex-end",description:"The cross-end margin edge of the flex item is placed flush with the cross-end edge of the line."},{name:"flex-start",description:"The cross-start margin edge of the flex item is placed flush with the cross-start edge of the line."},{name:"stretch",description:"If the cross size property of the flex item computes to auto, and neither of the cross-axis margins are auto, the flex item is stretched."},{name:"normal"},{name:"start"},{name:"end"},{name:"self-start"},{name:"self-end"},{name:"first baseline"},{name:"last baseline"},{name:"stretch"},{name:"safe"},{name:"unsafe"}],syntax:"normal | stretch | <baseline-position> | [ <overflow-position>? <self-position> ]",relevance:87,references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/CSS/align-items"}],description:"Aligns flex items along the cross axis of the current line of the flex container.",restrictions:["enum"]},{name:"justify-items",browsers:["E12","FF20","S9","C52","IE1